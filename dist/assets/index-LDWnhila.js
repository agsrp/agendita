(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function T0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ep={exports:{}},pu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rT;function PR(){if(rT)return pu;rT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:n,type:a,key:c,ref:o!==void 0?o:null,props:u}}return pu.Fragment=e,pu.jsx=t,pu.jsxs=t,pu}var iT;function jR(){return iT||(iT=1,ep.exports=PR()),ep.exports}var v=jR(),tp={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aT;function VR(){if(aT)return Ne;aT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,z={};function U(M,Z,ae){this.props=M,this.context=Z,this.refs=z,this.updater=ae||N}U.prototype.isReactComponent={},U.prototype.setState=function(M,Z){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Z,"setState")},U.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function $(){}$.prototype=U.prototype;function X(M,Z,ae){this.props=M,this.context=Z,this.refs=z,this.updater=ae||N}var ie=X.prototype=new $;ie.constructor=X,j(ie,U.prototype),ie.isPureReactComponent=!0;var ce=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},me=Object.prototype.hasOwnProperty;function D(M,Z,ae,se,de,ke){return ae=ke.ref,{$$typeof:n,type:M,key:Z,ref:ae!==void 0?ae:null,props:ke}}function A(M,Z){return D(M.type,Z,void 0,void 0,void 0,M.props)}function I(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function P(M){var Z={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return Z[ae]})}var O=/\/+/g;function x(M,Z){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):Z.toString(36)}function R(){}function he(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(R,R):(M.status="pending",M.then(function(Z){M.status==="pending"&&(M.status="fulfilled",M.value=Z)},function(Z){M.status==="pending"&&(M.status="rejected",M.reason=Z)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Oe(M,Z,ae,se,de){var ke=typeof M;(ke==="undefined"||ke==="boolean")&&(M=null);var _e=!1;if(M===null)_e=!0;else switch(ke){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(M.$$typeof){case n:case e:_e=!0;break;case _:return _e=M._init,Oe(_e(M._payload),Z,ae,se,de)}}if(_e)return de=de(M),_e=se===""?"."+x(M,0):se,ce(de)?(ae="",_e!=null&&(ae=_e.replace(O,"$&/")+"/"),Oe(de,Z,ae,"",function(Nt){return Nt})):de!=null&&(I(de)&&(de=A(de,ae+(de.key==null||M&&M.key===de.key?"":(""+de.key).replace(O,"$&/")+"/")+_e)),Z.push(de)),1;_e=0;var pt=se===""?".":se+":";if(ce(M))for(var ze=0;ze<M.length;ze++)se=M[ze],ke=pt+x(se,ze),_e+=Oe(se,Z,ae,ke,de);else if(ze=w(M),typeof ze=="function")for(M=ze.call(M),ze=0;!(se=M.next()).done;)se=se.value,ke=pt+x(se,ze++),_e+=Oe(se,Z,ae,ke,de);else if(ke==="object"){if(typeof M.then=="function")return Oe(he(M),Z,ae,se,de);throw Z=String(M),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return _e}function K(M,Z,ae){if(M==null)return M;var se=[],de=0;return Oe(M,se,"","",function(ke){return Z.call(ae,ke,de++)}),se}function q(M){if(M._status===-1){var Z=M._result;Z=Z(),Z.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=Z)}if(M._status===1)return M._result.default;throw M._result}var le=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function ve(){}return Ne.Children={map:K,forEach:function(M,Z,ae){K(M,function(){Z.apply(this,arguments)},ae)},count:function(M){var Z=0;return K(M,function(){Z++}),Z},toArray:function(M){return K(M,function(Z){return Z})||[]},only:function(M){if(!I(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ne.Component=U,Ne.Fragment=t,Ne.Profiler=o,Ne.PureComponent=X,Ne.StrictMode=a,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(M){return oe.H.useMemoCache(M)}},Ne.cache=function(M){return function(){return M.apply(null,arguments)}},Ne.cloneElement=function(M,Z,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var se=j({},M.props),de=M.key,ke=void 0;if(Z!=null)for(_e in Z.ref!==void 0&&(ke=void 0),Z.key!==void 0&&(de=""+Z.key),Z)!me.call(Z,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&Z.ref===void 0||(se[_e]=Z[_e]);var _e=arguments.length-2;if(_e===1)se.children=ae;else if(1<_e){for(var pt=Array(_e),ze=0;ze<_e;ze++)pt[ze]=arguments[ze+2];se.children=pt}return D(M.type,de,void 0,void 0,ke,se)},Ne.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ne.createElement=function(M,Z,ae){var se,de={},ke=null;if(Z!=null)for(se in Z.key!==void 0&&(ke=""+Z.key),Z)me.call(Z,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(de[se]=Z[se]);var _e=arguments.length-2;if(_e===1)de.children=ae;else if(1<_e){for(var pt=Array(_e),ze=0;ze<_e;ze++)pt[ze]=arguments[ze+2];de.children=pt}if(M&&M.defaultProps)for(se in _e=M.defaultProps,_e)de[se]===void 0&&(de[se]=_e[se]);return D(M,ke,void 0,void 0,null,de)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(M){return{$$typeof:p,render:M}},Ne.isValidElement=I,Ne.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:q}},Ne.memo=function(M,Z){return{$$typeof:m,type:M,compare:Z===void 0?null:Z}},Ne.startTransition=function(M){var Z=oe.T,ae={};oe.T=ae;try{var se=M(),de=oe.S;de!==null&&de(ae,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ve,le)}catch(ke){le(ke)}finally{oe.T=Z}},Ne.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Ne.use=function(M){return oe.H.use(M)},Ne.useActionState=function(M,Z,ae){return oe.H.useActionState(M,Z,ae)},Ne.useCallback=function(M,Z){return oe.H.useCallback(M,Z)},Ne.useContext=function(M){return oe.H.useContext(M)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(M,Z){return oe.H.useDeferredValue(M,Z)},Ne.useEffect=function(M,Z,ae){var se=oe.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(M,Z)},Ne.useId=function(){return oe.H.useId()},Ne.useImperativeHandle=function(M,Z,ae){return oe.H.useImperativeHandle(M,Z,ae)},Ne.useInsertionEffect=function(M,Z){return oe.H.useInsertionEffect(M,Z)},Ne.useLayoutEffect=function(M,Z){return oe.H.useLayoutEffect(M,Z)},Ne.useMemo=function(M,Z){return oe.H.useMemo(M,Z)},Ne.useOptimistic=function(M,Z){return oe.H.useOptimistic(M,Z)},Ne.useReducer=function(M,Z,ae){return oe.H.useReducer(M,Z,ae)},Ne.useRef=function(M){return oe.H.useRef(M)},Ne.useState=function(M){return oe.H.useState(M)},Ne.useSyncExternalStore=function(M,Z,ae){return oe.H.useSyncExternalStore(M,Z,ae)},Ne.useTransition=function(){return oe.H.useTransition()},Ne.version="19.1.1",Ne}var sT;function Eg(){return sT||(sT=1,tp.exports=VR()),tp.exports}var V=Eg();const Ca=T0(V);var np={exports:{}},gu={},rp={exports:{}},ip={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT;function LR(){return oT||(oT=1,(function(n){function e(K,q){var le=K.length;K.push(q);e:for(;0<le;){var ve=le-1>>>1,M=K[ve];if(0<o(M,q))K[ve]=q,K[le]=M,le=ve;else break e}}function t(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var q=K[0],le=K.pop();if(le!==q){K[0]=le;e:for(var ve=0,M=K.length,Z=M>>>1;ve<Z;){var ae=2*(ve+1)-1,se=K[ae],de=ae+1,ke=K[de];if(0>o(se,le))de<M&&0>o(ke,se)?(K[ve]=ke,K[de]=le,ve=de):(K[ve]=se,K[ae]=le,ve=ae);else if(de<M&&0>o(ke,le))K[ve]=ke,K[de]=le,ve=de;else break e}}return q}function o(K,q){var le=K.sortIndex-q.sortIndex;return le!==0?le:K.id-q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,p=c.now();n.unstable_now=function(){return c.now()-p}}var g=[],m=[],_=1,b=null,w=3,N=!1,j=!1,z=!1,U=!1,$=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ce(K){for(var q=t(m);q!==null;){if(q.callback===null)a(m);else if(q.startTime<=K)a(m),q.sortIndex=q.expirationTime,e(g,q);else break;q=t(m)}}function oe(K){if(z=!1,ce(K),!j)if(t(g)!==null)j=!0,me||(me=!0,x());else{var q=t(m);q!==null&&Oe(oe,q.startTime-K)}}var me=!1,D=-1,A=5,I=-1;function P(){return U?!0:!(n.unstable_now()-I<A)}function O(){if(U=!1,me){var K=n.unstable_now();I=K;var q=!0;try{e:{j=!1,z&&(z=!1,X(D),D=-1),N=!0;var le=w;try{t:{for(ce(K),b=t(g);b!==null&&!(b.expirationTime>K&&P());){var ve=b.callback;if(typeof ve=="function"){b.callback=null,w=b.priorityLevel;var M=ve(b.expirationTime<=K);if(K=n.unstable_now(),typeof M=="function"){b.callback=M,ce(K),q=!0;break t}b===t(g)&&a(g),ce(K)}else a(g);b=t(g)}if(b!==null)q=!0;else{var Z=t(m);Z!==null&&Oe(oe,Z.startTime-K),q=!1}}break e}finally{b=null,w=le,N=!1}q=void 0}}finally{q?x():me=!1}}}var x;if(typeof ie=="function")x=function(){ie(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,he=R.port2;R.port1.onmessage=O,x=function(){he.postMessage(null)}}else x=function(){$(O,0)};function Oe(K,q){D=$(function(){K(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(K){switch(w){case 1:case 2:case 3:var q=3;break;default:q=w}var le=w;w=q;try{return K()}finally{w=le}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(K,q){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var le=w;w=K;try{return q()}finally{w=le}},n.unstable_scheduleCallback=function(K,q,le){var ve=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ve+le:ve):le=ve,K){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=le+M,K={id:_++,callback:q,priorityLevel:K,startTime:le,expirationTime:M,sortIndex:-1},le>ve?(K.sortIndex=le,e(m,K),t(g)===null&&K===t(m)&&(z?(X(D),D=-1):z=!0,Oe(oe,le-ve))):(K.sortIndex=M,e(g,K),j||N||(j=!0,me||(me=!0,x()))),K},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(K){var q=w;return function(){var le=w;w=q;try{return K.apply(this,arguments)}finally{w=le}}}})(ip)),ip}var lT;function UR(){return lT||(lT=1,rp.exports=LR()),rp.exports}var ap={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT;function BR(){if(uT)return fn;uT=1;var n=Eg();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,m,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:m,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,fn.createPortal=function(g,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(g,m,null,_)},fn.flushSync=function(g){var m=c.T,_=a.p;try{if(c.T=null,a.p=2,g)return g()}finally{c.T=m,a.p=_,a.d.f()}},fn.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(g,m))},fn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},fn.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var _=m.as,b=p(_,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,N=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?a.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:N}):_==="script"&&a.d.X(g,{crossOrigin:b,integrity:w,fetchPriority:N,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},fn.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=p(m.as,m.crossOrigin);a.d.M(g,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(g)},fn.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,b=p(_,m.crossOrigin);a.d.L(g,_,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},fn.preloadModule=function(g,m){if(typeof g=="string")if(m){var _=p(m.as,m.crossOrigin);a.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(g)},fn.requestFormReset=function(g){a.d.r(g)},fn.unstable_batchedUpdates=function(g,m){return g(m)},fn.useFormState=function(g,m,_){return c.H.useFormState(g,m,_)},fn.useFormStatus=function(){return c.H.useHostTransitionStatus()},fn.version="19.1.1",fn}var cT;function zR(){if(cT)return ap.exports;cT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ap.exports=BR(),ap.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function qR(){if(hT)return gu;hT=1;var n=UR(),e=Eg(),t=zR();function a(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function u(r){var i=r,s=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(s=i.return),r=i.return;while(r)}return i.tag===3?s:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function p(r){if(u(r)!==r)throw Error(a(188))}function g(r){var i=r.alternate;if(!i){if(i=u(r),i===null)throw Error(a(188));return i!==r?null:r}for(var s=r,l=i;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return p(f),r;if(d===l)return p(f),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=d;else{for(var T=!1,S=f.child;S;){if(S===s){T=!0,s=f,l=d;break}if(S===l){T=!0,l=f,s=d;break}S=S.sibling}if(!T){for(S=d.child;S;){if(S===s){T=!0,s=d,l=f;break}if(S===l){T=!0,l=d,s=f;break}S=S.sibling}if(!T)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?r:i}function m(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=m(r),i!==null)return i;r=r.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function x(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var R=Symbol.for("react.client.reference");function he(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===R?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case U:return"Profiler";case z:return"StrictMode";case oe:return"Suspense";case me:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case N:return"Portal";case ie:return(r.displayName||"Context")+".Provider";case X:return(r._context.displayName||"Context")+".Consumer";case ce:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return i=r.displayName||null,i!==null?i:he(r.type)||"Memo";case A:i=r._payload,r=r._init;try{return he(r(i))}catch{}}return null}var Oe=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ve=[],M=-1;function Z(r){return{current:r}}function ae(r){0>M||(r.current=ve[M],ve[M]=null,M--)}function se(r,i){M++,ve[M]=r.current,r.current=i}var de=Z(null),ke=Z(null),_e=Z(null),pt=Z(null);function ze(r,i){switch(se(_e,i),se(ke,r),se(de,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?NE(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=NE(i),r=OE(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ae(de),se(de,r)}function Nt(){ae(de),ae(ke),ae(_e)}function si(r){r.memoizedState!==null&&se(pt,r);var i=de.current,s=OE(i,r.type);i!==s&&(se(ke,r),se(de,s))}function Vr(r){ke.current===r&&(ae(de),ae(ke)),pt.current===r&&(ae(pt),cu._currentValue=le)}var mr=Object.prototype.hasOwnProperty,pr=n.unstable_scheduleCallback,it=n.unstable_cancelCallback,oi=n.unstable_shouldYield,Yt=n.unstable_requestPaint,Vt=n.unstable_now,Ha=n.unstable_getCurrentPriorityLevel,Et=n.unstable_ImmediatePriority,Ot=n.unstable_UserBlockingPriority,gr=n.unstable_NormalPriority,dl=n.unstable_LowPriority,Yi=n.unstable_IdlePriority,ml=n.log,li=n.unstable_setDisableYieldValue,Lr=null,$t=null;function Sn(r){if(typeof ml=="function"&&li(r),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(Lr,r)}catch{}}var Lt=Math.clz32?Math.clz32:Ks,$s=Math.log,Ga=Math.LN2;function Ks(r){return r>>>=0,r===0?32:31-($s(r)/Ga|0)|0}var vn=256,yr=4194304;function kn(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function _n(r,i,s){var l=r.pendingLanes;if(l===0)return 0;var f=0,d=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=kn(l):(T&=S,T!==0?f=kn(T):s||(s=S&~r,s!==0&&(f=kn(s))))):(S=l&~d,S!==0?f=kn(S):T!==0?f=kn(T):s||(s=l&~r,s!==0&&(f=kn(s)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:f}function vr(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Ur(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ya(){var r=vn;return vn<<=1,(vn&4194048)===0&&(vn=256),r}function _r(){var r=yr;return yr<<=1,(yr&62914560)===0&&(yr=4194304),r}function $i(r){for(var i=[],s=0;31>s;s++)i.push(r);return i}function ct(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ut(r,i,s,l,f,d){var T=r.pendingLanes;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=s,r.entangledLanes&=s,r.errorRecoveryDisabledLanes&=s,r.shellSuspendCounter=0;var S=r.entanglements,k=r.expirationTimes,G=r.hiddenUpdates;for(s=T&~s;0<s;){var J=31-Lt(s),te=1<<J;S[J]=0,k[J]=-1;var Y=G[J];if(Y!==null)for(G[J]=null,J=0;J<Y.length;J++){var Q=Y[J];Q!==null&&(Q.lane&=-536870913)}s&=~te}l!==0&&gt(r,l,0),d!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=d&~(T&~i))}function gt(r,i,s){r.pendingLanes|=i,r.suspendedLanes&=~i;var l=31-Lt(i);r.entangledLanes|=i,r.entanglements[l]=r.entanglements[l]|1073741824|s&4194090}function Mn(r,i){var s=r.entangledLanes|=i;for(r=r.entanglements;s;){var l=31-Lt(s),f=1<<l;f&i|r[l]&i&&(r[l]|=i),s&=~f}}function Qe(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ln(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Er(){var r=q.p;return r!==0?r:(r=window.event,r===void 0?32:XE(r.type))}function $a(r,i){var s=q.p;try{return q.p=r,i()}finally{q.p=s}}var Pn=Math.random().toString(36).slice(2),ht="__reactFiber$"+Pn,St="__reactProps$"+Pn,An="__reactContainer$"+Pn,Tr="__reactEvents$"+Pn,br="__reactListeners$"+Pn,Ka="__reactHandles$"+Pn,jn="__reactResources$"+Pn,Kn="__reactMarker$"+Pn;function ui(r){delete r[ht],delete r[St],delete r[Tr],delete r[br],delete r[Ka]}function Qn(r){var i=r[ht];if(i)return i;for(var s=r.parentNode;s;){if(i=s[An]||s[ht]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(r=jE(r);r!==null;){if(s=r[ht])return s;r=jE(r)}return i}r=s,s=r.parentNode}return null}function Wn(r){if(r=r[ht]||r[An]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function Re(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(a(33))}function Ye(r){var i=r[jn];return i||(i=r[jn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function De(r){r[Kn]=!0}var un=new Set,Bt={};function Rn(r,i){Xn(r,i),Xn(r+"Capture",i)}function Xn(r,i){for(Bt[r]=i,r=0;r<i.length;r++)un.add(i[r])}var ci=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Br={},Qs={};function od(r){return mr.call(Qs,r)?!0:mr.call(Br,r)?!1:ci.test(r)?Qs[r]=!0:(Br[r]=!0,!1)}function Qa(r,i,s){if(od(i))if(s===null)r.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+s)}}function Wa(r,i,s){if(s===null)r.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+s)}}function Zn(r,i,s,l){if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttributeNS(i,s,""+l)}}var Xa,Ws;function hi(r){if(Xa===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Xa=i&&i[1]||"",Ws=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xa+r+Ws}var Xs=!1;function Zs(r,i){if(!r||Xs)return"";Xs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var Y=Q}Reflect.construct(r,[],te)}else{try{te.call()}catch(Q){Y=Q}r.call(te.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(te=r())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),T=d[0],S=d[1];if(T&&S){var k=T.split(`
`),G=S.split(`
`);for(f=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===k.length||f===G.length)for(l=k.length-1,f=G.length-1;1<=l&&0<=f&&k[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(k[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||k[l]!==G[f]){var J=`
`+k[l].replace(" at new "," at ");return r.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",r.displayName)),J}while(1<=l&&0<=f);break}}}finally{Xs=!1,Error.prepareStackTrace=s}return(s=r?r.displayName||r.name:"")?hi(s):""}function ld(r){switch(r.tag){case 26:case 27:case 5:return hi(r.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return Zs(r.type,!1);case 11:return Zs(r.type.render,!1);case 1:return Zs(r.type,!0);case 31:return hi("Activity");default:return""}}function wr(r){try{var i="";do i+=ld(r),r=r.return;while(r);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function yt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ki(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Za(r){var i=Ki(r)?"checked":"value",s=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),l=""+r[i];if(!r.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,d=s.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,d.call(this,T)}}),Object.defineProperty(r,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Qi(r){r._valueTracker||(r._valueTracker=Za(r))}function Je(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return r&&(l=Ki(r)?r.checked?"true":"false":r.value),r=l,r!==s?(i.setValue(r),!0):!1}function fi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ja=/[\n"\\]/g;function Kt(r){return r.replace(Ja,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function pl(r,i,s,l,f,d,T,S){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),i!=null?T==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+yt(i)):r.value!==""+yt(i)&&(r.value=""+yt(i)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),i!=null?yl(r,T,yt(i)):s!=null?yl(r,T,yt(s)):l!=null&&r.removeAttribute("value"),f==null&&d!=null&&(r.defaultChecked=!!d),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+yt(S):r.removeAttribute("name")}function gl(r,i,s,l,f,d,T,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(r.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+yt(s):"",i=i!=null?""+yt(i):s,S||i===r.value||(r.value=i),r.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,r.checked=S?r.checked:!!l,r.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function yl(r,i,s){i==="number"&&fi(r.ownerDocument)===r||r.defaultValue===""+s||(r.defaultValue=""+s)}function Wi(r,i,s,l){if(r=r.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<r.length;s++)f=i.hasOwnProperty("$"+r[s].value),r[s].selected!==f&&(r[s].selected=f),f&&l&&(r[s].defaultSelected=!0)}else{for(s=""+yt(s),i=null,f=0;f<r.length;f++){if(r[f].value===s){r[f].selected=!0,l&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function uc(r,i,s){if(i!=null&&(i=""+yt(i),i!==r.value&&(r.value=i),s==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=s!=null?""+yt(s):""}function cc(r,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(Oe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=yt(i),r.defaultValue=s,l=r.textContent,l===s&&l!==""&&l!==null&&(r.value=l)}function Jn(r,i){if(i){var s=r.firstChild;if(s&&s===r.lastChild&&s.nodeType===3){s.nodeValue=i;return}}r.textContent=i}var di=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vl(r,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":l?r.setProperty(i,s):typeof s!="number"||s===0||di.has(i)?i==="float"?r.cssFloat=s:r[i]=(""+s).trim():r[i]=s+"px"}function _l(r,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(r=r.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&s[f]!==l&&vl(r,f,l)}else for(var d in i)i.hasOwnProperty(d)&&vl(r,d,i[d])}function Js(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sr(r){return fc.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var El=null;function Tl(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Xi=null,En=null;function dc(r){var i=Wn(r);if(i&&(r=i.stateNode)){var s=r[St]||null;e:switch(r=i.stateNode,i.type){case"input":if(pl(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=r;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Kt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==r&&l.form===r.form){var f=l[St]||null;if(!f)throw Error(a(90));pl(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===r.form&&Je(l)}break e;case"textarea":uc(r,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Wi(r,!!s.multiple,i,!1)}}}var es=!1;function ts(r,i,s){if(es)return r(i,s);es=!0;try{var l=r(i);return l}finally{if(es=!1,(Xi!==null||En!==null)&&(nh(),Xi&&(i=Xi,r=En,En=Xi=null,dc(i),r)))for(i=0;i<r.length;i++)dc(r[i])}}function Zi(r,i){var s=r.stateNode;if(s===null)return null;var l=s[St]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break e;default:r=!1}if(r)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mi=!1;if(Tn)try{var Ji={};Object.defineProperty(Ji,"passive",{get:function(){mi=!0}}),window.addEventListener("test",Ji,Ji),window.removeEventListener("test",Ji,Ji)}catch{mi=!1}var er=null,at=null,eo=null;function mc(){if(eo)return eo;var r,i=at,s=i.length,l,f="value"in er?er.value:er.textContent,d=f.length;for(r=0;r<s&&i[r]===f[r];r++);var T=s-r;for(l=1;l<=T&&i[s-l]===f[d-l];l++);return eo=f.slice(r,1<l?1-l:void 0)}function ns(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function rs(){return!0}function bl(){return!1}function zt(r){function i(s,l,f,d,T){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=T,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(s=r[S],this[S]=s?s(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?rs:bl,this.isPropagationStopped=bl,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),i}var cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=zt(cn),as=_({},cn,{view:0,detail:0}),ss=zt(as),to,os,zr,ls=_({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:io,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==zr&&(zr&&r.type==="mousemove"?(to=r.screenX-zr.screenX,os=r.screenY-zr.screenY):os=to=0,zr=r),to)},movementY:function(r){return"movementY"in r?r.movementY:os}}),us=zt(ls),ud=_({},ls,{dataTransfer:0}),pc=zt(ud),cs=_({},as,{relatedTarget:0}),no=zt(cs),gc=_({},cn,{animationName:0,elapsedTime:0,pseudoElement:0}),wl=zt(gc),Sl=_({},cn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),yc=zt(Sl),ro=_({},cn,{data:0}),Al=zt(ro),vc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_c={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ec(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=_c[r])?!!i[r]:!1}function io(){return Ec}var Tc=_({},as,{key:function(r){if(r.key){var i=vc[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=ns(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?pi[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:io,charCode:function(r){return r.type==="keypress"?ns(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ns(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ao=zt(Tc),bn=_({},ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rl=zt(bn),bc=_({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:io}),ea=zt(bc),h=_({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=zt(h),E=_({},ls,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),C=zt(E),H=_({},cn,{newState:0,oldState:0}),W=zt(H),ue=[9,13,27,32],xe=Tn&&"CompositionEvent"in window,ot=null;Tn&&"documentMode"in document&&(ot=document.documentMode);var We=Tn&&"TextEvent"in window&&!ot,At=Tn&&(!xe||ot&&8<ot&&11>=ot),Vn=" ",qr=!1;function Ar(r,i){switch(r){case"keyup":return ue.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rr(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Cr=!1;function Cl(r,i){switch(r){case"compositionend":return Rr(i);case"keypress":return i.which!==32?null:(qr=!0,Vn);case"textInput":return r=i.data,r===Vn&&qr?null:r;default:return null}}function lA(r,i){if(Cr)return r==="compositionend"||!xe&&Ar(r,i)?(r=mc(),eo=at=er=null,Cr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return At&&i.locale!=="ko"?null:i.data;default:return null}}var uA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gy(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!uA[r.type]:i==="textarea"}function Yy(r,i,s,l){Xi?En?En.push(l):En=[l]:Xi=l,i=lh(i,"onChange"),0<i.length&&(s=new is("onChange","change",null,s,l),r.push({event:s,listeners:i}))}var xl=null,Il=null;function cA(r){RE(r,0)}function wc(r){var i=Re(r);if(Je(i))return r}function $y(r,i){if(r==="change")return i}var Ky=!1;if(Tn){var cd;if(Tn){var hd="oninput"in document;if(!hd){var Qy=document.createElement("div");Qy.setAttribute("oninput","return;"),hd=typeof Qy.oninput=="function"}cd=hd}else cd=!1;Ky=cd&&(!document.documentMode||9<document.documentMode)}function Wy(){xl&&(xl.detachEvent("onpropertychange",Xy),Il=xl=null)}function Xy(r){if(r.propertyName==="value"&&wc(Il)){var i=[];Yy(i,Il,r,Tl(r)),ts(cA,i)}}function hA(r,i,s){r==="focusin"?(Wy(),xl=i,Il=s,xl.attachEvent("onpropertychange",Xy)):r==="focusout"&&Wy()}function fA(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return wc(Il)}function dA(r,i){if(r==="click")return wc(i)}function mA(r,i){if(r==="input"||r==="change")return wc(i)}function pA(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Ln=typeof Object.is=="function"?Object.is:pA;function Dl(r,i){if(Ln(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var s=Object.keys(r),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!mr.call(i,f)||!Ln(r[f],i[f]))return!1}return!0}function Zy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Jy(r,i){var s=Zy(r);r=0;for(var l;s;){if(s.nodeType===3){if(l=r+s.textContent.length,r<=i&&l>=i)return{node:s,offset:i-r};r=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Zy(s)}}function ev(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?ev(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function tv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=fi(r.document);i instanceof r.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)r=i.contentWindow;else break;i=fi(r.document)}return i}function fd(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var gA=Tn&&"documentMode"in document&&11>=document.documentMode,so=null,dd=null,Nl=null,md=!1;function nv(r,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;md||so==null||so!==fi(l)||(l=so,"selectionStart"in l&&fd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Nl&&Dl(Nl,l)||(Nl=l,l=lh(dd,"onSelect"),0<l.length&&(i=new is("onSelect","select",null,i,s),r.push({event:i,listeners:l}),i.target=so)))}function hs(r,i){var s={};return s[r.toLowerCase()]=i.toLowerCase(),s["Webkit"+r]="webkit"+i,s["Moz"+r]="moz"+i,s}var oo={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionrun:hs("Transition","TransitionRun"),transitionstart:hs("Transition","TransitionStart"),transitioncancel:hs("Transition","TransitionCancel"),transitionend:hs("Transition","TransitionEnd")},pd={},rv={};Tn&&(rv=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function fs(r){if(pd[r])return pd[r];if(!oo[r])return r;var i=oo[r],s;for(s in i)if(i.hasOwnProperty(s)&&s in rv)return pd[r]=i[s];return r}var iv=fs("animationend"),av=fs("animationiteration"),sv=fs("animationstart"),yA=fs("transitionrun"),vA=fs("transitionstart"),_A=fs("transitioncancel"),ov=fs("transitionend"),lv=new Map,gd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gd.push("scrollEnd");function xr(r,i){lv.set(r,i),Rn(i,[r])}var uv=new WeakMap;function tr(r,i){if(typeof r=="object"&&r!==null){var s=uv.get(r);return s!==void 0?s:(i={value:r,source:i,stack:wr(i)},uv.set(r,i),i)}return{value:r,source:i,stack:wr(i)}}var nr=[],lo=0,yd=0;function Sc(){for(var r=lo,i=yd=lo=0;i<r;){var s=nr[i];nr[i++]=null;var l=nr[i];nr[i++]=null;var f=nr[i];nr[i++]=null;var d=nr[i];if(nr[i++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}d!==0&&cv(s,f,d)}}function Ac(r,i,s,l){nr[lo++]=r,nr[lo++]=i,nr[lo++]=s,nr[lo++]=l,yd|=l,r.lanes|=l,r=r.alternate,r!==null&&(r.lanes|=l)}function vd(r,i,s,l){return Ac(r,i,s,l),Rc(r)}function uo(r,i){return Ac(r,null,null,i),Rc(r)}function cv(r,i,s){r.lanes|=s;var l=r.alternate;l!==null&&(l.lanes|=s);for(var f=!1,d=r.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(r=d.stateNode,r===null||r._visibility&1||(f=!0)),r=d,d=d.return;return r.tag===3?(d=r.stateNode,f&&i!==null&&(f=31-Lt(s),r=d.hiddenUpdates,l=r[f],l===null?r[f]=[i]:l.push(i),i.lane=s|536870912),d):null}function Rc(r){if(50<nu)throw nu=0,Sm=null,Error(a(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var co={};function EA(r,i,s,l){this.tag=r,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(r,i,s,l){return new EA(r,i,s,l)}function _d(r){return r=r.prototype,!(!r||!r.isReactComponent)}function gi(r,i){var s=r.alternate;return s===null?(s=Un(r.tag,i,r.key,r.mode),s.elementType=r.elementType,s.type=r.type,s.stateNode=r.stateNode,s.alternate=r,r.alternate=s):(s.pendingProps=i,s.type=r.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=r.flags&65011712,s.childLanes=r.childLanes,s.lanes=r.lanes,s.child=r.child,s.memoizedProps=r.memoizedProps,s.memoizedState=r.memoizedState,s.updateQueue=r.updateQueue,i=r.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=r.sibling,s.index=r.index,s.ref=r.ref,s.refCleanup=r.refCleanup,s}function hv(r,i){r.flags&=65011714;var s=r.alternate;return s===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,r.type=s.type,i=s.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Cc(r,i,s,l,f,d){var T=0;if(l=r,typeof r=="function")_d(r)&&(T=1);else if(typeof r=="string")T=bR(r,s,de.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=Un(31,s,i,f),r.elementType=I,r.lanes=d,r;case j:return ds(s.children,f,d,i);case z:T=8,f|=24;break;case U:return r=Un(12,s,i,f|2),r.elementType=U,r.lanes=d,r;case oe:return r=Un(13,s,i,f),r.elementType=oe,r.lanes=d,r;case me:return r=Un(19,s,i,f),r.elementType=me,r.lanes=d,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case $:case ie:T=10;break e;case X:T=9;break e;case ce:T=11;break e;case D:T=14;break e;case A:T=16,l=null;break e}T=29,s=Error(a(130,r===null?"null":typeof r,"")),l=null}return i=Un(T,s,i,f),i.elementType=r,i.type=l,i.lanes=d,i}function ds(r,i,s,l){return r=Un(7,r,l,i),r.lanes=s,r}function Ed(r,i,s){return r=Un(6,r,null,i),r.lanes=s,r}function Td(r,i,s){return i=Un(4,r.children!==null?r.children:[],r.key,i),i.lanes=s,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var ho=[],fo=0,xc=null,Ic=0,rr=[],ir=0,ms=null,yi=1,vi="";function ps(r,i){ho[fo++]=Ic,ho[fo++]=xc,xc=r,Ic=i}function fv(r,i,s){rr[ir++]=yi,rr[ir++]=vi,rr[ir++]=ms,ms=r;var l=yi;r=vi;var f=32-Lt(l)-1;l&=~(1<<f),s+=1;var d=32-Lt(i)+f;if(30<d){var T=f-f%5;d=(l&(1<<T)-1).toString(32),l>>=T,f-=T,yi=1<<32-Lt(i)+f|s<<f|l,vi=d+r}else yi=1<<d|s<<f|l,vi=r}function bd(r){r.return!==null&&(ps(r,1),fv(r,1,0))}function wd(r){for(;r===xc;)xc=ho[--fo],ho[fo]=null,Ic=ho[--fo],ho[fo]=null;for(;r===ms;)ms=rr[--ir],rr[ir]=null,vi=rr[--ir],rr[ir]=null,yi=rr[--ir],rr[ir]=null}var wn=null,Tt=null,$e=!1,gs=null,Fr=!1,Sd=Error(a(519));function ys(r){var i=Error(a(418,""));throw Ml(tr(i,r)),Sd}function dv(r){var i=r.stateNode,s=r.type,l=r.memoizedProps;switch(i[ht]=r,i[St]=l,s){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(s=0;s<iu.length;s++)Ve(iu[s],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),gl(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Qi(i);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),cc(i,l.value,l.defaultValue,l.children),Qi(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||DE(i.textContent,s)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=uh),i=!0):i=!1,i||ys(r)}function mv(r){for(wn=r.return;wn;)switch(wn.tag){case 5:case 13:Fr=!1;return;case 27:case 3:Fr=!0;return;default:wn=wn.return}}function Ol(r){if(r!==wn)return!1;if(!$e)return mv(r),$e=!0,!1;var i=r.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=r.type,s=!(s!=="form"&&s!=="button")||Bm(r.type,r.memoizedProps)),s=!s),s&&Tt&&ys(r),mv(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(s=r.data,s==="/$"){if(i===0){Tt=Dr(r.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;r=r.nextSibling}Tt=null}}else i===27?(i=Tt,ga(r.type)?(r=Hm,Hm=null,Tt=r):Tt=i):Tt=wn?Dr(r.stateNode.nextSibling):null;return!0}function kl(){Tt=wn=null,$e=!1}function pv(){var r=gs;return r!==null&&(In===null?In=r:In.push.apply(In,r),gs=null),r}function Ml(r){gs===null?gs=[r]:gs.push(r)}var Ad=Z(null),vs=null,_i=null;function ta(r,i,s){se(Ad,i._currentValue),i._currentValue=s}function Ei(r){r._currentValue=Ad.current,ae(Ad)}function Rd(r,i,s){for(;r!==null;){var l=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),r===s)break;r=r.return}}function Cd(r,i,s,l){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var d=f.dependencies;if(d!==null){var T=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var k=0;k<i.length;k++)if(S.context===i[k]){d.lanes|=s,S=d.alternate,S!==null&&(S.lanes|=s),Rd(d.return,s,r),l||(T=null);break e}d=S.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=s,d=T.alternate,d!==null&&(d.lanes|=s),Rd(T,s,r),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===r){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Pl(r,i,s,l){r=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var S=f.type;Ln(f.pendingProps.value,T.value)||(r!==null?r.push(S):r=[S])}}else if(f===pt.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(cu):r=[cu])}f=f.return}r!==null&&Cd(i,r,s,l),i.flags|=262144}function Dc(r){for(r=r.firstContext;r!==null;){if(!Ln(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function _s(r){vs=r,_i=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function hn(r){return gv(vs,r)}function Nc(r,i){return vs===null&&_s(r),gv(r,i)}function gv(r,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},_i===null){if(r===null)throw Error(a(308));_i=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else _i=_i.next=i;return s}var TA=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(s,l){r.push(l)}};this.abort=function(){i.aborted=!0,r.forEach(function(s){return s()})}},bA=n.unstable_scheduleCallback,wA=n.unstable_NormalPriority,qt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xd(){return{controller:new TA,data:new Map,refCount:0}}function jl(r){r.refCount--,r.refCount===0&&bA(wA,function(){r.controller.abort()})}var Vl=null,Id=0,mo=0,po=null;function SA(r,i){if(Vl===null){var s=Vl=[];Id=0,mo=Nm(),po={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Id++,i.then(yv,yv),i}function yv(){if(--Id===0&&Vl!==null){po!==null&&(po.status="fulfilled");var r=Vl;Vl=null,mo=0,po=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function AA(r,i){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return r.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var vv=K.S;K.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&SA(r,i),vv!==null&&vv(r,i)};var Es=Z(null);function Dd(){var r=Es.current;return r!==null?r:st.pooledCache}function Oc(r,i){i===null?se(Es,Es.current):se(Es,i.pool)}function _v(){var r=Dd();return r===null?null:{parent:qt._currentValue,pool:r}}var Ll=Error(a(460)),Ev=Error(a(474)),kc=Error(a(542)),Nd={then:function(){}};function Tv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Mc(){}function bv(r,i,s){switch(s=r[s],s===void 0?r.push(i):s!==i&&(i.then(Mc,Mc),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Sv(r),r;default:if(typeof i.status=="string")i.then(Mc,Mc);else{if(r=st,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=i,r.status="pending",r.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Sv(r),r}throw Ul=i,Ll}}var Ul=null;function wv(){if(Ul===null)throw Error(a(459));var r=Ul;return Ul=null,r}function Sv(r){if(r===Ll||r===kc)throw Error(a(483))}var na=!1;function Od(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kd(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ra(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ia(r,i,s){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,(Xe&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=Rc(r),cv(r,null,s),i}return Ac(r,l,i,s),Rc(r)}function Bl(r,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=r.pendingLanes,s|=l,i.lanes=s,Mn(r,s)}}function Md(r,i){var s=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=T:d=d.next=T,s=s.next}while(s!==null);d===null?f=d=i:d=d.next=i}else f=d=i;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},r.updateQueue=s;return}r=s.lastBaseUpdate,r===null?s.firstBaseUpdate=i:r.next=i,s.lastBaseUpdate=i}var Pd=!1;function zl(){if(Pd){var r=po;if(r!==null)throw r}}function ql(r,i,s,l){Pd=!1;var f=r.updateQueue;na=!1;var d=f.firstBaseUpdate,T=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var k=S,G=k.next;k.next=null,T===null?d=G:T.next=G,T=k;var J=r.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==T&&(S===null?J.firstBaseUpdate=G:S.next=G,J.lastBaseUpdate=k))}if(d!==null){var te=f.baseState;T=0,J=G=k=null,S=d;do{var Y=S.lane&-536870913,Q=Y!==S.lane;if(Q?(qe&Y)===Y:(l&Y)===Y){Y!==0&&Y===mo&&(Pd=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ae=r,Te=S;Y=i;var nt=s;switch(Te.tag){case 1:if(Ae=Te.payload,typeof Ae=="function"){te=Ae.call(nt,te,Y);break e}te=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Te.payload,Y=typeof Ae=="function"?Ae.call(nt,te,Y):Ae,Y==null)break e;te=_({},te,Y);break e;case 2:na=!0}}Y=S.callback,Y!==null&&(r.flags|=64,Q&&(r.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(G=J=Q,k=te):J=J.next=Q,T|=Y;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);J===null&&(k=te),f.baseState=k,f.firstBaseUpdate=G,f.lastBaseUpdate=J,d===null&&(f.shared.lanes=0),fa|=T,r.lanes=T,r.memoizedState=te}}function Av(r,i){if(typeof r!="function")throw Error(a(191,r));r.call(i)}function Rv(r,i){var s=r.callbacks;if(s!==null)for(r.callbacks=null,r=0;r<s.length;r++)Av(s[r],i)}var go=Z(null),Pc=Z(0);function Cv(r,i){r=Ci,se(Pc,r),se(go,i),Ci=r|i.baseLanes}function jd(){se(Pc,Ci),se(go,go.current)}function Vd(){Ci=Pc.current,ae(go),ae(Pc)}var aa=0,Me=null,et=null,kt=null,jc=!1,yo=!1,Ts=!1,Vc=0,Fl=0,vo=null,RA=0;function Rt(){throw Error(a(321))}function Ld(r,i){if(i===null)return!1;for(var s=0;s<i.length&&s<r.length;s++)if(!Ln(r[s],i[s]))return!1;return!0}function Ud(r,i,s,l,f,d){return aa=d,Me=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=r===null||r.memoizedState===null?c_:h_,Ts=!1,d=s(l,f),Ts=!1,yo&&(d=Iv(i,s,l,f)),xv(r),d}function xv(r){K.H=Fc;var i=et!==null&&et.next!==null;if(aa=0,kt=et=Me=null,jc=!1,Fl=0,vo=null,i)throw Error(a(300));r===null||Qt||(r=r.dependencies,r!==null&&Dc(r)&&(Qt=!0))}function Iv(r,i,s,l){Me=r;var f=0;do{if(yo&&(vo=null),Fl=0,yo=!1,25<=f)throw Error(a(301));if(f+=1,kt=et=null,r.updateQueue!=null){var d=r.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=kA,d=i(s,l)}while(yo);return d}function CA(){var r=K.H,i=r.useState()[0];return i=typeof i.then=="function"?Hl(i):i,r=r.useState()[0],(et!==null?et.memoizedState:null)!==r&&(Me.flags|=1024),i}function Bd(){var r=Vc!==0;return Vc=0,r}function zd(r,i,s){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~s}function qd(r){if(jc){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jc=!1}aa=0,kt=et=Me=null,yo=!1,Fl=Vc=0,vo=null}function Cn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Me.memoizedState=kt=r:kt=kt.next=r,kt}function Mt(){if(et===null){var r=Me.alternate;r=r!==null?r.memoizedState:null}else r=et.next;var i=kt===null?Me.memoizedState:kt.next;if(i!==null)kt=i,et=r;else{if(r===null)throw Me.alternate===null?Error(a(467)):Error(a(310));et=r,r={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},kt===null?Me.memoizedState=kt=r:kt=kt.next=r}return kt}function Fd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(r){var i=Fl;return Fl+=1,vo===null&&(vo=[]),r=bv(vo,r,i),i=Me,(kt===null?i.memoizedState:kt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?c_:h_),r}function Lc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Hl(r);if(r.$$typeof===ie)return hn(r)}throw Error(a(438,String(r)))}function Hd(r){var i=null,s=Me.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Fd(),Me.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(r),l=0;l<r;l++)s[l]=P;return i.index++,s}function Ti(r,i){return typeof i=="function"?i(r):i}function Uc(r){var i=Mt();return Gd(i,et,r)}function Gd(r,i,s){var l=r.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=r.baseQueue,d=l.pending;if(d!==null){if(f!==null){var T=f.next;f.next=d.next,d.next=T}i.baseQueue=f=d,l.pending=null}if(d=r.baseState,f===null)r.memoizedState=d;else{i=f.next;var S=T=null,k=null,G=i,J=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(qe&te)===te:(aa&te)===te){var Y=G.revertLane;if(Y===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===mo&&(J=!0);else if((aa&Y)===Y){G=G.next,Y===mo&&(J=!0);continue}else te={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},k===null?(S=k=te,T=d):k=k.next=te,Me.lanes|=Y,fa|=Y;te=G.action,Ts&&s(d,te),d=G.hasEagerState?G.eagerState:s(d,te)}else Y={lane:te,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},k===null?(S=k=Y,T=d):k=k.next=Y,Me.lanes|=te,fa|=te;G=G.next}while(G!==null&&G!==i);if(k===null?T=d:k.next=S,!Ln(d,r.memoizedState)&&(Qt=!0,J&&(s=po,s!==null)))throw s;r.memoizedState=d,r.baseState=T,r.baseQueue=k,l.lastRenderedState=d}return f===null&&(l.lanes=0),[r.memoizedState,l.dispatch]}function Yd(r){var i=Mt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=r;var l=s.dispatch,f=s.pending,d=i.memoizedState;if(f!==null){s.pending=null;var T=f=f.next;do d=r(d,T.action),T=T.next;while(T!==f);Ln(d,i.memoizedState)||(Qt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function Dv(r,i,s){var l=Me,f=Mt(),d=$e;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var T=!Ln((et||f).memoizedState,s);T&&(f.memoizedState=s,Qt=!0),f=f.queue;var S=kv.bind(null,l,f,r);if(Gl(2048,8,S,[r]),f.getSnapshot!==i||T||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,_o(9,Bc(),Ov.bind(null,l,f,s,i),null),st===null)throw Error(a(349));d||(aa&124)!==0||Nv(l,i,s)}return s}function Nv(r,i,s){r.flags|=16384,r={getSnapshot:i,value:s},i=Me.updateQueue,i===null?(i=Fd(),Me.updateQueue=i,i.stores=[r]):(s=i.stores,s===null?i.stores=[r]:s.push(r))}function Ov(r,i,s,l){i.value=s,i.getSnapshot=l,Mv(i)&&Pv(r)}function kv(r,i,s){return s(function(){Mv(i)&&Pv(r)})}function Mv(r){var i=r.getSnapshot;r=r.value;try{var s=i();return!Ln(r,s)}catch{return!0}}function Pv(r){var i=uo(r,2);i!==null&&Hn(i,r,2)}function $d(r){var i=Cn();if(typeof r=="function"){var s=r;if(r=s(),Ts){Sn(!0);try{s()}finally{Sn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:r},i}function jv(r,i,s,l){return r.baseState=s,Gd(r,et,typeof l=="function"?l:Ti)}function xA(r,i,s,l,f){if(qc(r))throw Error(a(485));if(r=i.action,r!==null){var d={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){d.listeners.push(T)}};K.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,Vv(i,d)):(d.next=s.next,i.pending=s.next=d)}}function Vv(r,i){var s=i.action,l=i.payload,f=r.state;if(i.isTransition){var d=K.T,T={};K.T=T;try{var S=s(f,l),k=K.S;k!==null&&k(T,S),Lv(r,i,S)}catch(G){Kd(r,i,G)}finally{K.T=d}}else try{d=s(f,l),Lv(r,i,d)}catch(G){Kd(r,i,G)}}function Lv(r,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Uv(r,i,l)},function(l){return Kd(r,i,l)}):Uv(r,i,s)}function Uv(r,i,s){i.status="fulfilled",i.value=s,Bv(i),r.state=s,i=r.pending,i!==null&&(s=i.next,s===i?r.pending=null:(s=s.next,i.next=s,Vv(r,s)))}function Kd(r,i,s){var l=r.pending;if(r.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Bv(i),i=i.next;while(i!==l)}r.action=null}function Bv(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function zv(r,i){return i}function qv(r,i){if($e){var s=st.formState;if(s!==null){e:{var l=Me;if($e){if(Tt){t:{for(var f=Tt,d=Fr;f.nodeType!==8;){if(!d){f=null;break t}if(f=Dr(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Tt=Dr(f.nextSibling),l=f.data==="F!";break e}}ys(l)}l=!1}l&&(i=s[0])}}return s=Cn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zv,lastRenderedState:i},s.queue=l,s=o_.bind(null,Me,l),l.dispatch=s,l=$d(!1),d=Jd.bind(null,Me,!1,l.queue),l=Cn(),f={state:i,dispatch:null,action:r,pending:null},l.queue=f,s=xA.bind(null,Me,f,d,s),f.dispatch=s,l.memoizedState=r,[i,s,!1]}function Fv(r){var i=Mt();return Hv(i,et,r)}function Hv(r,i,s){if(i=Gd(r,i,zv)[0],r=Uc(Ti)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Hl(i)}catch(T){throw T===Ll?kc:T}else l=i;i=Mt();var f=i.queue,d=f.dispatch;return s!==i.memoizedState&&(Me.flags|=2048,_o(9,Bc(),IA.bind(null,f,s),null)),[l,d,r]}function IA(r,i){r.action=i}function Gv(r){var i=Mt(),s=et;if(s!==null)return Hv(i,s,r);Mt(),i=i.memoizedState,s=Mt();var l=s.queue.dispatch;return s.memoizedState=r,[i,l,!1]}function _o(r,i,s,l){return r={tag:r,create:s,deps:l,inst:i,next:null},i=Me.updateQueue,i===null&&(i=Fd(),Me.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=r.next=r:(l=s.next,s.next=r,r.next=l,i.lastEffect=r),r}function Bc(){return{destroy:void 0,resource:void 0}}function Yv(){return Mt().memoizedState}function zc(r,i,s,l){var f=Cn();l=l===void 0?null:l,Me.flags|=r,f.memoizedState=_o(1|i,Bc(),s,l)}function Gl(r,i,s,l){var f=Mt();l=l===void 0?null:l;var d=f.memoizedState.inst;et!==null&&l!==null&&Ld(l,et.memoizedState.deps)?f.memoizedState=_o(i,d,s,l):(Me.flags|=r,f.memoizedState=_o(1|i,d,s,l))}function $v(r,i){zc(8390656,8,r,i)}function Kv(r,i){Gl(2048,8,r,i)}function Qv(r,i){return Gl(4,2,r,i)}function Wv(r,i){return Gl(4,4,r,i)}function Xv(r,i){if(typeof i=="function"){r=r();var s=i(r);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Zv(r,i,s){s=s!=null?s.concat([r]):null,Gl(4,4,Xv.bind(null,i,r),s)}function Qd(){}function Jv(r,i){var s=Mt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Ld(i,l[1])?l[0]:(s.memoizedState=[r,i],r)}function e_(r,i){var s=Mt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Ld(i,l[1]))return l[0];if(l=r(),Ts){Sn(!0);try{r()}finally{Sn(!1)}}return s.memoizedState=[l,i],l}function Wd(r,i,s){return s===void 0||(aa&1073741824)!==0?r.memoizedState=i:(r.memoizedState=s,r=rE(),Me.lanes|=r,fa|=r,s)}function t_(r,i,s,l){return Ln(s,i)?s:go.current!==null?(r=Wd(r,s,l),Ln(r,i)||(Qt=!0),r):(aa&42)===0?(Qt=!0,r.memoizedState=s):(r=rE(),Me.lanes|=r,fa|=r,i)}function n_(r,i,s,l,f){var d=q.p;q.p=d!==0&&8>d?d:8;var T=K.T,S={};K.T=S,Jd(r,!1,i,s);try{var k=f(),G=K.S;if(G!==null&&G(S,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var J=AA(k,l);Yl(r,i,J,Fn(r))}else Yl(r,i,l,Fn(r))}catch(te){Yl(r,i,{then:function(){},status:"rejected",reason:te},Fn())}finally{q.p=d,K.T=T}}function DA(){}function Xd(r,i,s,l){if(r.tag!==5)throw Error(a(476));var f=r_(r).queue;n_(r,f,i,le,s===null?DA:function(){return i_(r),s(l)})}function r_(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:le},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:s},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function i_(r){var i=r_(r).next.queue;Yl(r,i,{},Fn())}function Zd(){return hn(cu)}function a_(){return Mt().memoizedState}function s_(){return Mt().memoizedState}function NA(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var s=Fn();r=ra(s);var l=ia(i,r,s);l!==null&&(Hn(l,i,s),Bl(l,i,s)),i={cache:xd()},r.payload=i;return}i=i.return}}function OA(r,i,s){var l=Fn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},qc(r)?l_(i,s):(s=vd(r,i,s,l),s!==null&&(Hn(s,r,l),u_(s,i,l)))}function o_(r,i,s){var l=Fn();Yl(r,i,s,l)}function Yl(r,i,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(qc(r))l_(i,f);else{var d=r.alternate;if(r.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var T=i.lastRenderedState,S=d(T,s);if(f.hasEagerState=!0,f.eagerState=S,Ln(S,T))return Ac(r,i,f,0),st===null&&Sc(),!1}catch{}finally{}if(s=vd(r,i,f,l),s!==null)return Hn(s,r,l),u_(s,i,l),!0}return!1}function Jd(r,i,s,l){if(l={lane:2,revertLane:Nm(),action:l,hasEagerState:!1,eagerState:null,next:null},qc(r)){if(i)throw Error(a(479))}else i=vd(r,s,l,2),i!==null&&Hn(i,r,2)}function qc(r){var i=r.alternate;return r===Me||i!==null&&i===Me}function l_(r,i){yo=jc=!0;var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}function u_(r,i,s){if((s&4194048)!==0){var l=i.lanes;l&=r.pendingLanes,s|=l,i.lanes=s,Mn(r,s)}}var Fc={readContext:hn,use:Lc,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt},c_={readContext:hn,use:Lc,useCallback:function(r,i){return Cn().memoizedState=[r,i===void 0?null:i],r},useContext:hn,useEffect:$v,useImperativeHandle:function(r,i,s){s=s!=null?s.concat([r]):null,zc(4194308,4,Xv.bind(null,i,r),s)},useLayoutEffect:function(r,i){return zc(4194308,4,r,i)},useInsertionEffect:function(r,i){zc(4,2,r,i)},useMemo:function(r,i){var s=Cn();i=i===void 0?null:i;var l=r();if(Ts){Sn(!0);try{r()}finally{Sn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(r,i,s){var l=Cn();if(s!==void 0){var f=s(i);if(Ts){Sn(!0);try{s(i)}finally{Sn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},l.queue=r,r=r.dispatch=OA.bind(null,Me,r),[l.memoizedState,r]},useRef:function(r){var i=Cn();return r={current:r},i.memoizedState=r},useState:function(r){r=$d(r);var i=r.queue,s=o_.bind(null,Me,i);return i.dispatch=s,[r.memoizedState,s]},useDebugValue:Qd,useDeferredValue:function(r,i){var s=Cn();return Wd(s,r,i)},useTransition:function(){var r=$d(!1);return r=n_.bind(null,Me,r.queue,!0,!1),Cn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,s){var l=Me,f=Cn();if($e){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),st===null)throw Error(a(349));(qe&124)!==0||Nv(l,i,s)}f.memoizedState=s;var d={value:s,getSnapshot:i};return f.queue=d,$v(kv.bind(null,l,d,r),[r]),l.flags|=2048,_o(9,Bc(),Ov.bind(null,l,d,s,i),null),s},useId:function(){var r=Cn(),i=st.identifierPrefix;if($e){var s=vi,l=yi;s=(l&~(1<<32-Lt(l)-1)).toString(32)+s,i=""+i+"R"+s,s=Vc++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=RA++,i=""+i+"r"+s.toString(32)+"";return r.memoizedState=i},useHostTransitionStatus:Zd,useFormState:qv,useActionState:qv,useOptimistic:function(r){var i=Cn();i.memoizedState=i.baseState=r;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Jd.bind(null,Me,!0,s),s.dispatch=i,[r,i]},useMemoCache:Hd,useCacheRefresh:function(){return Cn().memoizedState=NA.bind(null,Me)}},h_={readContext:hn,use:Lc,useCallback:Jv,useContext:hn,useEffect:Kv,useImperativeHandle:Zv,useInsertionEffect:Qv,useLayoutEffect:Wv,useMemo:e_,useReducer:Uc,useRef:Yv,useState:function(){return Uc(Ti)},useDebugValue:Qd,useDeferredValue:function(r,i){var s=Mt();return t_(s,et.memoizedState,r,i)},useTransition:function(){var r=Uc(Ti)[0],i=Mt().memoizedState;return[typeof r=="boolean"?r:Hl(r),i]},useSyncExternalStore:Dv,useId:a_,useHostTransitionStatus:Zd,useFormState:Fv,useActionState:Fv,useOptimistic:function(r,i){var s=Mt();return jv(s,et,r,i)},useMemoCache:Hd,useCacheRefresh:s_},kA={readContext:hn,use:Lc,useCallback:Jv,useContext:hn,useEffect:Kv,useImperativeHandle:Zv,useInsertionEffect:Qv,useLayoutEffect:Wv,useMemo:e_,useReducer:Yd,useRef:Yv,useState:function(){return Yd(Ti)},useDebugValue:Qd,useDeferredValue:function(r,i){var s=Mt();return et===null?Wd(s,r,i):t_(s,et.memoizedState,r,i)},useTransition:function(){var r=Yd(Ti)[0],i=Mt().memoizedState;return[typeof r=="boolean"?r:Hl(r),i]},useSyncExternalStore:Dv,useId:a_,useHostTransitionStatus:Zd,useFormState:Gv,useActionState:Gv,useOptimistic:function(r,i){var s=Mt();return et!==null?jv(s,et,r,i):(s.baseState=r,[r,s.queue.dispatch])},useMemoCache:Hd,useCacheRefresh:s_},Eo=null,$l=0;function Hc(r){var i=$l;return $l+=1,Eo===null&&(Eo=[]),bv(Eo,r,i)}function Kl(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Gc(r,i){throw i.$$typeof===b?Error(a(525)):(r=Object.prototype.toString.call(i),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function f_(r){var i=r._init;return i(r._payload)}function d_(r){function i(B,L){if(r){var F=B.deletions;F===null?(B.deletions=[L],B.flags|=16):F.push(L)}}function s(B,L){if(!r)return null;for(;L!==null;)i(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function f(B,L){return B=gi(B,L),B.index=0,B.sibling=null,B}function d(B,L,F){return B.index=F,r?(F=B.alternate,F!==null?(F=F.index,F<L?(B.flags|=67108866,L):F):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function T(B){return r&&B.alternate===null&&(B.flags|=67108866),B}function S(B,L,F,ee){return L===null||L.tag!==6?(L=Ed(F,B.mode,ee),L.return=B,L):(L=f(L,F),L.return=B,L)}function k(B,L,F,ee){var pe=F.type;return pe===j?J(B,L,F.props.children,ee,F.key):L!==null&&(L.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&f_(pe)===L.type)?(L=f(L,F.props),Kl(L,F),L.return=B,L):(L=Cc(F.type,F.key,F.props,null,B.mode,ee),Kl(L,F),L.return=B,L)}function G(B,L,F,ee){return L===null||L.tag!==4||L.stateNode.containerInfo!==F.containerInfo||L.stateNode.implementation!==F.implementation?(L=Td(F,B.mode,ee),L.return=B,L):(L=f(L,F.children||[]),L.return=B,L)}function J(B,L,F,ee,pe){return L===null||L.tag!==7?(L=ds(F,B.mode,ee,pe),L.return=B,L):(L=f(L,F),L.return=B,L)}function te(B,L,F){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Ed(""+L,B.mode,F),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case w:return F=Cc(L.type,L.key,L.props,null,B.mode,F),Kl(F,L),F.return=B,F;case N:return L=Td(L,B.mode,F),L.return=B,L;case A:var ee=L._init;return L=ee(L._payload),te(B,L,F)}if(Oe(L)||x(L))return L=ds(L,B.mode,F,null),L.return=B,L;if(typeof L.then=="function")return te(B,Hc(L),F);if(L.$$typeof===ie)return te(B,Nc(B,L),F);Gc(B,L)}return null}function Y(B,L,F,ee){var pe=L!==null?L.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return pe!==null?null:S(B,L,""+F,ee);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case w:return F.key===pe?k(B,L,F,ee):null;case N:return F.key===pe?G(B,L,F,ee):null;case A:return pe=F._init,F=pe(F._payload),Y(B,L,F,ee)}if(Oe(F)||x(F))return pe!==null?null:J(B,L,F,ee,null);if(typeof F.then=="function")return Y(B,L,Hc(F),ee);if(F.$$typeof===ie)return Y(B,L,Nc(B,F),ee);Gc(B,F)}return null}function Q(B,L,F,ee,pe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return B=B.get(F)||null,S(L,B,""+ee,pe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case w:return B=B.get(ee.key===null?F:ee.key)||null,k(L,B,ee,pe);case N:return B=B.get(ee.key===null?F:ee.key)||null,G(L,B,ee,pe);case A:var Pe=ee._init;return ee=Pe(ee._payload),Q(B,L,F,ee,pe)}if(Oe(ee)||x(ee))return B=B.get(F)||null,J(L,B,ee,pe,null);if(typeof ee.then=="function")return Q(B,L,F,Hc(ee),pe);if(ee.$$typeof===ie)return Q(B,L,F,Nc(L,ee),pe);Gc(L,ee)}return null}function Ae(B,L,F,ee){for(var pe=null,Pe=null,ye=L,be=L=0,Xt=null;ye!==null&&be<F.length;be++){ye.index>be?(Xt=ye,ye=null):Xt=ye.sibling;var Ge=Y(B,ye,F[be],ee);if(Ge===null){ye===null&&(ye=Xt);break}r&&ye&&Ge.alternate===null&&i(B,ye),L=d(Ge,L,be),Pe===null?pe=Ge:Pe.sibling=Ge,Pe=Ge,ye=Xt}if(be===F.length)return s(B,ye),$e&&ps(B,be),pe;if(ye===null){for(;be<F.length;be++)ye=te(B,F[be],ee),ye!==null&&(L=d(ye,L,be),Pe===null?pe=ye:Pe.sibling=ye,Pe=ye);return $e&&ps(B,be),pe}for(ye=l(ye);be<F.length;be++)Xt=Q(ye,B,be,F[be],ee),Xt!==null&&(r&&Xt.alternate!==null&&ye.delete(Xt.key===null?be:Xt.key),L=d(Xt,L,be),Pe===null?pe=Xt:Pe.sibling=Xt,Pe=Xt);return r&&ye.forEach(function(Ta){return i(B,Ta)}),$e&&ps(B,be),pe}function Te(B,L,F,ee){if(F==null)throw Error(a(151));for(var pe=null,Pe=null,ye=L,be=L=0,Xt=null,Ge=F.next();ye!==null&&!Ge.done;be++,Ge=F.next()){ye.index>be?(Xt=ye,ye=null):Xt=ye.sibling;var Ta=Y(B,ye,Ge.value,ee);if(Ta===null){ye===null&&(ye=Xt);break}r&&ye&&Ta.alternate===null&&i(B,ye),L=d(Ta,L,be),Pe===null?pe=Ta:Pe.sibling=Ta,Pe=Ta,ye=Xt}if(Ge.done)return s(B,ye),$e&&ps(B,be),pe;if(ye===null){for(;!Ge.done;be++,Ge=F.next())Ge=te(B,Ge.value,ee),Ge!==null&&(L=d(Ge,L,be),Pe===null?pe=Ge:Pe.sibling=Ge,Pe=Ge);return $e&&ps(B,be),pe}for(ye=l(ye);!Ge.done;be++,Ge=F.next())Ge=Q(ye,B,be,Ge.value,ee),Ge!==null&&(r&&Ge.alternate!==null&&ye.delete(Ge.key===null?be:Ge.key),L=d(Ge,L,be),Pe===null?pe=Ge:Pe.sibling=Ge,Pe=Ge);return r&&ye.forEach(function(MR){return i(B,MR)}),$e&&ps(B,be),pe}function nt(B,L,F,ee){if(typeof F=="object"&&F!==null&&F.type===j&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case w:e:{for(var pe=F.key;L!==null;){if(L.key===pe){if(pe=F.type,pe===j){if(L.tag===7){s(B,L.sibling),ee=f(L,F.props.children),ee.return=B,B=ee;break e}}else if(L.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&f_(pe)===L.type){s(B,L.sibling),ee=f(L,F.props),Kl(ee,F),ee.return=B,B=ee;break e}s(B,L);break}else i(B,L);L=L.sibling}F.type===j?(ee=ds(F.props.children,B.mode,ee,F.key),ee.return=B,B=ee):(ee=Cc(F.type,F.key,F.props,null,B.mode,ee),Kl(ee,F),ee.return=B,B=ee)}return T(B);case N:e:{for(pe=F.key;L!==null;){if(L.key===pe)if(L.tag===4&&L.stateNode.containerInfo===F.containerInfo&&L.stateNode.implementation===F.implementation){s(B,L.sibling),ee=f(L,F.children||[]),ee.return=B,B=ee;break e}else{s(B,L);break}else i(B,L);L=L.sibling}ee=Td(F,B.mode,ee),ee.return=B,B=ee}return T(B);case A:return pe=F._init,F=pe(F._payload),nt(B,L,F,ee)}if(Oe(F))return Ae(B,L,F,ee);if(x(F)){if(pe=x(F),typeof pe!="function")throw Error(a(150));return F=pe.call(F),Te(B,L,F,ee)}if(typeof F.then=="function")return nt(B,L,Hc(F),ee);if(F.$$typeof===ie)return nt(B,L,Nc(B,F),ee);Gc(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,L!==null&&L.tag===6?(s(B,L.sibling),ee=f(L,F),ee.return=B,B=ee):(s(B,L),ee=Ed(F,B.mode,ee),ee.return=B,B=ee),T(B)):s(B,L)}return function(B,L,F,ee){try{$l=0;var pe=nt(B,L,F,ee);return Eo=null,pe}catch(ye){if(ye===Ll||ye===kc)throw ye;var Pe=Un(29,ye,null,B.mode);return Pe.lanes=ee,Pe.return=B,Pe}finally{}}}var To=d_(!0),m_=d_(!1),ar=Z(null),Hr=null;function sa(r){var i=r.alternate;se(Ft,Ft.current&1),se(ar,r),Hr===null&&(i===null||go.current!==null||i.memoizedState!==null)&&(Hr=r)}function p_(r){if(r.tag===22){if(se(Ft,Ft.current),se(ar,r),Hr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Hr=r)}}else oa()}function oa(){se(Ft,Ft.current),se(ar,ar.current)}function bi(r){ae(ar),Hr===r&&(Hr=null),ae(Ft)}var Ft=Z(0);function Yc(r){for(var i=r;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Fm(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function em(r,i,s,l){i=r.memoizedState,s=s(l,i),s=s==null?i:_({},i,s),r.memoizedState=s,r.lanes===0&&(r.updateQueue.baseState=s)}var tm={enqueueSetState:function(r,i,s){r=r._reactInternals;var l=Fn(),f=ra(l);f.payload=i,s!=null&&(f.callback=s),i=ia(r,f,l),i!==null&&(Hn(i,r,l),Bl(i,r,l))},enqueueReplaceState:function(r,i,s){r=r._reactInternals;var l=Fn(),f=ra(l);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=ia(r,f,l),i!==null&&(Hn(i,r,l),Bl(i,r,l))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var s=Fn(),l=ra(s);l.tag=2,i!=null&&(l.callback=i),i=ia(r,l,s),i!==null&&(Hn(i,r,s),Bl(i,r,s))}};function g_(r,i,s,l,f,d,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,d,T):i.prototype&&i.prototype.isPureReactComponent?!Dl(s,l)||!Dl(f,d):!0}function y_(r,i,s,l){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==r&&tm.enqueueReplaceState(i,i.state,null)}function bs(r,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(r=r.defaultProps){s===i&&(s=_({},s));for(var f in r)s[f]===void 0&&(s[f]=r[f])}return s}var $c=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function v_(r){$c(r)}function __(r){console.error(r)}function E_(r){$c(r)}function Kc(r,i){try{var s=r.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function T_(r,i,s){try{var l=r.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function nm(r,i,s){return s=ra(s),s.tag=3,s.payload={element:null},s.callback=function(){Kc(r,i)},s}function b_(r){return r=ra(r),r.tag=3,r}function w_(r,i,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;r.payload=function(){return f(d)},r.callback=function(){T_(i,s,l)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){T_(i,s,l),typeof f!="function"&&(da===null?da=new Set([this]):da.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function MA(r,i,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Pl(i,s,f,!0),s=ar.current,s!==null){switch(s.tag){case 13:return Hr===null?Rm():s.alternate===null&&bt===0&&(bt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Nd?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),xm(r,l,f)),!1;case 22:return s.flags|=65536,l===Nd?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),xm(r,l,f)),!1}throw Error(a(435,s.tag))}return xm(r,l,f),Rm(),!1}if($e)return i=ar.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Sd&&(r=Error(a(422),{cause:l}),Ml(tr(r,s)))):(l!==Sd&&(i=Error(a(423),{cause:l}),Ml(tr(i,s))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,l=tr(l,s),f=nm(r.stateNode,l,f),Md(r,f),bt!==4&&(bt=2)),!1;var d=Error(a(520),{cause:l});if(d=tr(d,s),tu===null?tu=[d]:tu.push(d),bt!==4&&(bt=2),i===null)return!0;l=tr(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,r=f&-f,s.lanes|=r,r=nm(s.stateNode,l,r),Md(s,r),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(da===null||!da.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=b_(f),w_(f,r,s,l),Md(s,f),!1}s=s.return}while(s!==null);return!1}var S_=Error(a(461)),Qt=!1;function Jt(r,i,s,l){i.child=r===null?m_(i,null,s,l):To(i,r.child,s,l)}function A_(r,i,s,l,f){s=s.render;var d=i.ref;if("ref"in l){var T={};for(var S in l)S!=="ref"&&(T[S]=l[S])}else T=l;return _s(i),l=Ud(r,i,s,T,d,f),S=Bd(),r!==null&&!Qt?(zd(r,i,f),wi(r,i,f)):($e&&S&&bd(i),i.flags|=1,Jt(r,i,l,f),i.child)}function R_(r,i,s,l,f){if(r===null){var d=s.type;return typeof d=="function"&&!_d(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,C_(r,i,d,l,f)):(r=Cc(s.type,null,l,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(d=r.child,!cm(r,f)){var T=d.memoizedProps;if(s=s.compare,s=s!==null?s:Dl,s(T,l)&&r.ref===i.ref)return wi(r,i,f)}return i.flags|=1,r=gi(d,l),r.ref=i.ref,r.return=i,i.child=r}function C_(r,i,s,l,f){if(r!==null){var d=r.memoizedProps;if(Dl(d,l)&&r.ref===i.ref)if(Qt=!1,i.pendingProps=l=d,cm(r,f))(r.flags&131072)!==0&&(Qt=!0);else return i.lanes=r.lanes,wi(r,i,f)}return rm(r,i,s,l,f)}function x_(r,i,s){var l=i.pendingProps,f=l.children,d=r!==null?r.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,r!==null){for(f=i.child=r.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return I_(r,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Oc(i,d!==null?d.cachePool:null),d!==null?Cv(i,d):jd(),p_(i);else return i.lanes=i.childLanes=536870912,I_(r,i,d!==null?d.baseLanes|s:s,s)}else d!==null?(Oc(i,d.cachePool),Cv(i,d),oa(),i.memoizedState=null):(r!==null&&Oc(i,null),jd(),oa());return Jt(r,i,f,s),i.child}function I_(r,i,s,l){var f=Dd();return f=f===null?null:{parent:qt._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},r!==null&&Oc(i,null),jd(),p_(i),r!==null&&Pl(r,i,l,!0),null}function Qc(r,i){var s=i.ref;if(s===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(r===null||r.ref!==s)&&(i.flags|=4194816)}}function rm(r,i,s,l,f){return _s(i),s=Ud(r,i,s,l,void 0,f),l=Bd(),r!==null&&!Qt?(zd(r,i,f),wi(r,i,f)):($e&&l&&bd(i),i.flags|=1,Jt(r,i,s,f),i.child)}function D_(r,i,s,l,f,d){return _s(i),i.updateQueue=null,s=Iv(i,l,s,f),xv(r),l=Bd(),r!==null&&!Qt?(zd(r,i,d),wi(r,i,d)):($e&&l&&bd(i),i.flags|=1,Jt(r,i,s,d),i.child)}function N_(r,i,s,l,f){if(_s(i),i.stateNode===null){var d=co,T=s.contextType;typeof T=="object"&&T!==null&&(d=hn(T)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=tm,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Od(i),T=s.contextType,d.context=typeof T=="object"&&T!==null?hn(T):co,d.state=i.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(em(i,s,T,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(T=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),T!==d.state&&tm.enqueueReplaceState(d,d.state,null),ql(i,l,d,f),zl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(r===null){d=i.stateNode;var S=i.memoizedProps,k=bs(s,S);d.props=k;var G=d.context,J=s.contextType;T=co,typeof J=="object"&&J!==null&&(T=hn(J));var te=s.getDerivedStateFromProps;J=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||G!==T)&&y_(i,d,l,T),na=!1;var Y=i.memoizedState;d.state=Y,ql(i,l,d,f),zl(),G=i.memoizedState,S||Y!==G||na?(typeof te=="function"&&(em(i,s,te,l),G=i.memoizedState),(k=na||g_(i,s,k,l,Y,G,T))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=T,l=k):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,kd(r,i),T=i.memoizedProps,J=bs(s,T),d.props=J,te=i.pendingProps,Y=d.context,G=s.contextType,k=co,typeof G=="object"&&G!==null&&(k=hn(G)),S=s.getDerivedStateFromProps,(G=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T!==te||Y!==k)&&y_(i,d,l,k),na=!1,Y=i.memoizedState,d.state=Y,ql(i,l,d,f),zl();var Q=i.memoizedState;T!==te||Y!==Q||na||r!==null&&r.dependencies!==null&&Dc(r.dependencies)?(typeof S=="function"&&(em(i,s,S,l),Q=i.memoizedState),(J=na||g_(i,s,J,l,Y,Q,k)||r!==null&&r.dependencies!==null&&Dc(r.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,k),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,k)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||T===r.memoizedProps&&Y===r.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Y===r.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=k,l=J):(typeof d.componentDidUpdate!="function"||T===r.memoizedProps&&Y===r.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&Y===r.memoizedState||(i.flags|=1024),l=!1)}return d=l,Qc(r,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,r!==null&&l?(i.child=To(i,r.child,null,f),i.child=To(i,null,s,f)):Jt(r,i,s,f),i.memoizedState=d.state,r=i.child):r=wi(r,i,f),r}function O_(r,i,s,l){return kl(),i.flags|=256,Jt(r,i,s,l),i.child}var im={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function am(r){return{baseLanes:r,cachePool:_v()}}function sm(r,i,s){return r=r!==null?r.childLanes&~s:0,i&&(r|=sr),r}function k_(r,i,s){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,T;if((T=d)||(T=r!==null&&r.memoizedState===null?!1:(Ft.current&2)!==0),T&&(f=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,r===null){if($e){if(f?sa(i):oa(),$e){var S=Tt,k;if(k=S){e:{for(k=S,S=Fr;k.nodeType!==8;){if(!S){S=null;break e}if(k=Dr(k.nextSibling),k===null){S=null;break e}}S=k}S!==null?(i.memoizedState={dehydrated:S,treeContext:ms!==null?{id:yi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},k=Un(18,null,null,0),k.stateNode=S,k.return=i,i.child=k,wn=i,Tt=null,k=!0):k=!1}k||ys(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Fm(S)?i.lanes=32:i.lanes=536870912,null;bi(i)}return S=l.children,l=l.fallback,f?(oa(),f=i.mode,S=Wc({mode:"hidden",children:S},f),l=ds(l,f,s,null),S.return=i,l.return=i,S.sibling=l,i.child=S,f=i.child,f.memoizedState=am(s),f.childLanes=sm(r,T,s),i.memoizedState=im,l):(sa(i),om(i,S))}if(k=r.memoizedState,k!==null&&(S=k.dehydrated,S!==null)){if(d)i.flags&256?(sa(i),i.flags&=-257,i=lm(r,i,s)):i.memoizedState!==null?(oa(),i.child=r.child,i.flags|=128,i=null):(oa(),f=l.fallback,S=i.mode,l=Wc({mode:"visible",children:l.children},S),f=ds(f,S,s,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,To(i,r.child,null,s),l=i.child,l.memoizedState=am(s),l.childLanes=sm(r,T,s),i.memoizedState=im,i=f);else if(sa(i),Fm(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var G=T.dgst;T=G,l=Error(a(419)),l.stack="",l.digest=T,Ml({value:l,source:null,stack:null}),i=lm(r,i,s)}else if(Qt||Pl(r,i,s,!1),T=(s&r.childLanes)!==0,Qt||T){if(T=st,T!==null&&(l=s&-s,l=(l&42)!==0?1:Qe(l),l=(l&(T.suspendedLanes|s))!==0?0:l,l!==0&&l!==k.retryLane))throw k.retryLane=l,uo(r,l),Hn(T,r,l),S_;S.data==="$?"||Rm(),i=lm(r,i,s)}else S.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=k.treeContext,Tt=Dr(S.nextSibling),wn=i,$e=!0,gs=null,Fr=!1,r!==null&&(rr[ir++]=yi,rr[ir++]=vi,rr[ir++]=ms,yi=r.id,vi=r.overflow,ms=i),i=om(i,l.children),i.flags|=4096);return i}return f?(oa(),f=l.fallback,S=i.mode,k=r.child,G=k.sibling,l=gi(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,G!==null?f=gi(G,f):(f=ds(f,S,s,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,S=r.child.memoizedState,S===null?S=am(s):(k=S.cachePool,k!==null?(G=qt._currentValue,k=k.parent!==G?{parent:G,pool:G}:k):k=_v(),S={baseLanes:S.baseLanes|s,cachePool:k}),f.memoizedState=S,f.childLanes=sm(r,T,s),i.memoizedState=im,l):(sa(i),s=r.child,r=s.sibling,s=gi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,r!==null&&(T=i.deletions,T===null?(i.deletions=[r],i.flags|=16):T.push(r)),i.child=s,i.memoizedState=null,s)}function om(r,i){return i=Wc({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Wc(r,i){return r=Un(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function lm(r,i,s){return To(i,r.child,null,s),r=om(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function M_(r,i,s){r.lanes|=i;var l=r.alternate;l!==null&&(l.lanes|=i),Rd(r.return,i,s)}function um(r,i,s,l,f){var d=r.memoizedState;d===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=f)}function P_(r,i,s){var l=i.pendingProps,f=l.revealOrder,d=l.tail;if(Jt(r,i,l.children,s),l=Ft.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&M_(r,s,i);else if(r.tag===19)M_(r,s,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}l&=1}switch(se(Ft,l),f){case"forwards":for(s=i.child,f=null;s!==null;)r=s.alternate,r!==null&&Yc(r)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),um(i,!1,f,s,d);break;case"backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&Yc(r)===null){i.child=f;break}r=f.sibling,f.sibling=s,s=f,f=r}um(i,!0,s,null,d);break;case"together":um(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function wi(r,i,s){if(r!==null&&(i.dependencies=r.dependencies),fa|=i.lanes,(s&i.childLanes)===0)if(r!==null){if(Pl(r,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(a(153));if(i.child!==null){for(r=i.child,s=gi(r,r.pendingProps),i.child=s,s.return=i;r.sibling!==null;)r=r.sibling,s=s.sibling=gi(r,r.pendingProps),s.return=i;s.sibling=null}return i.child}function cm(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Dc(r)))}function PA(r,i,s){switch(i.tag){case 3:ze(i,i.stateNode.containerInfo),ta(i,qt,r.memoizedState.cache),kl();break;case 27:case 5:si(i);break;case 4:ze(i,i.stateNode.containerInfo);break;case 10:ta(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(sa(i),i.flags|=128,null):(s&i.child.childLanes)!==0?k_(r,i,s):(sa(i),r=wi(r,i,s),r!==null?r.sibling:null);sa(i);break;case 19:var f=(r.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Pl(r,i,s,!1),l=(s&i.childLanes)!==0),f){if(l)return P_(r,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(Ft,Ft.current),l)break;return null;case 22:case 23:return i.lanes=0,x_(r,i,s);case 24:ta(i,qt,r.memoizedState.cache)}return wi(r,i,s)}function j_(r,i,s){if(r!==null)if(r.memoizedProps!==i.pendingProps)Qt=!0;else{if(!cm(r,s)&&(i.flags&128)===0)return Qt=!1,PA(r,i,s);Qt=(r.flags&131072)!==0}else Qt=!1,$e&&(i.flags&1048576)!==0&&fv(i,Ic,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")_d(l)?(r=bs(l,r),i.tag=1,i=N_(null,i,l,r,s)):(i.tag=0,i=rm(null,i,l,r,s));else{if(l!=null){if(f=l.$$typeof,f===ce){i.tag=11,i=A_(null,i,l,r,s);break e}else if(f===D){i.tag=14,i=R_(null,i,l,r,s);break e}}throw i=he(l)||l,Error(a(306,i,""))}}return i;case 0:return rm(r,i,i.type,i.pendingProps,s);case 1:return l=i.type,f=bs(l,i.pendingProps),N_(r,i,l,f,s);case 3:e:{if(ze(i,i.stateNode.containerInfo),r===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,kd(r,i),ql(i,l,null,s);var T=i.memoizedState;if(l=T.cache,ta(i,qt,l),l!==d.cache&&Cd(i,[qt],s,!0),zl(),l=T.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=O_(r,i,l,s);break e}else if(l!==f){f=tr(Error(a(424)),i),Ml(f),i=O_(r,i,l,s);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Tt=Dr(r.firstChild),wn=i,$e=!0,gs=null,Fr=!0,s=m_(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(kl(),l===f){i=wi(r,i,s);break e}Jt(r,i,l,s)}i=i.child}return i;case 26:return Qc(r,i),r===null?(s=BE(i.type,null,i.pendingProps,null))?i.memoizedState=s:$e||(s=i.type,r=i.pendingProps,l=ch(_e.current).createElement(s),l[ht]=i,l[St]=r,tn(l,s,r),De(l),i.stateNode=l):i.memoizedState=BE(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return si(i),r===null&&$e&&(l=i.stateNode=VE(i.type,i.pendingProps,_e.current),wn=i,Fr=!0,f=Tt,ga(i.type)?(Hm=f,Tt=Dr(l.firstChild)):Tt=f),Jt(r,i,i.pendingProps.children,s),Qc(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&$e&&((f=l=Tt)&&(l=uR(l,i.type,i.pendingProps,Fr),l!==null?(i.stateNode=l,wn=i,Tt=Dr(l.firstChild),Fr=!1,f=!0):f=!1),f||ys(i)),si(i),f=i.type,d=i.pendingProps,T=r!==null?r.memoizedProps:null,l=d.children,Bm(f,d)?l=null:T!==null&&Bm(f,T)&&(i.flags|=32),i.memoizedState!==null&&(f=Ud(r,i,CA,null,null,s),cu._currentValue=f),Qc(r,i),Jt(r,i,l,s),i.child;case 6:return r===null&&$e&&((r=s=Tt)&&(s=cR(s,i.pendingProps,Fr),s!==null?(i.stateNode=s,wn=i,Tt=null,r=!0):r=!1),r||ys(i)),null;case 13:return k_(r,i,s);case 4:return ze(i,i.stateNode.containerInfo),l=i.pendingProps,r===null?i.child=To(i,null,l,s):Jt(r,i,l,s),i.child;case 11:return A_(r,i,i.type,i.pendingProps,s);case 7:return Jt(r,i,i.pendingProps,s),i.child;case 8:return Jt(r,i,i.pendingProps.children,s),i.child;case 12:return Jt(r,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,ta(i,i.type,l.value),Jt(r,i,l.children,s),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,_s(i),f=hn(f),l=l(f),i.flags|=1,Jt(r,i,l,s),i.child;case 14:return R_(r,i,i.type,i.pendingProps,s);case 15:return C_(r,i,i.type,i.pendingProps,s);case 19:return P_(r,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},r===null?(s=Wc(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=gi(r.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return x_(r,i,s);case 24:return _s(i),l=hn(qt),r===null?(f=Dd(),f===null&&(f=st,d=xd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),i.memoizedState={parent:l,cache:f},Od(i),ta(i,qt,f)):((r.lanes&s)!==0&&(kd(r,i),ql(i,null,null,s),zl()),f=r.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ta(i,qt,l)):(l=d.cache,ta(i,qt,l),l!==f.cache&&Cd(i,[qt],s,!0))),Jt(r,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Si(r){r.flags|=4}function V_(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!GE(i)){if(i=ar.current,i!==null&&((qe&4194048)===qe?Hr!==null:(qe&62914560)!==qe&&(qe&536870912)===0||i!==Hr))throw Ul=Nd,Ev;r.flags|=8192}}function Xc(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?_r():536870912,r.lanes|=i,Ao|=i)}function Ql(r,i){if(!$e)switch(r.tailMode){case"hidden":i=r.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?r.tail=null:s.sibling=null;break;case"collapsed":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function vt(r){var i=r.alternate!==null&&r.alternate.child===r.child,s=0,l=0;if(i)for(var f=r.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=l,r.childLanes=s,i}function jA(r,i,s){var l=i.pendingProps;switch(wd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(i),null;case 1:return vt(i),null;case 3:return s=i.stateNode,l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ei(qt),Nt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(r===null||r.child===null)&&(Ol(i)?Si(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,pv())),vt(i),null;case 26:return s=i.memoizedState,r===null?(Si(i),s!==null?(vt(i),V_(i,s)):(vt(i),i.flags&=-16777217)):s?s!==r.memoizedState?(Si(i),vt(i),V_(i,s)):(vt(i),i.flags&=-16777217):(r.memoizedProps!==l&&Si(i),vt(i),i.flags&=-16777217),null;case 27:Vr(i),s=_e.current;var f=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==l&&Si(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return vt(i),null}r=de.current,Ol(i)?dv(i):(r=VE(f,l,s),i.stateNode=r,Si(i))}return vt(i),null;case 5:if(Vr(i),s=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==l&&Si(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return vt(i),null}if(r=de.current,Ol(i))dv(i);else{switch(f=ch(_e.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?r.multiple=!0:l.size&&(r.size=l.size);break;default:r=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}r[ht]=i,r[St]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=r;e:switch(tn(r,s,l),s){case"button":case"input":case"select":case"textarea":r=!!l.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Si(i)}}return vt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==l&&Si(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(r=_e.current,Ol(i)){if(r=i.stateNode,s=i.memoizedProps,l=null,f=wn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}r[ht]=i,r=!!(r.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||DE(r.nodeValue,s)),r||ys(i)}else r=ch(r).createTextNode(l),r[ht]=i,i.stateNode=r}return vt(i),null;case 13:if(l=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Ol(i),l!==null&&l.dehydrated!==null){if(r===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[ht]=i}else kl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;vt(i),f=!1}else f=pv(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(bi(i),i):(bi(i),null)}if(bi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,r=r!==null&&r.memoizedState!==null,s){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return s!==r&&s&&(i.child.flags|=8192),Xc(i,i.updateQueue),vt(i),null;case 4:return Nt(),r===null&&Pm(i.stateNode.containerInfo),vt(i),null;case 10:return Ei(i.type),vt(i),null;case 19:if(ae(Ft),f=i.memoizedState,f===null)return vt(i),null;if(l=(i.flags&128)!==0,d=f.rendering,d===null)if(l)Ql(f,!1);else{if(bt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(d=Yc(r),d!==null){for(i.flags|=128,Ql(f,!1),r=d.updateQueue,i.updateQueue=r,Xc(i,r),i.subtreeFlags=0,r=s,s=i.child;s!==null;)hv(s,r),s=s.sibling;return se(Ft,Ft.current&1|2),i.child}r=r.sibling}f.tail!==null&&Vt()>eh&&(i.flags|=128,l=!0,Ql(f,!1),i.lanes=4194304)}else{if(!l)if(r=Yc(d),r!==null){if(i.flags|=128,l=!0,r=r.updateQueue,i.updateQueue=r,Xc(i,r),Ql(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!$e)return vt(i),null}else 2*Vt()-f.renderingStartTime>eh&&s!==536870912&&(i.flags|=128,l=!0,Ql(f,!1),i.lanes=4194304);f.isBackwards?(d.sibling=i.child,i.child=d):(r=f.last,r!==null?r.sibling=d:i.child=d,f.last=d)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Vt(),i.sibling=null,r=Ft.current,se(Ft,l?r&1|2:r&1),i):(vt(i),null);case 22:case 23:return bi(i),Vd(),l=i.memoizedState!==null,r!==null?r.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(vt(i),i.subtreeFlags&6&&(i.flags|=8192)):vt(i),s=i.updateQueue,s!==null&&Xc(i,s.retryQueue),s=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),r!==null&&ae(Es),null;case 24:return s=null,r!==null&&(s=r.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Ei(qt),vt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function VA(r,i){switch(wd(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ei(qt),Nt(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Vr(i),null;case 13:if(bi(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(a(340));kl()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ae(Ft),null;case 4:return Nt(),null;case 10:return Ei(i.type),null;case 22:case 23:return bi(i),Vd(),r!==null&&ae(Es),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Ei(qt),null;case 25:return null;default:return null}}function L_(r,i){switch(wd(i),i.tag){case 3:Ei(qt),Nt();break;case 26:case 27:case 5:Vr(i);break;case 4:Nt();break;case 13:bi(i);break;case 19:ae(Ft);break;case 10:Ei(i.type);break;case 22:case 23:bi(i),Vd(),r!==null&&ae(Es);break;case 24:Ei(qt)}}function Wl(r,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&r)===r){l=void 0;var d=s.create,T=s.inst;l=d(),T.destroy=l}s=s.next}while(s!==f)}}catch(S){rt(i,i.return,S)}}function la(r,i,s){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&r)===r){var T=l.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,f=i;var k=s,G=S;try{G()}catch(J){rt(f,k,J)}}}l=l.next}while(l!==d)}}catch(J){rt(i,i.return,J)}}function U_(r){var i=r.updateQueue;if(i!==null){var s=r.stateNode;try{Rv(i,s)}catch(l){rt(r,r.return,l)}}}function B_(r,i,s){s.props=bs(r.type,r.memoizedProps),s.state=r.memoizedState;try{s.componentWillUnmount()}catch(l){rt(r,i,l)}}function Xl(r,i){try{var s=r.ref;if(s!==null){switch(r.tag){case 26:case 27:case 5:var l=r.stateNode;break;case 30:l=r.stateNode;break;default:l=r.stateNode}typeof s=="function"?r.refCleanup=s(l):s.current=l}}catch(f){rt(r,i,f)}}function Gr(r,i){var s=r.ref,l=r.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){rt(r,i,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){rt(r,i,f)}else s.current=null}function z_(r){var i=r.type,s=r.memoizedProps,l=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){rt(r,r.return,f)}}function hm(r,i,s){try{var l=r.stateNode;iR(l,r.type,s,i),l[St]=i}catch(f){rt(r,r.return,f)}}function q_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ga(r.type)||r.tag===4}function fm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||q_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ga(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function dm(r,i,s){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(r,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(r),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=uh));else if(l!==4&&(l===27&&ga(r.type)&&(s=r.stateNode,i=null),r=r.child,r!==null))for(dm(r,i,s),r=r.sibling;r!==null;)dm(r,i,s),r=r.sibling}function Zc(r,i,s){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?s.insertBefore(r,i):s.appendChild(r);else if(l!==4&&(l===27&&ga(r.type)&&(s=r.stateNode),r=r.child,r!==null))for(Zc(r,i,s),r=r.sibling;r!==null;)Zc(r,i,s),r=r.sibling}function F_(r){var i=r.stateNode,s=r.memoizedProps;try{for(var l=r.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);tn(i,l,s),i[ht]=r,i[St]=s}catch(d){rt(r,r.return,d)}}var Ai=!1,Ct=!1,mm=!1,H_=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function LA(r,i){if(r=r.containerInfo,Lm=gh,r=tv(r),fd(r)){if("selectionStart"in r)var s={start:r.selectionStart,end:r.selectionEnd};else e:{s=(s=r.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var T=0,S=-1,k=-1,G=0,J=0,te=r,Y=null;t:for(;;){for(var Q;te!==s||f!==0&&te.nodeType!==3||(S=T+f),te!==d||l!==0&&te.nodeType!==3||(k=T+l),te.nodeType===3&&(T+=te.nodeValue.length),(Q=te.firstChild)!==null;)Y=te,te=Q;for(;;){if(te===r)break t;if(Y===s&&++G===f&&(S=T),Y===d&&++J===l&&(k=T),(Q=te.nextSibling)!==null)break;te=Y,Y=te.parentNode}te=Q}s=S===-1||k===-1?null:{start:S,end:k}}else s=null}s=s||{start:0,end:0}}else s=null;for(Um={focusedElem:r,selectionRange:s},gh=!1,Wt=i;Wt!==null;)if(i=Wt,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,Wt=r;else for(;Wt!==null;){switch(i=Wt,d=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&d!==null){r=void 0,s=i,f=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var Ae=bs(s.type,f,s.elementType===s.type);r=l.getSnapshotBeforeUpdate(Ae,d),l.__reactInternalSnapshotBeforeUpdate=r}catch(Te){rt(s,s.return,Te)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,s=r.nodeType,s===9)qm(r);else if(s===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":qm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=i.sibling,r!==null){r.return=i.return,Wt=r;break}Wt=i.return}}function G_(r,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ua(r,s),l&4&&Wl(5,s);break;case 1:if(ua(r,s),l&4)if(r=s.stateNode,i===null)try{r.componentDidMount()}catch(T){rt(s,s.return,T)}else{var f=bs(s.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(f,i,r.__reactInternalSnapshotBeforeUpdate)}catch(T){rt(s,s.return,T)}}l&64&&U_(s),l&512&&Xl(s,s.return);break;case 3:if(ua(r,s),l&64&&(r=s.updateQueue,r!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Rv(r,i)}catch(T){rt(s,s.return,T)}}break;case 27:i===null&&l&4&&F_(s);case 26:case 5:ua(r,s),i===null&&l&4&&z_(s),l&512&&Xl(s,s.return);break;case 12:ua(r,s);break;case 13:ua(r,s),l&4&&K_(r,s),l&64&&(r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(s=$A.bind(null,s),hR(r,s))));break;case 22:if(l=s.memoizedState!==null||Ai,!l){i=i!==null&&i.memoizedState!==null||Ct,f=Ai;var d=Ct;Ai=l,(Ct=i)&&!d?ca(r,s,(s.subtreeFlags&8772)!==0):ua(r,s),Ai=f,Ct=d}break;case 30:break;default:ua(r,s)}}function Y_(r){var i=r.alternate;i!==null&&(r.alternate=null,Y_(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&ui(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ft=null,xn=!1;function Ri(r,i,s){for(s=s.child;s!==null;)$_(r,i,s),s=s.sibling}function $_(r,i,s){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Lr,s)}catch{}switch(s.tag){case 26:Ct||Gr(s,i),Ri(r,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ct||Gr(s,i);var l=ft,f=xn;ga(s.type)&&(ft=s.stateNode,xn=!1),Ri(r,i,s),su(s.stateNode),ft=l,xn=f;break;case 5:Ct||Gr(s,i);case 6:if(l=ft,f=xn,ft=null,Ri(r,i,s),ft=l,xn=f,ft!==null)if(xn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(s.stateNode)}catch(d){rt(s,i,d)}else try{ft.removeChild(s.stateNode)}catch(d){rt(s,i,d)}break;case 18:ft!==null&&(xn?(r=ft,PE(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.stateNode),mu(r)):PE(ft,s.stateNode));break;case 4:l=ft,f=xn,ft=s.stateNode.containerInfo,xn=!0,Ri(r,i,s),ft=l,xn=f;break;case 0:case 11:case 14:case 15:Ct||la(2,s,i),Ct||la(4,s,i),Ri(r,i,s);break;case 1:Ct||(Gr(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&B_(s,i,l)),Ri(r,i,s);break;case 21:Ri(r,i,s);break;case 22:Ct=(l=Ct)||s.memoizedState!==null,Ri(r,i,s),Ct=l;break;default:Ri(r,i,s)}}function K_(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{mu(r)}catch(s){rt(i,i.return,s)}}function UA(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new H_),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new H_),i;default:throw Error(a(435,r.tag))}}function pm(r,i){var s=UA(r);i.forEach(function(l){var f=KA.bind(null,r,l);s.has(l)||(s.add(l),l.then(f,f))})}function Bn(r,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],d=r,T=i,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(ga(S.type)){ft=S.stateNode,xn=!1;break e}break;case 5:ft=S.stateNode,xn=!1;break e;case 3:case 4:ft=S.stateNode.containerInfo,xn=!0;break e}S=S.return}if(ft===null)throw Error(a(160));$_(d,T,f),ft=null,xn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Q_(i,r),i=i.sibling}var Ir=null;function Q_(r,i){var s=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Bn(i,r),zn(r),l&4&&(la(3,r,r.return),Wl(3,r),la(5,r,r.return));break;case 1:Bn(i,r),zn(r),l&512&&(Ct||s===null||Gr(s,s.return)),l&64&&Ai&&(r=r.updateQueue,r!==null&&(l=r.callbacks,l!==null&&(s=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=Ir;if(Bn(i,r),zn(r),l&512&&(Ct||s===null||Gr(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=r.memoizedState,s===null)if(l===null)if(r.stateNode===null){e:{l=r.type,s=r.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Kn]||d[ht]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),tn(d,l,s),d[ht]=r,De(d),l=d;break e;case"link":var T=FE("link","href",f).get(l+(s.href||""));if(T){for(var S=0;S<T.length;S++)if(d=T[S],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(S,1);break t}}d=f.createElement(l),tn(d,l,s),f.head.appendChild(d);break;case"meta":if(T=FE("meta","content",f).get(l+(s.content||""))){for(S=0;S<T.length;S++)if(d=T[S],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(S,1);break t}}d=f.createElement(l),tn(d,l,s),f.head.appendChild(d);break;default:throw Error(a(468,l))}d[ht]=r,De(d),l=d}r.stateNode=l}else HE(f,r.type,r.stateNode);else r.stateNode=qE(f,l,r.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?HE(f,r.type,r.stateNode):qE(f,l,r.memoizedProps)):l===null&&r.stateNode!==null&&hm(r,r.memoizedProps,s.memoizedProps)}break;case 27:Bn(i,r),zn(r),l&512&&(Ct||s===null||Gr(s,s.return)),s!==null&&l&4&&hm(r,r.memoizedProps,s.memoizedProps);break;case 5:if(Bn(i,r),zn(r),l&512&&(Ct||s===null||Gr(s,s.return)),r.flags&32){f=r.stateNode;try{Jn(f,"")}catch(Q){rt(r,r.return,Q)}}l&4&&r.stateNode!=null&&(f=r.memoizedProps,hm(r,f,s!==null?s.memoizedProps:f)),l&1024&&(mm=!0);break;case 6:if(Bn(i,r),zn(r),l&4){if(r.stateNode===null)throw Error(a(162));l=r.memoizedProps,s=r.stateNode;try{s.nodeValue=l}catch(Q){rt(r,r.return,Q)}}break;case 3:if(dh=null,f=Ir,Ir=hh(i.containerInfo),Bn(i,r),Ir=f,zn(r),l&4&&s!==null&&s.memoizedState.isDehydrated)try{mu(i.containerInfo)}catch(Q){rt(r,r.return,Q)}mm&&(mm=!1,W_(r));break;case 4:l=Ir,Ir=hh(r.stateNode.containerInfo),Bn(i,r),zn(r),Ir=l;break;case 12:Bn(i,r),zn(r);break;case 13:Bn(i,r),zn(r),r.child.flags&8192&&r.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Tm=Vt()),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,pm(r,l)));break;case 22:f=r.memoizedState!==null;var k=s!==null&&s.memoizedState!==null,G=Ai,J=Ct;if(Ai=G||f,Ct=J||k,Bn(i,r),Ct=J,Ai=G,zn(r),l&8192)e:for(i=r.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||k||Ai||Ct||ws(r)),s=null,i=r;;){if(i.tag===5||i.tag===26){if(s===null){k=s=i;try{if(d=k.stateNode,f)T=d.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=k.stateNode;var te=k.memoizedProps.style,Y=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Q){rt(k,k.return,Q)}}}else if(i.tag===6){if(s===null){k=i;try{k.stateNode.nodeValue=f?"":k.memoizedProps}catch(Q){rt(k,k.return,Q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=r.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,pm(r,s))));break;case 19:Bn(i,r),zn(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,pm(r,l)));break;case 30:break;case 21:break;default:Bn(i,r),zn(r)}}function zn(r){var i=r.flags;if(i&2){try{for(var s,l=r.return;l!==null;){if(q_(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,d=fm(r);Zc(r,d,f);break;case 5:var T=s.stateNode;s.flags&32&&(Jn(T,""),s.flags&=-33);var S=fm(r);Zc(r,S,T);break;case 3:case 4:var k=s.stateNode.containerInfo,G=fm(r);dm(r,G,k);break;default:throw Error(a(161))}}catch(J){rt(r,r.return,J)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function W_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;W_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function ua(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)G_(r,i.alternate,i),i=i.sibling}function ws(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:la(4,i,i.return),ws(i);break;case 1:Gr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&B_(i,i.return,s),ws(i);break;case 27:su(i.stateNode);case 26:case 5:Gr(i,i.return),ws(i);break;case 22:i.memoizedState===null&&ws(i);break;case 30:ws(i);break;default:ws(i)}r=r.sibling}}function ca(r,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=r,d=i,T=d.flags;switch(d.tag){case 0:case 11:case 15:ca(f,d,s),Wl(4,d);break;case 1:if(ca(f,d,s),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){rt(l,l.return,G)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var k=f.shared.hiddenCallbacks;if(k!==null)for(f.shared.hiddenCallbacks=null,f=0;f<k.length;f++)Av(k[f],S)}catch(G){rt(l,l.return,G)}}s&&T&64&&U_(d),Xl(d,d.return);break;case 27:F_(d);case 26:case 5:ca(f,d,s),s&&l===null&&T&4&&z_(d),Xl(d,d.return);break;case 12:ca(f,d,s);break;case 13:ca(f,d,s),s&&T&4&&K_(f,d);break;case 22:d.memoizedState===null&&ca(f,d,s),Xl(d,d.return);break;case 30:break;default:ca(f,d,s)}i=i.sibling}}function gm(r,i){var s=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(r!=null&&r.refCount++,s!=null&&jl(s))}function ym(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&jl(r))}function Yr(r,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)X_(r,i,s,l),i=i.sibling}function X_(r,i,s,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Yr(r,i,s,l),f&2048&&Wl(9,i);break;case 1:Yr(r,i,s,l);break;case 3:Yr(r,i,s,l),f&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&jl(r)));break;case 12:if(f&2048){Yr(r,i,s,l),r=i.stateNode;try{var d=i.memoizedProps,T=d.id,S=d.onPostCommit;typeof S=="function"&&S(T,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(k){rt(i,i.return,k)}}else Yr(r,i,s,l);break;case 13:Yr(r,i,s,l);break;case 23:break;case 22:d=i.stateNode,T=i.alternate,i.memoizedState!==null?d._visibility&2?Yr(r,i,s,l):Zl(r,i):d._visibility&2?Yr(r,i,s,l):(d._visibility|=2,bo(r,i,s,l,(i.subtreeFlags&10256)!==0)),f&2048&&gm(T,i);break;case 24:Yr(r,i,s,l),f&2048&&ym(i.alternate,i);break;default:Yr(r,i,s,l)}}function bo(r,i,s,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=r,T=i,S=s,k=l,G=T.flags;switch(T.tag){case 0:case 11:case 15:bo(d,T,S,k,f),Wl(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&2?bo(d,T,S,k,f):Zl(d,T):(J._visibility|=2,bo(d,T,S,k,f)),f&&G&2048&&gm(T.alternate,T);break;case 24:bo(d,T,S,k,f),f&&G&2048&&ym(T.alternate,T);break;default:bo(d,T,S,k,f)}i=i.sibling}}function Zl(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=r,l=i,f=l.flags;switch(l.tag){case 22:Zl(s,l),f&2048&&gm(l.alternate,l);break;case 24:Zl(s,l),f&2048&&ym(l.alternate,l);break;default:Zl(s,l)}i=i.sibling}}var Jl=8192;function wo(r){if(r.subtreeFlags&Jl)for(r=r.child;r!==null;)Z_(r),r=r.sibling}function Z_(r){switch(r.tag){case 26:wo(r),r.flags&Jl&&r.memoizedState!==null&&SR(Ir,r.memoizedState,r.memoizedProps);break;case 5:wo(r);break;case 3:case 4:var i=Ir;Ir=hh(r.stateNode.containerInfo),wo(r),Ir=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Jl,Jl=16777216,wo(r),Jl=i):wo(r));break;default:wo(r)}}function J_(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function eu(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Wt=l,tE(l,r)}J_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)eE(r),r=r.sibling}function eE(r){switch(r.tag){case 0:case 11:case 15:eu(r),r.flags&2048&&la(9,r,r.return);break;case 3:eu(r);break;case 12:eu(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Jc(r)):eu(r);break;default:eu(r)}}function Jc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Wt=l,tE(l,r)}J_(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:la(8,i,i.return),Jc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Jc(i));break;default:Jc(i)}r=r.sibling}}function tE(r,i){for(;Wt!==null;){var s=Wt;switch(s.tag){case 0:case 11:case 15:la(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:jl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Wt=l;else e:for(s=r;Wt!==null;){l=Wt;var f=l.sibling,d=l.return;if(Y_(l),l===s){Wt=null;break e}if(f!==null){f.return=d,Wt=f;break e}Wt=d}}}var BA={getCacheForType:function(r){var i=hn(qt),s=i.data.get(r);return s===void 0&&(s=r(),i.data.set(r,s)),s}},zA=typeof WeakMap=="function"?WeakMap:Map,Xe=0,st=null,je=null,qe=0,Ze=0,qn=null,ha=!1,So=!1,vm=!1,Ci=0,bt=0,fa=0,Ss=0,_m=0,sr=0,Ao=0,tu=null,In=null,Em=!1,Tm=0,eh=1/0,th=null,da=null,en=0,ma=null,Ro=null,Co=0,bm=0,wm=null,nE=null,nu=0,Sm=null;function Fn(){if((Xe&2)!==0&&qe!==0)return qe&-qe;if(K.T!==null){var r=mo;return r!==0?r:Nm()}return Er()}function rE(){sr===0&&(sr=(qe&536870912)===0||$e?Ya():536870912);var r=ar.current;return r!==null&&(r.flags|=32),sr}function Hn(r,i,s){(r===st&&(Ze===2||Ze===9)||r.cancelPendingCommit!==null)&&(xo(r,0),pa(r,qe,sr,!1)),ct(r,s),((Xe&2)===0||r!==st)&&(r===st&&((Xe&2)===0&&(Ss|=s),bt===4&&pa(r,qe,sr,!1)),$r(r))}function iE(r,i,s){if((Xe&6)!==0)throw Error(a(327));var l=!s&&(i&124)===0&&(i&r.expiredLanes)===0||vr(r,i),f=l?HA(r,i):Cm(r,i,!0),d=l;do{if(f===0){So&&!l&&pa(r,i,0,!1);break}else{if(s=r.current.alternate,d&&!qA(s)){f=Cm(r,i,!1),d=!1;continue}if(f===2){if(d=i,r.errorRecoveryDisabledLanes&d)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var S=r;f=tu;var k=S.current.memoizedState.isDehydrated;if(k&&(xo(S,T).flags|=256),T=Cm(S,T,!1),T!==2){if(vm&&!k){S.errorRecoveryDisabledLanes|=d,Ss|=d,f=4;break e}d=In,In=f,d!==null&&(In===null?In=d:In.push.apply(In,d))}f=T}if(d=!1,f!==2)continue}}if(f===1){xo(r,0),pa(r,i,0,!0);break}e:{switch(l=r,d=f,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:pa(l,i,sr,!ha);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=Tm+300-Vt(),10<f)){if(pa(l,i,sr,!ha),_n(l,0,!0)!==0)break e;l.timeoutHandle=kE(aE.bind(null,l,s,In,th,Em,i,sr,Ss,Ao,ha,d,2,-0,0),f);break e}aE(l,s,In,th,Em,i,sr,Ss,Ao,ha,d,0,-0,0)}}break}while(!0);$r(r)}function aE(r,i,s,l,f,d,T,S,k,G,J,te,Y,Q){if(r.timeoutHandle=-1,te=i.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(uu={stylesheets:null,count:0,unsuspend:wR},Z_(i),te=AR(),te!==null)){r.cancelPendingCommit=te(fE.bind(null,r,i,d,s,l,f,T,S,k,J,1,Y,Q)),pa(r,d,T,!G);return}fE(r,i,d,s,l,f,T,S,k)}function qA(r){for(var i=r;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],d=f.getSnapshot;f=f.value;try{if(!Ln(d(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function pa(r,i,s,l){i&=~_m,i&=~Ss,r.suspendedLanes|=i,r.pingedLanes&=~i,l&&(r.warmLanes|=i),l=r.expirationTimes;for(var f=i;0<f;){var d=31-Lt(f),T=1<<d;l[d]=-1,f&=~T}s!==0&&gt(r,s,i)}function nh(){return(Xe&6)===0?(ru(0),!1):!0}function Am(){if(je!==null){if(Ze===0)var r=je.return;else r=je,_i=vs=null,qd(r),Eo=null,$l=0,r=je;for(;r!==null;)L_(r.alternate,r),r=r.return;je=null}}function xo(r,i){var s=r.timeoutHandle;s!==-1&&(r.timeoutHandle=-1,sR(s)),s=r.cancelPendingCommit,s!==null&&(r.cancelPendingCommit=null,s()),Am(),st=r,je=s=gi(r.current,null),qe=i,Ze=0,qn=null,ha=!1,So=vr(r,i),vm=!1,Ao=sr=_m=Ss=fa=bt=0,In=tu=null,Em=!1,(i&8)!==0&&(i|=i&32);var l=r.entangledLanes;if(l!==0)for(r=r.entanglements,l&=i;0<l;){var f=31-Lt(l),d=1<<f;i|=r[f],l&=~d}return Ci=i,Sc(),s}function sE(r,i){Me=null,K.H=Fc,i===Ll||i===kc?(i=wv(),Ze=3):i===Ev?(i=wv(),Ze=4):Ze=i===S_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,qn=i,je===null&&(bt=1,Kc(r,tr(i,r.current)))}function oE(){var r=K.H;return K.H=Fc,r===null?Fc:r}function lE(){var r=K.A;return K.A=BA,r}function Rm(){bt=4,ha||(qe&4194048)!==qe&&ar.current!==null||(So=!0),(fa&134217727)===0&&(Ss&134217727)===0||st===null||pa(st,qe,sr,!1)}function Cm(r,i,s){var l=Xe;Xe|=2;var f=oE(),d=lE();(st!==r||qe!==i)&&(th=null,xo(r,i)),i=!1;var T=bt;e:do try{if(Ze!==0&&je!==null){var S=je,k=qn;switch(Ze){case 8:Am(),T=6;break e;case 3:case 2:case 9:case 6:ar.current===null&&(i=!0);var G=Ze;if(Ze=0,qn=null,Io(r,S,k,G),s&&So){T=0;break e}break;default:G=Ze,Ze=0,qn=null,Io(r,S,k,G)}}FA(),T=bt;break}catch(J){sE(r,J)}while(!0);return i&&r.shellSuspendCounter++,_i=vs=null,Xe=l,K.H=f,K.A=d,je===null&&(st=null,qe=0,Sc()),T}function FA(){for(;je!==null;)uE(je)}function HA(r,i){var s=Xe;Xe|=2;var l=oE(),f=lE();st!==r||qe!==i?(th=null,eh=Vt()+500,xo(r,i)):So=vr(r,i);e:do try{if(Ze!==0&&je!==null){i=je;var d=qn;t:switch(Ze){case 1:Ze=0,qn=null,Io(r,i,d,1);break;case 2:case 9:if(Tv(d)){Ze=0,qn=null,cE(i);break}i=function(){Ze!==2&&Ze!==9||st!==r||(Ze=7),$r(r)},d.then(i,i);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Tv(d)?(Ze=0,qn=null,cE(i)):(Ze=0,qn=null,Io(r,i,d,7));break;case 5:var T=null;switch(je.tag){case 26:T=je.memoizedState;case 5:case 27:var S=je;if(!T||GE(T)){Ze=0,qn=null;var k=S.sibling;if(k!==null)je=k;else{var G=S.return;G!==null?(je=G,rh(G)):je=null}break t}}Ze=0,qn=null,Io(r,i,d,5);break;case 6:Ze=0,qn=null,Io(r,i,d,6);break;case 8:Am(),bt=6;break e;default:throw Error(a(462))}}GA();break}catch(J){sE(r,J)}while(!0);return _i=vs=null,K.H=l,K.A=f,Xe=s,je!==null?0:(st=null,qe=0,Sc(),bt)}function GA(){for(;je!==null&&!oi();)uE(je)}function uE(r){var i=j_(r.alternate,r,Ci);r.memoizedProps=r.pendingProps,i===null?rh(r):je=i}function cE(r){var i=r,s=i.alternate;switch(i.tag){case 15:case 0:i=D_(s,i,i.pendingProps,i.type,void 0,qe);break;case 11:i=D_(s,i,i.pendingProps,i.type.render,i.ref,qe);break;case 5:qd(i);default:L_(s,i),i=je=hv(i,Ci),i=j_(s,i,Ci)}r.memoizedProps=r.pendingProps,i===null?rh(r):je=i}function Io(r,i,s,l){_i=vs=null,qd(i),Eo=null,$l=0;var f=i.return;try{if(MA(r,f,i,s,qe)){bt=1,Kc(r,tr(s,r.current)),je=null;return}}catch(d){if(f!==null)throw je=f,d;bt=1,Kc(r,tr(s,r.current)),je=null;return}i.flags&32768?($e||l===1?r=!0:So||(qe&536870912)!==0?r=!1:(ha=r=!0,(l===2||l===9||l===3||l===6)&&(l=ar.current,l!==null&&l.tag===13&&(l.flags|=16384))),hE(i,r)):rh(i)}function rh(r){var i=r;do{if((i.flags&32768)!==0){hE(i,ha);return}r=i.return;var s=jA(i.alternate,i,Ci);if(s!==null){je=s;return}if(i=i.sibling,i!==null){je=i;return}je=i=r}while(i!==null);bt===0&&(bt=5)}function hE(r,i){do{var s=VA(r.alternate,r);if(s!==null){s.flags&=32767,je=s;return}if(s=r.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(r=r.sibling,r!==null)){je=r;return}je=r=s}while(r!==null);bt=6,je=null}function fE(r,i,s,l,f,d,T,S,k){r.cancelPendingCommit=null;do ih();while(en!==0);if((Xe&6)!==0)throw Error(a(327));if(i!==null){if(i===r.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=yd,Ut(r,s,d,T,S,k),r===st&&(je=st=null,qe=0),Ro=i,ma=r,Co=s,bm=d,wm=f,nE=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,QA(gr,function(){return yE(),null})):(r.callbackNode=null,r.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=q.p,q.p=2,T=Xe,Xe|=4;try{LA(r,i,s)}finally{Xe=T,q.p=f,K.T=l}}en=1,dE(),mE(),pE()}}function dE(){if(en===1){en=0;var r=ma,i=Ro,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=K.T,K.T=null;var l=q.p;q.p=2;var f=Xe;Xe|=4;try{Q_(i,r);var d=Um,T=tv(r.containerInfo),S=d.focusedElem,k=d.selectionRange;if(T!==S&&S&&S.ownerDocument&&ev(S.ownerDocument.documentElement,S)){if(k!==null&&fd(S)){var G=k.start,J=k.end;if(J===void 0&&(J=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(J,S.value.length);else{var te=S.ownerDocument||document,Y=te&&te.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),Ae=S.textContent.length,Te=Math.min(k.start,Ae),nt=k.end===void 0?Te:Math.min(k.end,Ae);!Q.extend&&Te>nt&&(T=nt,nt=Te,Te=T);var B=Jy(S,Te),L=Jy(S,nt);if(B&&L&&(Q.rangeCount!==1||Q.anchorNode!==B.node||Q.anchorOffset!==B.offset||Q.focusNode!==L.node||Q.focusOffset!==L.offset)){var F=te.createRange();F.setStart(B.node,B.offset),Q.removeAllRanges(),Te>nt?(Q.addRange(F),Q.extend(L.node,L.offset)):(F.setEnd(L.node,L.offset),Q.addRange(F))}}}}for(te=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var ee=te[S];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}gh=!!Lm,Um=Lm=null}finally{Xe=f,q.p=l,K.T=s}}r.current=i,en=2}}function mE(){if(en===2){en=0;var r=ma,i=Ro,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=K.T,K.T=null;var l=q.p;q.p=2;var f=Xe;Xe|=4;try{G_(r,i.alternate,i)}finally{Xe=f,q.p=l,K.T=s}}en=3}}function pE(){if(en===4||en===3){en=0,Yt();var r=ma,i=Ro,s=Co,l=nE;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?en=5:(en=0,Ro=ma=null,gE(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(da=null),ln(s),i=i.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Lr,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,f=q.p,q.p=2,K.T=null;try{for(var d=r.onRecoverableError,T=0;T<l.length;T++){var S=l[T];d(S.value,{componentStack:S.stack})}}finally{K.T=i,q.p=f}}(Co&3)!==0&&ih(),$r(r),f=r.pendingLanes,(s&4194090)!==0&&(f&42)!==0?r===Sm?nu++:(nu=0,Sm=r):nu=0,ru(0)}}function gE(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,jl(i)))}function ih(r){return dE(),mE(),pE(),yE()}function yE(){if(en!==5)return!1;var r=ma,i=bm;bm=0;var s=ln(Co),l=K.T,f=q.p;try{q.p=32>s?32:s,K.T=null,s=wm,wm=null;var d=ma,T=Co;if(en=0,Ro=ma=null,Co=0,(Xe&6)!==0)throw Error(a(331));var S=Xe;if(Xe|=4,eE(d.current),X_(d,d.current,T,s),Xe=S,ru(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Lr,d)}catch{}return!0}finally{q.p=f,K.T=l,gE(r,i)}}function vE(r,i,s){i=tr(s,i),i=nm(r.stateNode,i,2),r=ia(r,i,2),r!==null&&(ct(r,2),$r(r))}function rt(r,i,s){if(r.tag===3)vE(r,r,s);else for(;i!==null;){if(i.tag===3){vE(i,r,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(da===null||!da.has(l))){r=tr(s,r),s=b_(2),l=ia(i,s,2),l!==null&&(w_(s,l,i,r),ct(l,2),$r(l));break}}i=i.return}}function xm(r,i,s){var l=r.pingCache;if(l===null){l=r.pingCache=new zA;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(s)||(vm=!0,f.add(s),r=YA.bind(null,r,i,s),i.then(r,r))}function YA(r,i,s){var l=r.pingCache;l!==null&&l.delete(i),r.pingedLanes|=r.suspendedLanes&s,r.warmLanes&=~s,st===r&&(qe&s)===s&&(bt===4||bt===3&&(qe&62914560)===qe&&300>Vt()-Tm?(Xe&2)===0&&xo(r,0):_m|=s,Ao===qe&&(Ao=0)),$r(r)}function _E(r,i){i===0&&(i=_r()),r=uo(r,i),r!==null&&(ct(r,i),$r(r))}function $A(r){var i=r.memoizedState,s=0;i!==null&&(s=i.retryLane),_E(r,s)}function KA(r,i){var s=0;switch(r.tag){case 13:var l=r.stateNode,f=r.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=r.stateNode;break;case 22:l=r.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),_E(r,s)}function QA(r,i){return pr(r,i)}var ah=null,Do=null,Im=!1,sh=!1,Dm=!1,As=0;function $r(r){r!==Do&&r.next===null&&(Do===null?ah=Do=r:Do=Do.next=r),sh=!0,Im||(Im=!0,XA())}function ru(r,i){if(!Dm&&sh){Dm=!0;do for(var s=!1,l=ah;l!==null;){if(r!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var T=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-Lt(42|r)+1)-1,d&=f&~(T&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,wE(l,d))}else d=qe,d=_n(l,l===st?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||vr(l,d)||(s=!0,wE(l,d));l=l.next}while(s);Dm=!1}}function WA(){EE()}function EE(){sh=Im=!1;var r=0;As!==0&&(aR()&&(r=As),As=0);for(var i=Vt(),s=null,l=ah;l!==null;){var f=l.next,d=TE(l,i);d===0?(l.next=null,s===null?ah=f:s.next=f,f===null&&(Do=s)):(s=l,(r!==0||(d&3)!==0)&&(sh=!0)),l=f}ru(r)}function TE(r,i){for(var s=r.suspendedLanes,l=r.pingedLanes,f=r.expirationTimes,d=r.pendingLanes&-62914561;0<d;){var T=31-Lt(d),S=1<<T,k=f[T];k===-1?((S&s)===0||(S&l)!==0)&&(f[T]=Ur(S,i)):k<=i&&(r.expiredLanes|=S),d&=~S}if(i=st,s=qe,s=_n(r,r===i?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l=r.callbackNode,s===0||r===i&&(Ze===2||Ze===9)||r.cancelPendingCommit!==null)return l!==null&&l!==null&&it(l),r.callbackNode=null,r.callbackPriority=0;if((s&3)===0||vr(r,s)){if(i=s&-s,i===r.callbackPriority)return i;switch(l!==null&&it(l),ln(s)){case 2:case 8:s=Ot;break;case 32:s=gr;break;case 268435456:s=Yi;break;default:s=gr}return l=bE.bind(null,r),s=pr(s,l),r.callbackPriority=i,r.callbackNode=s,i}return l!==null&&l!==null&&it(l),r.callbackPriority=2,r.callbackNode=null,2}function bE(r,i){if(en!==0&&en!==5)return r.callbackNode=null,r.callbackPriority=0,null;var s=r.callbackNode;if(ih()&&r.callbackNode!==s)return null;var l=qe;return l=_n(r,r===st?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l===0?null:(iE(r,l,i),TE(r,Vt()),r.callbackNode!=null&&r.callbackNode===s?bE.bind(null,r):null)}function wE(r,i){if(ih())return null;iE(r,i,!0)}function XA(){oR(function(){(Xe&6)!==0?pr(Et,WA):EE()})}function Nm(){return As===0&&(As=Ya()),As}function SE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Sr(""+r)}function AE(r,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,r.id&&s.setAttribute("form",r.id),i.parentNode.insertBefore(s,i),r=new FormData(r),s.parentNode.removeChild(s),r}function ZA(r,i,s,l,f){if(i==="submit"&&s&&s.stateNode===f){var d=SE((f[St]||null).action),T=l.submitter;T&&(i=(i=T[St]||null)?SE(i.formAction):T.getAttribute("formAction"),i!==null&&(d=i,T=null));var S=new is("action","action",null,l,f);r.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(As!==0){var k=T?AE(f,T):new FormData(f);Xd(s,{pending:!0,data:k,method:f.method,action:d},null,k)}}else typeof d=="function"&&(S.preventDefault(),k=T?AE(f,T):new FormData(f),Xd(s,{pending:!0,data:k,method:f.method,action:d},d,k))},currentTarget:f}]})}}for(var Om=0;Om<gd.length;Om++){var km=gd[Om],JA=km.toLowerCase(),eR=km[0].toUpperCase()+km.slice(1);xr(JA,"on"+eR)}xr(iv,"onAnimationEnd"),xr(av,"onAnimationIteration"),xr(sv,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(yA,"onTransitionRun"),xr(vA,"onTransitionStart"),xr(_A,"onTransitionCancel"),xr(ov,"onTransitionEnd"),Xn("onMouseEnter",["mouseout","mouseover"]),Xn("onMouseLeave",["mouseout","mouseover"]),Xn("onPointerEnter",["pointerout","pointerover"]),Xn("onPointerLeave",["pointerout","pointerover"]),Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iu));function RE(r,i){i=(i&4)!==0;for(var s=0;s<r.length;s++){var l=r[s],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var T=l.length-1;0<=T;T--){var S=l[T],k=S.instance,G=S.currentTarget;if(S=S.listener,k!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=G;try{d(f)}catch(J){$c(J)}f.currentTarget=null,d=k}else for(T=0;T<l.length;T++){if(S=l[T],k=S.instance,G=S.currentTarget,S=S.listener,k!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=G;try{d(f)}catch(J){$c(J)}f.currentTarget=null,d=k}}}}function Ve(r,i){var s=i[Tr];s===void 0&&(s=i[Tr]=new Set);var l=r+"__bubble";s.has(l)||(CE(i,r,2,!1),s.add(l))}function Mm(r,i,s){var l=0;i&&(l|=4),CE(s,r,l,i)}var oh="_reactListening"+Math.random().toString(36).slice(2);function Pm(r){if(!r[oh]){r[oh]=!0,un.forEach(function(s){s!=="selectionchange"&&(tR.has(s)||Mm(s,!1,r),Mm(s,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[oh]||(i[oh]=!0,Mm("selectionchange",!1,i))}}function CE(r,i,s,l){switch(XE(i)){case 2:var f=xR;break;case 8:f=IR;break;default:f=Qm}s=f.bind(null,i,s,r),f=void 0,!mi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?r.addEventListener(i,s,{capture:!0,passive:f}):r.addEventListener(i,s,!0):f!==void 0?r.addEventListener(i,s,{passive:f}):r.addEventListener(i,s,!1)}function jm(r,i,s,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var S=l.stateNode.containerInfo;if(S===f)break;if(T===4)for(T=l.return;T!==null;){var k=T.tag;if((k===3||k===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;S!==null;){if(T=Qn(S),T===null)return;if(k=T.tag,k===5||k===6||k===26||k===27){l=d=T;continue e}S=S.parentNode}}l=l.return}ts(function(){var G=d,J=Tl(s),te=[];e:{var Y=lv.get(r);if(Y!==void 0){var Q=is,Ae=r;switch(r){case"keypress":if(ns(s)===0)break e;case"keydown":case"keyup":Q=ao;break;case"focusin":Ae="focus",Q=no;break;case"focusout":Ae="blur",Q=no;break;case"beforeblur":case"afterblur":Q=no;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=us;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=pc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=ea;break;case iv:case av:case sv:Q=wl;break;case ov:Q=y;break;case"scroll":case"scrollend":Q=ss;break;case"wheel":Q=C;break;case"copy":case"cut":case"paste":Q=yc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Rl;break;case"toggle":case"beforetoggle":Q=W}var Te=(i&4)!==0,nt=!Te&&(r==="scroll"||r==="scrollend"),B=Te?Y!==null?Y+"Capture":null:Y;Te=[];for(var L=G,F;L!==null;){var ee=L;if(F=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||F===null||B===null||(ee=Zi(L,B),ee!=null&&Te.push(au(L,ee,F))),nt)break;L=L.return}0<Te.length&&(Y=new Q(Y,Ae,null,s,J),te.push({event:Y,listeners:Te}))}}if((i&7)===0){e:{if(Y=r==="mouseover"||r==="pointerover",Q=r==="mouseout"||r==="pointerout",Y&&s!==El&&(Ae=s.relatedTarget||s.fromElement)&&(Qn(Ae)||Ae[An]))break e;if((Q||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(Ae=s.relatedTarget||s.toElement,Q=G,Ae=Ae?Qn(Ae):null,Ae!==null&&(nt=u(Ae),Te=Ae.tag,Ae!==nt||Te!==5&&Te!==27&&Te!==6)&&(Ae=null)):(Q=null,Ae=G),Q!==Ae)){if(Te=us,ee="onMouseLeave",B="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(Te=Rl,ee="onPointerLeave",B="onPointerEnter",L="pointer"),nt=Q==null?Y:Re(Q),F=Ae==null?Y:Re(Ae),Y=new Te(ee,L+"leave",Q,s,J),Y.target=nt,Y.relatedTarget=F,ee=null,Qn(J)===G&&(Te=new Te(B,L+"enter",Ae,s,J),Te.target=F,Te.relatedTarget=nt,ee=Te),nt=ee,Q&&Ae)t:{for(Te=Q,B=Ae,L=0,F=Te;F;F=No(F))L++;for(F=0,ee=B;ee;ee=No(ee))F++;for(;0<L-F;)Te=No(Te),L--;for(;0<F-L;)B=No(B),F--;for(;L--;){if(Te===B||B!==null&&Te===B.alternate)break t;Te=No(Te),B=No(B)}Te=null}else Te=null;Q!==null&&xE(te,Y,Q,Te,!1),Ae!==null&&nt!==null&&xE(te,nt,Ae,Te,!0)}}e:{if(Y=G?Re(G):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var pe=$y;else if(Gy(Y))if(Ky)pe=mA;else{pe=fA;var Pe=hA}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&Js(G.elementType)&&(pe=$y):pe=dA;if(pe&&(pe=pe(r,G))){Yy(te,pe,s,J);break e}Pe&&Pe(r,Y,G),r==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&yl(Y,"number",Y.value)}switch(Pe=G?Re(G):window,r){case"focusin":(Gy(Pe)||Pe.contentEditable==="true")&&(so=Pe,dd=G,Nl=null);break;case"focusout":Nl=dd=so=null;break;case"mousedown":md=!0;break;case"contextmenu":case"mouseup":case"dragend":md=!1,nv(te,s,J);break;case"selectionchange":if(gA)break;case"keydown":case"keyup":nv(te,s,J)}var ye;if(xe)e:{switch(r){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Cr?Ar(r,s)&&(be="onCompositionEnd"):r==="keydown"&&s.keyCode===229&&(be="onCompositionStart");be&&(At&&s.locale!=="ko"&&(Cr||be!=="onCompositionStart"?be==="onCompositionEnd"&&Cr&&(ye=mc()):(er=J,at="value"in er?er.value:er.textContent,Cr=!0)),Pe=lh(G,be),0<Pe.length&&(be=new Al(be,r,null,s,J),te.push({event:be,listeners:Pe}),ye?be.data=ye:(ye=Rr(s),ye!==null&&(be.data=ye)))),(ye=We?Cl(r,s):lA(r,s))&&(be=lh(G,"onBeforeInput"),0<be.length&&(Pe=new Al("onBeforeInput","beforeinput",null,s,J),te.push({event:Pe,listeners:be}),Pe.data=ye)),ZA(te,r,G,s,J)}RE(te,i)})}function au(r,i,s){return{instance:r,listener:i,currentTarget:s}}function lh(r,i){for(var s=i+"Capture",l=[];r!==null;){var f=r,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Zi(r,s),f!=null&&l.unshift(au(r,f,d)),f=Zi(r,i),f!=null&&l.push(au(r,f,d))),r.tag===3)return l;r=r.return}return[]}function No(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function xE(r,i,s,l,f){for(var d=i._reactName,T=[];s!==null&&s!==l;){var S=s,k=S.alternate,G=S.stateNode;if(S=S.tag,k!==null&&k===l)break;S!==5&&S!==26&&S!==27||G===null||(k=G,f?(G=Zi(s,d),G!=null&&T.unshift(au(s,G,k))):f||(G=Zi(s,d),G!=null&&T.push(au(s,G,k)))),s=s.return}T.length!==0&&r.push({event:i,listeners:T})}var nR=/\r\n?/g,rR=/\u0000|\uFFFD/g;function IE(r){return(typeof r=="string"?r:""+r).replace(nR,`
`).replace(rR,"")}function DE(r,i){return i=IE(i),IE(r)===i}function uh(){}function tt(r,i,s,l,f,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Jn(r,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Jn(r,""+l);break;case"className":Wa(r,"class",l);break;case"tabIndex":Wa(r,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Wa(r,s,l);break;case"style":_l(r,l,d);break;case"data":if(i!=="object"){Wa(r,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){r.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(s);break}l=Sr(""+l),r.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){r.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&tt(r,i,"name",f.name,f,null),tt(r,i,"formEncType",f.formEncType,f,null),tt(r,i,"formMethod",f.formMethod,f,null),tt(r,i,"formTarget",f.formTarget,f,null)):(tt(r,i,"encType",f.encType,f,null),tt(r,i,"method",f.method,f,null),tt(r,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(s);break}l=Sr(""+l),r.setAttribute(s,l);break;case"onClick":l!=null&&(r.onclick=uh);break;case"onScroll":l!=null&&Ve("scroll",r);break;case"onScrollEnd":l!=null&&Ve("scrollend",r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));r.innerHTML=s}}break;case"multiple":r.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":r.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){r.removeAttribute("xlink:href");break}s=Sr(""+l),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(s,""+l):r.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(s,""):r.removeAttribute(s);break;case"capture":case"download":l===!0?r.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(s,l):r.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?r.setAttribute(s,l):r.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?r.removeAttribute(s):r.setAttribute(s,l);break;case"popover":Ve("beforetoggle",r),Ve("toggle",r),Qa(r,"popover",l);break;case"xlinkActuate":Zn(r,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Zn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Zn(r,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Zn(r,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Zn(r,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Zn(r,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Zn(r,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Zn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Zn(r,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qa(r,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=hc.get(s)||s,Qa(r,s,l))}}function Vm(r,i,s,l,f,d){switch(s){case"style":_l(r,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));r.innerHTML=s}}break;case"children":typeof l=="string"?Jn(r,l):(typeof l=="number"||typeof l=="bigint")&&Jn(r,""+l);break;case"onScroll":l!=null&&Ve("scroll",r);break;case"onScrollEnd":l!=null&&Ve("scrollend",r);break;case"onClick":l!=null&&(r.onclick=uh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bt.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),d=r[St]||null,d=d!=null?d[s]:null,typeof d=="function"&&r.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(s in r?r[s]=null:r.hasAttribute(s)&&r.removeAttribute(s)),r.addEventListener(i,l,f);break e}s in r?r[s]=l:l===!0?r.setAttribute(s,""):Qa(r,s,l)}}}function tn(r,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",r),Ve("load",r);var l=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var T=s[d];if(T!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:tt(r,i,d,T,s,null)}}f&&tt(r,i,"srcSet",s.srcSet,s,null),l&&tt(r,i,"src",s.src,s,null);return;case"input":Ve("invalid",r);var S=d=T=f=null,k=null,G=null;for(l in s)if(s.hasOwnProperty(l)){var J=s[l];if(J!=null)switch(l){case"name":f=J;break;case"type":T=J;break;case"checked":k=J;break;case"defaultChecked":G=J;break;case"value":d=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:tt(r,i,l,J,s,null)}}gl(r,d,S,k,G,T,f,!1),Qi(r);return;case"select":Ve("invalid",r),l=T=d=null;for(f in s)if(s.hasOwnProperty(f)&&(S=s[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":T=S;break;case"multiple":l=S;default:tt(r,i,f,S,s,null)}i=d,s=T,r.multiple=!!l,i!=null?Wi(r,!!l,i,!1):s!=null&&Wi(r,!!l,s,!0);return;case"textarea":Ve("invalid",r),d=f=l=null;for(T in s)if(s.hasOwnProperty(T)&&(S=s[T],S!=null))switch(T){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:tt(r,i,T,S,s,null)}cc(r,l,f,d),Qi(r);return;case"option":for(k in s)if(s.hasOwnProperty(k)&&(l=s[k],l!=null))switch(k){case"selected":r.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:tt(r,i,k,l,s,null)}return;case"dialog":Ve("beforetoggle",r),Ve("toggle",r),Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":Ve("load",r);break;case"video":case"audio":for(l=0;l<iu.length;l++)Ve(iu[l],r);break;case"image":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"embed":case"source":case"link":Ve("error",r),Ve("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in s)if(s.hasOwnProperty(G)&&(l=s[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:tt(r,i,G,l,s,null)}return;default:if(Js(i)){for(J in s)s.hasOwnProperty(J)&&(l=s[J],l!==void 0&&Vm(r,i,J,l,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(l=s[S],l!=null&&tt(r,i,S,l,s,null))}function iR(r,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,T=null,S=null,k=null,G=null,J=null;for(Q in s){var te=s[Q];if(s.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":k=te;default:l.hasOwnProperty(Q)||tt(r,i,Q,null,l,te)}}for(var Y in l){var Q=l[Y];if(te=s[Y],l.hasOwnProperty(Y)&&(Q!=null||te!=null))switch(Y){case"type":d=Q;break;case"name":f=Q;break;case"checked":G=Q;break;case"defaultChecked":J=Q;break;case"value":T=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:Q!==te&&tt(r,i,Y,Q,l,te)}}pl(r,T,S,k,G,J,d,f);return;case"select":Q=T=S=Y=null;for(d in s)if(k=s[d],s.hasOwnProperty(d)&&k!=null)switch(d){case"value":break;case"multiple":Q=k;default:l.hasOwnProperty(d)||tt(r,i,d,null,l,k)}for(f in l)if(d=l[f],k=s[f],l.hasOwnProperty(f)&&(d!=null||k!=null))switch(f){case"value":Y=d;break;case"defaultValue":S=d;break;case"multiple":T=d;default:d!==k&&tt(r,i,f,d,l,k)}i=S,s=T,l=Q,Y!=null?Wi(r,!!s,Y,!1):!!l!=!!s&&(i!=null?Wi(r,!!s,i,!0):Wi(r,!!s,s?[]:"",!1));return;case"textarea":Q=Y=null;for(S in s)if(f=s[S],s.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:tt(r,i,S,null,l,f)}for(T in l)if(f=l[T],d=s[T],l.hasOwnProperty(T)&&(f!=null||d!=null))switch(T){case"value":Y=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==d&&tt(r,i,T,f,l,d)}uc(r,Y,Q);return;case"option":for(var Ae in s)if(Y=s[Ae],s.hasOwnProperty(Ae)&&Y!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":r.selected=!1;break;default:tt(r,i,Ae,null,l,Y)}for(k in l)if(Y=l[k],Q=s[k],l.hasOwnProperty(k)&&Y!==Q&&(Y!=null||Q!=null))switch(k){case"selected":r.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:tt(r,i,k,Y,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in s)Y=s[Te],s.hasOwnProperty(Te)&&Y!=null&&!l.hasOwnProperty(Te)&&tt(r,i,Te,null,l,Y);for(G in l)if(Y=l[G],Q=s[G],l.hasOwnProperty(G)&&Y!==Q&&(Y!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,i));break;default:tt(r,i,G,Y,l,Q)}return;default:if(Js(i)){for(var nt in s)Y=s[nt],s.hasOwnProperty(nt)&&Y!==void 0&&!l.hasOwnProperty(nt)&&Vm(r,i,nt,void 0,l,Y);for(J in l)Y=l[J],Q=s[J],!l.hasOwnProperty(J)||Y===Q||Y===void 0&&Q===void 0||Vm(r,i,J,Y,l,Q);return}}for(var B in s)Y=s[B],s.hasOwnProperty(B)&&Y!=null&&!l.hasOwnProperty(B)&&tt(r,i,B,null,l,Y);for(te in l)Y=l[te],Q=s[te],!l.hasOwnProperty(te)||Y===Q||Y==null&&Q==null||tt(r,i,te,Y,l,Q)}var Lm=null,Um=null;function ch(r){return r.nodeType===9?r:r.ownerDocument}function NE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function OE(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Bm(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var zm=null;function aR(){var r=window.event;return r&&r.type==="popstate"?r===zm?!1:(zm=r,!0):(zm=null,!1)}var kE=typeof setTimeout=="function"?setTimeout:void 0,sR=typeof clearTimeout=="function"?clearTimeout:void 0,ME=typeof Promise=="function"?Promise:void 0,oR=typeof queueMicrotask=="function"?queueMicrotask:typeof ME<"u"?function(r){return ME.resolve(null).then(r).catch(lR)}:kE;function lR(r){setTimeout(function(){throw r})}function ga(r){return r==="head"}function PE(r,i){var s=i,l=0,f=0;do{var d=s.nextSibling;if(r.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var T=r.ownerDocument;if(s&1&&su(T.documentElement),s&2&&su(T.body),s&4)for(s=T.head,su(s),T=s.firstChild;T;){var S=T.nextSibling,k=T.nodeName;T[Kn]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&T.rel.toLowerCase()==="stylesheet"||s.removeChild(T),T=S}}if(f===0){r.removeChild(d),mu(i);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);mu(i)}function qm(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":qm(s),ui(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}r.removeChild(s)}}function uR(r,i,s,l){for(;r.nodeType===1;){var f=s;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(l){if(!r[Kn])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(d=r.getAttribute("rel"),d==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(d!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(d=r.getAttribute("src"),(d!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===d)return r}else return r;if(r=Dr(r.nextSibling),r===null)break}return null}function cR(r,i,s){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=Dr(r.nextSibling),r===null))return null;return r}function Fm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function hR(r,i){var s=r.ownerDocument;if(r.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),r._reactRetry=l}}function Dr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Hm=null;function jE(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var s=r.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return r;i--}else s==="/$"&&i++}r=r.previousSibling}return null}function VE(r,i,s){switch(i=ch(s),r){case"html":if(r=i.documentElement,!r)throw Error(a(452));return r;case"head":if(r=i.head,!r)throw Error(a(453));return r;case"body":if(r=i.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function su(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);ui(r)}var or=new Map,LE=new Set;function hh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var xi=q.d;q.d={f:fR,r:dR,D:mR,C:pR,L:gR,m:yR,X:_R,S:vR,M:ER};function fR(){var r=xi.f(),i=nh();return r||i}function dR(r){var i=Wn(r);i!==null&&i.tag===5&&i.type==="form"?i_(i):xi.r(r)}var Oo=typeof document>"u"?null:document;function UE(r,i,s){var l=Oo;if(l&&typeof i=="string"&&i){var f=Kt(i);f='link[rel="'+r+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),LE.has(f)||(LE.add(f),r={rel:r,crossOrigin:s,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),tn(i,"link",r),De(i),l.head.appendChild(i)))}}function mR(r){xi.D(r),UE("dns-prefetch",r,null)}function pR(r,i){xi.C(r,i),UE("preconnect",r,i)}function gR(r,i,s){xi.L(r,i,s);var l=Oo;if(l&&r&&i){var f='link[rel="preload"][as="'+Kt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Kt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Kt(s.imageSizes)+'"]')):f+='[href="'+Kt(r)+'"]';var d=f;switch(i){case"style":d=ko(r);break;case"script":d=Mo(r)}or.has(d)||(r=_({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:r,as:i},s),or.set(d,r),l.querySelector(f)!==null||i==="style"&&l.querySelector(ou(d))||i==="script"&&l.querySelector(lu(d))||(i=l.createElement("link"),tn(i,"link",r),De(i),l.head.appendChild(i)))}}function yR(r,i){xi.m(r,i);var s=Oo;if(s&&r){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Kt(l)+'"][href="'+Kt(r)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Mo(r)}if(!or.has(d)&&(r=_({rel:"modulepreload",href:r},i),or.set(d,r),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(lu(d)))return}l=s.createElement("link"),tn(l,"link",r),De(l),s.head.appendChild(l)}}}function vR(r,i,s){xi.S(r,i,s);var l=Oo;if(l&&r){var f=Ye(l).hoistableStyles,d=ko(r);i=i||"default";var T=f.get(d);if(!T){var S={loading:0,preload:null};if(T=l.querySelector(ou(d)))S.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":i},s),(s=or.get(d))&&Gm(r,s);var k=T=l.createElement("link");De(k),tn(k,"link",r),k._p=new Promise(function(G,J){k.onload=G,k.onerror=J}),k.addEventListener("load",function(){S.loading|=1}),k.addEventListener("error",function(){S.loading|=2}),S.loading|=4,fh(T,i,l)}T={type:"stylesheet",instance:T,count:1,state:S},f.set(d,T)}}}function _R(r,i){xi.X(r,i);var s=Oo;if(s&&r){var l=Ye(s).hoistableScripts,f=Mo(r),d=l.get(f);d||(d=s.querySelector(lu(f)),d||(r=_({src:r,async:!0},i),(i=or.get(f))&&Ym(r,i),d=s.createElement("script"),De(d),tn(d,"link",r),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function ER(r,i){xi.M(r,i);var s=Oo;if(s&&r){var l=Ye(s).hoistableScripts,f=Mo(r),d=l.get(f);d||(d=s.querySelector(lu(f)),d||(r=_({src:r,async:!0,type:"module"},i),(i=or.get(f))&&Ym(r,i),d=s.createElement("script"),De(d),tn(d,"link",r),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function BE(r,i,s,l){var f=(f=_e.current)?hh(f):null;if(!f)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=ko(s.href),s=Ye(f).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){r=ko(s.href);var d=Ye(f).hoistableStyles,T=d.get(r);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(r,T),(d=f.querySelector(ou(r)))&&!d._p&&(T.instance=d,T.state.loading=5),or.has(r)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},or.set(r,s),d||TR(f,r,s,T.state))),i&&l===null)throw Error(a(528,""));return T}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Mo(s),s=Ye(f).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function ko(r){return'href="'+Kt(r)+'"'}function ou(r){return'link[rel="stylesheet"]['+r+"]"}function zE(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function TR(r,i,s,l){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=r.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),tn(i,"link",s),De(i),r.head.appendChild(i))}function Mo(r){return'[src="'+Kt(r)+'"]'}function lu(r){return"script[async]"+r}function qE(r,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=r.querySelector('style[data-href~="'+Kt(s.href)+'"]');if(l)return i.instance=l,De(l),l;var f=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(r.ownerDocument||r).createElement("style"),De(l),tn(l,"style",f),fh(l,s.precedence,r),i.instance=l;case"stylesheet":f=ko(s.href);var d=r.querySelector(ou(f));if(d)return i.state.loading|=4,i.instance=d,De(d),d;l=zE(s),(f=or.get(f))&&Gm(l,f),d=(r.ownerDocument||r).createElement("link"),De(d);var T=d;return T._p=new Promise(function(S,k){T.onload=S,T.onerror=k}),tn(d,"link",l),i.state.loading|=4,fh(d,s.precedence,r),i.instance=d;case"script":return d=Mo(s.src),(f=r.querySelector(lu(d)))?(i.instance=f,De(f),f):(l=s,(f=or.get(d))&&(l=_({},s),Ym(l,f)),r=r.ownerDocument||r,f=r.createElement("script"),De(f),tn(f,"link",l),r.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,fh(l,s.precedence,r));return i.instance}function fh(r,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,T=0;T<l.length;T++){var S=l[T];if(S.dataset.precedence===i)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(r,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(r,i.firstChild))}function Gm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Ym(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var dh=null;function FE(r,i,s){if(dh===null){var l=new Map,f=dh=new Map;f.set(s,l)}else f=dh,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(r))return l;for(l.set(r,null),s=s.getElementsByTagName(r),f=0;f<s.length;f++){var d=s[f];if(!(d[Kn]||d[ht]||r==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var T=d.getAttribute(i)||"";T=r+T;var S=l.get(T);S?S.push(d):l.set(T,[d])}}return l}function HE(r,i,s){r=r.ownerDocument||r,r.head.insertBefore(s,i==="title"?r.querySelector("head > title"):null)}function bR(r,i,s){if(s===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function GE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var uu=null;function wR(){}function SR(r,i,s){if(uu===null)throw Error(a(475));var l=uu;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=ko(s.href),d=r.querySelector(ou(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(l.count++,l=mh.bind(l),r.then(l,l)),i.state.loading|=4,i.instance=d,De(d);return}d=r.ownerDocument||r,s=zE(s),(f=or.get(f))&&Gm(s,f),d=d.createElement("link"),De(d);var T=d;T._p=new Promise(function(S,k){T.onload=S,T.onerror=k}),tn(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=mh.bind(l),r.addEventListener("load",i),r.addEventListener("error",i))}}function AR(){if(uu===null)throw Error(a(475));var r=uu;return r.stylesheets&&r.count===0&&$m(r,r.stylesheets),0<r.count?function(i){var s=setTimeout(function(){if(r.stylesheets&&$m(r,r.stylesheets),r.unsuspend){var l=r.unsuspend;r.unsuspend=null,l()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(s)}}:null}function mh(){if(this.count--,this.count===0){if(this.stylesheets)$m(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ph=null;function $m(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ph=new Map,i.forEach(RR,r),ph=null,mh.call(r))}function RR(r,i){if(!(i.state.loading&4)){var s=ph.get(r);if(s)var l=s.get(null);else{s=new Map,ph.set(r,s);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var T=f[d];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),l=T)}l&&s.set(null,l)}f=i.instance,T=f.getAttribute("data-precedence"),d=s.get(T)||l,d===l&&s.set(null,f),s.set(T,f),this.count++,l=mh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),i.state.loading|=4}}var cu={$$typeof:ie,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function CR(r,i,s,l,f,d,T,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.hiddenUpdates=$i(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function YE(r,i,s,l,f,d,T,S,k,G,J,te){return r=new CR(r,i,s,T,S,k,G,te),i=1,d===!0&&(i|=24),d=Un(3,null,null,i),r.current=d,d.stateNode=r,i=xd(),i.refCount++,r.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},Od(d),r}function $E(r){return r?(r=co,r):co}function KE(r,i,s,l,f,d){f=$E(f),l.context===null?l.context=f:l.pendingContext=f,l=ra(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=ia(r,l,i),s!==null&&(Hn(s,r,i),Bl(s,r,i))}function QE(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var s=r.retryLane;r.retryLane=s!==0&&s<i?s:i}}function Km(r,i){QE(r,i),(r=r.alternate)&&QE(r,i)}function WE(r){if(r.tag===13){var i=uo(r,67108864);i!==null&&Hn(i,r,67108864),Km(r,67108864)}}var gh=!0;function xR(r,i,s,l){var f=K.T;K.T=null;var d=q.p;try{q.p=2,Qm(r,i,s,l)}finally{q.p=d,K.T=f}}function IR(r,i,s,l){var f=K.T;K.T=null;var d=q.p;try{q.p=8,Qm(r,i,s,l)}finally{q.p=d,K.T=f}}function Qm(r,i,s,l){if(gh){var f=Wm(l);if(f===null)jm(r,i,l,yh,s),ZE(r,l);else if(NR(f,r,i,s,l))l.stopPropagation();else if(ZE(r,l),i&4&&-1<DR.indexOf(r)){for(;f!==null;){var d=Wn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var T=kn(d.pendingLanes);if(T!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var k=1<<31-Lt(T);S.entanglements[1]|=k,T&=~k}$r(d),(Xe&6)===0&&(eh=Vt()+500,ru(0))}}break;case 13:S=uo(d,2),S!==null&&Hn(S,d,2),nh(),Km(d,2)}if(d=Wm(l),d===null&&jm(r,i,l,yh,s),d===f)break;f=d}f!==null&&l.stopPropagation()}else jm(r,i,l,null,s)}}function Wm(r){return r=Tl(r),Xm(r)}var yh=null;function Xm(r){if(yh=null,r=Qn(r),r!==null){var i=u(r);if(i===null)r=null;else{var s=i.tag;if(s===13){if(r=c(i),r!==null)return r;r=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return yh=r,null}function XE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ha()){case Et:return 2;case Ot:return 8;case gr:case dl:return 32;case Yi:return 268435456;default:return 32}default:return 32}}var Zm=!1,ya=null,va=null,_a=null,hu=new Map,fu=new Map,Ea=[],DR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ZE(r,i){switch(r){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":hu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(i.pointerId)}}function du(r,i,s,l,f,d){return r===null||r.nativeEvent!==d?(r={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Wn(i),i!==null&&WE(i)),r):(r.eventSystemFlags|=l,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function NR(r,i,s,l,f){switch(i){case"focusin":return ya=du(ya,r,i,s,l,f),!0;case"dragenter":return va=du(va,r,i,s,l,f),!0;case"mouseover":return _a=du(_a,r,i,s,l,f),!0;case"pointerover":var d=f.pointerId;return hu.set(d,du(hu.get(d)||null,r,i,s,l,f)),!0;case"gotpointercapture":return d=f.pointerId,fu.set(d,du(fu.get(d)||null,r,i,s,l,f)),!0}return!1}function JE(r){var i=Qn(r.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=c(s),i!==null){r.blockedOn=i,$a(r.priority,function(){if(s.tag===13){var l=Fn();l=Qe(l);var f=uo(s,l);f!==null&&Hn(f,s,l),Km(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){r.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}r.blockedOn=null}function vh(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var s=Wm(r.nativeEvent);if(s===null){s=r.nativeEvent;var l=new s.constructor(s.type,s);El=l,s.target.dispatchEvent(l),El=null}else return i=Wn(s),i!==null&&WE(i),r.blockedOn=s,!1;i.shift()}return!0}function eT(r,i,s){vh(r)&&s.delete(i)}function OR(){Zm=!1,ya!==null&&vh(ya)&&(ya=null),va!==null&&vh(va)&&(va=null),_a!==null&&vh(_a)&&(_a=null),hu.forEach(eT),fu.forEach(eT)}function _h(r,i){r.blockedOn===i&&(r.blockedOn=null,Zm||(Zm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,OR)))}var Eh=null;function tT(r){Eh!==r&&(Eh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Eh===r&&(Eh=null);for(var i=0;i<r.length;i+=3){var s=r[i],l=r[i+1],f=r[i+2];if(typeof l!="function"){if(Xm(l||s)===null)continue;break}var d=Wn(s);d!==null&&(r.splice(i,3),i-=3,Xd(d,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function mu(r){function i(k){return _h(k,r)}ya!==null&&_h(ya,r),va!==null&&_h(va,r),_a!==null&&_h(_a,r),hu.forEach(i),fu.forEach(i);for(var s=0;s<Ea.length;s++){var l=Ea[s];l.blockedOn===r&&(l.blockedOn=null)}for(;0<Ea.length&&(s=Ea[0],s.blockedOn===null);)JE(s),s.blockedOn===null&&Ea.shift();if(s=(r.ownerDocument||r).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],d=s[l+1],T=f[St]||null;if(typeof d=="function")T||tT(s);else if(T){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,T=d[St]||null)S=T.formAction;else if(Xm(f)!==null)continue}else S=T.action;typeof S=="function"?s[l+1]=S:(s.splice(l,3),l-=3),tT(s)}}}function Jm(r){this._internalRoot=r}Th.prototype.render=Jm.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Fn();KE(s,l,r,i,null,null)},Th.prototype.unmount=Jm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;KE(r.current,2,null,r,null,null),nh(),i[An]=null}};function Th(r){this._internalRoot=r}Th.prototype.unstable_scheduleHydration=function(r){if(r){var i=Er();r={blockedOn:null,target:r,priority:i};for(var s=0;s<Ea.length&&i!==0&&i<Ea[s].priority;s++);Ea.splice(s,0,r),s===0&&JE(r)}};var nT=e.version;if(nT!=="19.1.1")throw Error(a(527,nT,"19.1.1"));q.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=g(i),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var kR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bh.isDisabled&&bh.supportsFiber)try{Lr=bh.inject(kR),$t=bh}catch{}}return gu.createRoot=function(r,i){if(!o(r))throw Error(a(299));var s=!1,l="",f=v_,d=__,T=E_,S=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=YE(r,1,!1,null,null,s,l,f,d,T,S,null),r[An]=i.current,Pm(r),new Jm(i)},gu.hydrateRoot=function(r,i,s){if(!o(r))throw Error(a(299));var l=!1,f="",d=v_,T=__,S=E_,k=null,G=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(k=s.unstable_transitionCallbacks),s.formState!==void 0&&(G=s.formState)),i=YE(r,1,!0,i,s??null,l,f,d,T,S,k,G),i.context=$E(null),s=i.current,l=Fn(),l=Qe(l),f=ra(l),f.callback=null,ia(s,f,l),s=l,i.current.lanes=s,ct(i,s),$r(i),r[An]=i.current,Pm(r),new Th(i)},gu.version="19.1.1",gu}var fT;function FR(){if(fT)return np.exports;fT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),np.exports=qR(),np.exports}var HR=FR();const GR=T0(HR);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dT="popstate";function YR(n={}){function e(a,o){let{pathname:u,search:c,hash:p}=a.location;return Dp("",{pathname:u,search:c,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){return typeof o=="string"?o:Nu(o)}return KR(e,t,null,n)}function dt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Mr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $R(){return Math.random().toString(36).substring(2,10)}function mT(n,e){return{usr:n.state,key:n.key,idx:e}}function Dp(n,e,t=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?el(e):e,state:t,key:e&&e.key||a||$R()}}function Nu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function el(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let a=n.indexOf("?");a>=0&&(e.search=n.substring(a),n=n.substring(0,a)),n&&(e.pathname=n)}return e}function KR(n,e,t,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,c=o.history,p="POP",g=null,m=_();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function _(){return(c.state||{idx:null}).idx}function b(){p="POP";let U=_(),$=U==null?null:U-m;m=U,g&&g({action:p,location:z.location,delta:$})}function w(U,$){p="PUSH";let X=Dp(z.location,U,$);m=_()+1;let ie=mT(X,m),ce=z.createHref(X);try{c.pushState(ie,"",ce)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(ce)}u&&g&&g({action:p,location:z.location,delta:1})}function N(U,$){p="REPLACE";let X=Dp(z.location,U,$);m=_();let ie=mT(X,m),ce=z.createHref(X);c.replaceState(ie,"",ce),u&&g&&g({action:p,location:z.location,delta:0})}function j(U){return QR(U)}let z={get action(){return p},get location(){return n(o,c)},listen(U){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(dT,b),g=U,()=>{o.removeEventListener(dT,b),g=null}},createHref(U){return e(o,U)},createURL:j,encodeLocation(U){let $=j(U);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:w,replace:N,go(U){return c.go(U)}};return z}function QR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),dt(t,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:Nu(n);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}function b0(n,e,t="/"){return WR(n,e,t,!1)}function WR(n,e,t,a){let o=typeof e=="string"?el(e):e,u=Li(o.pathname||"/",t);if(u==null)return null;let c=w0(n);XR(c);let p=null;for(let g=0;p==null&&g<c.length;++g){let m=lC(u);p=sC(c[g],m,a)}return p}function w0(n,e=[],t=[],a="",o=!1){let u=(c,p,g=o,m)=>{let _={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:p,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(a)&&g)return;dt(_.relativePath.startsWith(a),`Absolute route path "${_.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(a.length)}let b=ki([a,_.relativePath]),w=t.concat(_);c.children&&c.children.length>0&&(dt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),w0(c.children,e,w,b,g)),!(c.path==null&&!c.index)&&e.push({path:b,score:iC(b,c.index),routesMeta:w})};return n.forEach((c,p)=>{if(c.path===""||!c.path?.includes("?"))u(c,p);else for(let g of S0(c.path))u(c,p,!0,g)}),e}function S0(n){let e=n.split("/");if(e.length===0)return[];let[t,...a]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let c=S0(a.join("/")),p=[];return p.push(...c.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...c),p.map(g=>n.startsWith("/")&&g===""?"/":g)}function XR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:aC(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var ZR=/^:[\w-]+$/,JR=3,eC=2,tC=1,nC=10,rC=-2,pT=n=>n==="*";function iC(n,e){let t=n.split("/"),a=t.length;return t.some(pT)&&(a+=rC),e&&(a+=eC),t.filter(o=>!pT(o)).reduce((o,u)=>o+(ZR.test(u)?JR:u===""?tC:nC),a)}function aC(n,e){return n.length===e.length&&n.slice(0,-1).every((a,o)=>a===e[o])?n[n.length-1]-e[e.length-1]:0}function sC(n,e,t=!1){let{routesMeta:a}=n,o={},u="/",c=[];for(let p=0;p<a.length;++p){let g=a[p],m=p===a.length-1,_=u==="/"?e:e.slice(u.length)||"/",b=$h({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},_),w=g.route;if(!b&&m&&t&&!a[a.length-1].route.index&&(b=$h({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!b)return null;Object.assign(o,b.params),c.push({params:o,pathname:ki([u,b.pathname]),pathnameBase:fC(ki([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=ki([u,b.pathnameBase]))}return c}function $h(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,a]=oC(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:a.reduce((m,{paramName:_,isOptional:b},w)=>{if(_==="*"){let j=p[w]||"";c=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const N=p[w];return b&&!N?m[_]=void 0:m[_]=(N||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:c,pattern:n}}function oC(n,e=!1,t=!0){Mr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,p,g)=>(a.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(a.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function lC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Li(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=n.charAt(t);return a&&a!=="/"?null:n.slice(t)||"/"}function uC(n,e="/"){let{pathname:t,search:a="",hash:o=""}=typeof n=="string"?el(n):n;return{pathname:t?t.startsWith("/")?t:cC(t,e):e,search:dC(a),hash:mC(o)}}function cC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function sp(n,e,t,a){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Tg(n){let e=hC(n);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function bg(n,e,t,a=!1){let o;typeof n=="string"?o=el(n):(o={...n},dt(!o.pathname||!o.pathname.includes("?"),sp("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),sp("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),sp("#","search","hash",o)));let u=n===""||o.pathname==="",c=u?"/":o.pathname,p;if(c==null)p=t;else{let b=e.length-1;if(!a&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}p=b>=0?e[b]:"/"}let g=uC(o,p),m=c&&c!=="/"&&c.endsWith("/"),_=(u||c===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(m||_)&&(g.pathname+="/"),g}var ki=n=>n.join("/").replace(/\/\/+/g,"/"),fC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),dC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,mC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function pC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var A0=["POST","PUT","PATCH","DELETE"];new Set(A0);var gC=["GET",...A0];new Set(gC);var tl=V.createContext(null);tl.displayName="DataRouter";var Tf=V.createContext(null);Tf.displayName="DataRouterState";V.createContext(!1);var R0=V.createContext({isTransitioning:!1});R0.displayName="ViewTransition";var yC=V.createContext(new Map);yC.displayName="Fetchers";var vC=V.createContext(null);vC.displayName="Await";var jr=V.createContext(null);jr.displayName="Navigation";var Yu=V.createContext(null);Yu.displayName="Location";var ii=V.createContext({outlet:null,matches:[],isDataRoute:!1});ii.displayName="Route";var wg=V.createContext(null);wg.displayName="RouteError";function _C(n,{relative:e}={}){dt(nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=V.useContext(jr),{hash:o,pathname:u,search:c}=$u(n,{relative:e}),p=u;return t!=="/"&&(p=u==="/"?t:ki([t,u])),a.createHref({pathname:p,search:c,hash:o})}function nl(){return V.useContext(Yu)!=null}function Hi(){return dt(nl(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Yu).location}var C0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function x0(n){V.useContext(jr).static||V.useLayoutEffect(n)}function bf(){let{isDataRoute:n}=V.useContext(ii);return n?OC():EC()}function EC(){dt(nl(),"useNavigate() may be used only in the context of a <Router> component.");let n=V.useContext(tl),{basename:e,navigator:t}=V.useContext(jr),{matches:a}=V.useContext(ii),{pathname:o}=Hi(),u=JSON.stringify(Tg(a)),c=V.useRef(!1);return x0(()=>{c.current=!0}),V.useCallback((g,m={})=>{if(Mr(c.current,C0),!c.current)return;if(typeof g=="number"){t.go(g);return}let _=bg(g,JSON.parse(u),o,m.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ki([e,_.pathname])),(m.replace?t.replace:t.push)(_,m.state,m)},[e,t,u,o,n])}V.createContext(null);function $u(n,{relative:e}={}){let{matches:t}=V.useContext(ii),{pathname:a}=Hi(),o=JSON.stringify(Tg(t));return V.useMemo(()=>bg(n,JSON.parse(o),a,e==="path"),[n,o,a,e])}function TC(n,e){return I0(n,e)}function I0(n,e,t,a,o){dt(nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=V.useContext(jr),{matches:c}=V.useContext(ii),p=c[c.length-1],g=p?p.params:{},m=p?p.pathname:"/",_=p?p.pathnameBase:"/",b=p&&p.route;{let X=b&&b.path||"";D0(m,!b||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let w=Hi(),N;if(e){let X=typeof e=="string"?el(e):e;dt(_==="/"||X.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${X.pathname}" was given in the \`location\` prop.`),N=X}else N=w;let j=N.pathname||"/",z=j;if(_!=="/"){let X=_.replace(/^\//,"").split("/");z="/"+j.replace(/^\//,"").split("/").slice(X.length).join("/")}let U=b0(n,{pathname:z});Mr(b||U!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Mr(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=RC(U&&U.map(X=>Object.assign({},X,{params:Object.assign({},g,X.params),pathname:ki([_,u.encodeLocation?u.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?_:ki([_,u.encodeLocation?u.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),c,t,a,o);return e&&$?V.createElement(Yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},$):$}function bC(){let n=NC(),e=pC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:u},"ErrorBoundary")," or"," ",V.createElement("code",{style:u},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:o},t):null,c)}var wC=V.createElement(bC,null),SC=class extends V.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?V.createElement(ii.Provider,{value:this.props.routeContext},V.createElement(wg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AC({routeContext:n,match:e,children:t}){let a=V.useContext(tl);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(ii.Provider,{value:n},t)}function RC(n,e=[],t=null,a=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,c=t?.errors;if(c!=null){let m=u.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);dt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,m+1))}let p=!1,g=-1;if(t)for(let m=0;m<u.length;m++){let _=u[m];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=m),_.route.id){let{loaderData:b,errors:w}=t,N=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||N){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((m,_,b)=>{let w,N=!1,j=null,z=null;t&&(w=c&&_.route.id?c[_.route.id]:void 0,j=_.route.errorElement||wC,p&&(g<0&&b===0?(D0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,z=null):g===b&&(N=!0,z=_.route.hydrateFallbackElement||null)));let U=e.concat(u.slice(0,b+1)),$=()=>{let X;return w?X=j:N?X=z:_.route.Component?X=V.createElement(_.route.Component,null):_.route.element?X=_.route.element:X=m,V.createElement(AC,{match:_,routeContext:{outlet:m,matches:U,isDataRoute:t!=null},children:X})};return t&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?V.createElement(SC,{location:t.location,revalidation:t.revalidation,component:j,error:w,children:$(),routeContext:{outlet:null,matches:U,isDataRoute:!0},unstable_onError:a}):$()},null)}function Sg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CC(n){let e=V.useContext(tl);return dt(e,Sg(n)),e}function xC(n){let e=V.useContext(Tf);return dt(e,Sg(n)),e}function IC(n){let e=V.useContext(ii);return dt(e,Sg(n)),e}function Ag(n){let e=IC(n),t=e.matches[e.matches.length-1];return dt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function DC(){return Ag("useRouteId")}function NC(){let n=V.useContext(wg),e=xC("useRouteError"),t=Ag("useRouteError");return n!==void 0?n:e.errors?.[t]}function OC(){let{router:n}=CC("useNavigate"),e=Ag("useNavigate"),t=V.useRef(!1);return x0(()=>{t.current=!0}),V.useCallback(async(o,u={})=>{Mr(t.current,C0),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...u}))},[n,e])}var gT={};function D0(n,e,t){!e&&!gT[n]&&(gT[n]=!0,Mr(!1,t))}V.memo(kC);function kC({routes:n,future:e,state:t,unstable_onError:a}){return I0(n,void 0,t,a,e)}function yT({to:n,replace:e,state:t,relative:a}){dt(nl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=V.useContext(jr);Mr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=V.useContext(ii),{pathname:c}=Hi(),p=bf(),g=bg(n,Tg(u),c,a==="path"),m=JSON.stringify(g);return V.useEffect(()=>{p(JSON.parse(m),{replace:e,state:t,relative:a})},[p,m,a,e,t]),null}function Nr(n){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MC({basename:n="/",children:e=null,location:t,navigationType:a="POP",navigator:o,static:u=!1}){dt(!nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),p=V.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof t=="string"&&(t=el(t));let{pathname:g="/",search:m="",hash:_="",state:b=null,key:w="default"}=t,N=V.useMemo(()=>{let j=Li(g,c);return j==null?null:{location:{pathname:j,search:m,hash:_,state:b,key:w},navigationType:a}},[c,g,m,_,b,w,a]);return Mr(N!=null,`<Router basename="${c}"> is not able to match the URL "${g}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:V.createElement(jr.Provider,{value:p},V.createElement(Yu.Provider,{children:e,value:N}))}function N0({children:n,location:e}){return TC(Np(n),e)}function Np(n,e=[]){let t=[];return V.Children.forEach(n,(a,o)=>{if(!V.isValidElement(a))return;let u=[...e,o];if(a.type===V.Fragment){t.push.apply(t,Np(a.props.children,u));return}dt(a.type===Nr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Np(a.props.children,u)),t.push(c)}),t}var kh="get",Mh="application/x-www-form-urlencoded";function wf(n){return n!=null&&typeof n.tagName=="string"}function PC(n){return wf(n)&&n.tagName.toLowerCase()==="button"}function jC(n){return wf(n)&&n.tagName.toLowerCase()==="form"}function VC(n){return wf(n)&&n.tagName.toLowerCase()==="input"}function LC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function UC(n,e){return n.button===0&&(!e||e==="_self")&&!LC(n)}var wh=null;function BC(){if(wh===null)try{new FormData(document.createElement("form"),0),wh=!1}catch{wh=!0}return wh}var zC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function op(n){return n!=null&&!zC.has(n)?(Mr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mh}"`),null):n}function qC(n,e){let t,a,o,u,c;if(jC(n)){let p=n.getAttribute("action");a=p?Li(p,e):null,t=n.getAttribute("method")||kh,o=op(n.getAttribute("enctype"))||Mh,u=new FormData(n)}else if(PC(n)||VC(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||p.getAttribute("action");if(a=g?Li(g,e):null,t=n.getAttribute("formmethod")||p.getAttribute("method")||kh,o=op(n.getAttribute("formenctype"))||op(p.getAttribute("enctype"))||Mh,u=new FormData(p,n),!BC()){let{name:m,type:_,value:b}=n;if(_==="image"){let w=m?`${m}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else m&&u.append(m,b)}}else{if(wf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=kh,a=null,o=Mh,c=n}return u&&o==="text/plain"&&(c=u,u=void 0),{action:a,method:t.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function FC(n,e,t){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return a.pathname==="/"?a.pathname=`_root.${t}`:e&&Li(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${t}`,a}async function HC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function YC(n,e,t){let a=await Promise.all(n.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await HC(u,t);return c.links?c.links():[]}return[]}));return WC(a.flat(1).filter(GC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function vT(n,e,t,a,o,u){let c=(g,m)=>t[m]?g.route.id!==t[m].route.id:!0,p=(g,m)=>t[m].pathname!==g.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,m)=>c(g,m)||p(g,m)):u==="data"?e.filter((g,m)=>{let _=a.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(c(g,m)||p(g,m))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function $C(n,e,{includeHydrateFallback:t}={}){return KC(n.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function KC(n){return[...new Set(n)]}function QC(n){let e={},t=Object.keys(n).sort();for(let a of t)e[a]=n[a];return e}function WC(n,e){let t=new Set;return new Set(e),n.reduce((a,o)=>{let u=JSON.stringify(QC(o));return t.has(u)||(t.add(u),a.push({key:u,link:o})),a},[])}function O0(){let n=V.useContext(tl);return Rg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function XC(){let n=V.useContext(Tf);return Rg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Cg=V.createContext(void 0);Cg.displayName="FrameworkContext";function k0(){let n=V.useContext(Cg);return Rg(n,"You must render this element inside a <HydratedRouter> element"),n}function ZC(n,e){let t=V.useContext(Cg),[a,o]=V.useState(!1),[u,c]=V.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:m,onMouseLeave:_,onTouchStart:b}=e,w=V.useRef(null);V.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let z=$=>{$.forEach(X=>{c(X.isIntersecting)})},U=new IntersectionObserver(z,{threshold:.5});return w.current&&U.observe(w.current),()=>{U.disconnect()}}},[n]),V.useEffect(()=>{if(a){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[a]);let N=()=>{o(!0)},j=()=>{o(!1),c(!1)};return t?n!=="intent"?[u,w,{}]:[u,w,{onFocus:yu(p,N),onBlur:yu(g,j),onMouseEnter:yu(m,N),onMouseLeave:yu(_,j),onTouchStart:yu(b,N)}]:[!1,w,{}]}function yu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function JC({page:n,...e}){let{router:t}=O0(),a=V.useMemo(()=>b0(t.routes,n,t.basename),[t.routes,n,t.basename]);return a?V.createElement(tx,{page:n,matches:a,...e}):null}function ex(n){let{manifest:e,routeModules:t}=k0(),[a,o]=V.useState([]);return V.useEffect(()=>{let u=!1;return YC(n,e,t).then(c=>{u||o(c)}),()=>{u=!0}},[n,e,t]),a}function tx({page:n,matches:e,...t}){let a=Hi(),{manifest:o,routeModules:u}=k0(),{basename:c}=O0(),{loaderData:p,matches:g}=XC(),m=V.useMemo(()=>vT(n,e,g,o,a,"data"),[n,e,g,o,a]),_=V.useMemo(()=>vT(n,e,g,o,a,"assets"),[n,e,g,o,a]),b=V.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let j=new Set,z=!1;if(e.forEach($=>{let X=o.routes[$.route.id];!X||!X.hasLoader||(!m.some(ie=>ie.route.id===$.route.id)&&$.route.id in p&&u[$.route.id]?.shouldRevalidate||X.hasClientLoader?z=!0:j.add($.route.id))}),j.size===0)return[];let U=FC(n,c,"data");return z&&j.size>0&&U.searchParams.set("_routes",e.filter($=>j.has($.route.id)).map($=>$.route.id).join(",")),[U.pathname+U.search]},[c,p,a,o,m,e,n,u]),w=V.useMemo(()=>$C(_,o),[_,o]),N=ex(_);return V.createElement(V.Fragment,null,b.map(j=>V.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...t})),w.map(j=>V.createElement("link",{key:j,rel:"modulepreload",href:j,...t})),N.map(({key:j,link:z})=>V.createElement("link",{key:j,nonce:t.nonce,...z})))}function nx(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var M0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{M0&&(window.__reactRouterVersion="7.9.3")}catch{}function rx({basename:n,children:e,window:t}){let a=V.useRef();a.current==null&&(a.current=YR({window:t,v5Compat:!0}));let o=a.current,[u,c]=V.useState({action:o.action,location:o.location}),p=V.useCallback(g=>{V.startTransition(()=>c(g))},[c]);return V.useLayoutEffect(()=>o.listen(p),[o,p]),V.createElement(MC,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:o})}var P0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bo=V.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:o,reloadDocument:u,replace:c,state:p,target:g,to:m,preventScrollReset:_,viewTransition:b,...w},N){let{basename:j}=V.useContext(jr),z=typeof m=="string"&&P0.test(m),U,$=!1;if(typeof m=="string"&&z&&(U=m,M0))try{let I=new URL(window.location.href),P=m.startsWith("//")?new URL(I.protocol+m):new URL(m),O=Li(P.pathname,j);P.origin===I.origin&&O!=null?m=O+P.search+P.hash:$=!0}catch{Mr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=_C(m,{relative:o}),[ie,ce,oe]=ZC(a,w),me=ox(m,{replace:c,state:p,target:g,preventScrollReset:_,relative:o,viewTransition:b});function D(I){e&&e(I),I.defaultPrevented||me(I)}let A=V.createElement("a",{...w,...oe,href:U||X,onClick:$||u?e:D,ref:nx(N,ce),target:g,"data-discover":!z&&t==="render"?"true":void 0});return ie&&!z?V.createElement(V.Fragment,null,A,V.createElement(JC,{page:X})):A});Bo.displayName="Link";var ix=V.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:o=!1,style:u,to:c,viewTransition:p,children:g,...m},_){let b=$u(c,{relative:m.relative}),w=Hi(),N=V.useContext(Tf),{navigator:j,basename:z}=V.useContext(jr),U=N!=null&&fx(b)&&p===!0,$=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,X=w.pathname,ie=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;t||(X=X.toLowerCase(),ie=ie?ie.toLowerCase():null,$=$.toLowerCase()),ie&&z&&(ie=Li(ie,z)||ie);const ce=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let oe=X===$||!o&&X.startsWith($)&&X.charAt(ce)==="/",me=ie!=null&&(ie===$||!o&&ie.startsWith($)&&ie.charAt($.length)==="/"),D={isActive:oe,isPending:me,isTransitioning:U},A=oe?e:void 0,I;typeof a=="function"?I=a(D):I=[a,oe?"active":null,me?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(D):u;return V.createElement(Bo,{...m,"aria-current":A,className:I,ref:_,style:P,to:c,viewTransition:p},typeof g=="function"?g(D):g)});ix.displayName="NavLink";var ax=V.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:o,state:u,method:c=kh,action:p,onSubmit:g,relative:m,preventScrollReset:_,viewTransition:b,...w},N)=>{let j=cx(),z=hx(p,{relative:m}),U=c.toLowerCase()==="get"?"get":"post",$=typeof p=="string"&&P0.test(p),X=ie=>{if(g&&g(ie),ie.defaultPrevented)return;ie.preventDefault();let ce=ie.nativeEvent.submitter,oe=ce?.getAttribute("formmethod")||c;j(ce||ie.currentTarget,{fetcherKey:e,method:oe,navigate:t,replace:o,state:u,relative:m,preventScrollReset:_,viewTransition:b})};return V.createElement("form",{ref:N,method:U,action:z,onSubmit:a?g:X,...w,"data-discover":!$&&n==="render"?"true":void 0})});ax.displayName="Form";function sx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j0(n){let e=V.useContext(tl);return dt(e,sx(n)),e}function ox(n,{target:e,replace:t,state:a,preventScrollReset:o,relative:u,viewTransition:c}={}){let p=bf(),g=Hi(),m=$u(n,{relative:u});return V.useCallback(_=>{if(UC(_,e)){_.preventDefault();let b=t!==void 0?t:Nu(g)===Nu(m);p(n,{replace:b,state:a,preventScrollReset:o,relative:u,viewTransition:c})}},[g,p,m,t,a,e,n,o,u,c])}var lx=0,ux=()=>`__${String(++lx)}__`;function cx(){let{router:n}=j0("useSubmit"),{basename:e}=V.useContext(jr),t=DC();return V.useCallback(async(a,o={})=>{let{action:u,method:c,encType:p,formData:g,body:m}=qC(a,e);if(o.navigate===!1){let _=o.fetcherKey||ux();await n.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:m,formMethod:o.method||c,formEncType:o.encType||p,flushSync:o.flushSync})}else await n.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:m,formMethod:o.method||c,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function hx(n,{relative:e}={}){let{basename:t}=V.useContext(jr),a=V.useContext(ii);dt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...$u(n||".",{relative:e})},c=Hi();if(n==null){u.search=c.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(_=>_==="")){p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let _=p.toString();u.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:ki([t,u.pathname])),Nu(u)}function fx(n,{relative:e}={}){let t=V.useContext(R0);dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=j0("useViewTransitionState"),o=$u(n,{relative:e});if(!t.isTransitioning)return!1;let u=Li(t.currentLocation.pathname,a)||t.currentLocation.pathname,c=Li(t.nextLocation.pathname,a)||t.nextLocation.pathname;return $h(o.pathname,c)!=null||$h(o.pathname,u)!=null}const dx=()=>{};var _T={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=function(n){const e=[];let t=0;for(let a=0;a<n.length;a++){let o=n.charCodeAt(a);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&a+1<n.length&&(n.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++a)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},mx=function(n){const e=[];let t=0,a=0;for(;t<n.length;){const o=n[t++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[t++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[t++],c=n[t++],p=n[t++],g=((o&7)<<18|(u&63)<<12|(c&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const u=n[t++],c=n[t++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},L0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,p=c?n[o+1]:0,g=o+2<n.length,m=g?n[o+2]:0,_=u>>2,b=(u&3)<<4|p>>4;let w=(p&15)<<2|m>>6,N=m&63;g||(N=64,c||(w=64)),a.push(t[_],t[b],t[w],t[N])}return a.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(V0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):mx(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<n.length;){const u=t[n.charAt(o++)],p=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const b=o<n.length?t[n.charAt(o)]:64;if(++o,u==null||p==null||m==null||b==null)throw new px;const w=u<<2|p>>4;if(a.push(w),m!==64){const N=p<<4&240|m>>2;if(a.push(N),b!==64){const j=m<<6&192|b;a.push(j)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class px extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gx=function(n){const e=V0(n);return L0.encodeByteArray(e,!0)},Kh=function(n){return gx(n).replace(/\./g,"")},U0=function(n){try{return L0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=()=>yx().__FIREBASE_DEFAULTS__,_x=()=>{if(typeof process>"u"||typeof _T>"u")return;const n=_T.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Ex=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&U0(n[1]);return e&&JSON.parse(e)},Sf=()=>{try{return dx()||vx()||_x()||Ex()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},B0=n=>Sf()?.emulatorHosts?.[n],Tx=n=>{const e=B0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},z0=()=>Sf()?.config,q0=n=>Sf()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function F0(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Kh(JSON.stringify(t)),Kh(JSON.stringify(c)),""].join(".")}const Au={};function Sx(){const n={prod:[],emulator:[]};for(const e of Object.keys(Au))Au[e]?n.emulator.push(e):n.prod.push(e);return n}function Ax(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let ET=!1;function H0(n,e){if(typeof window>"u"||typeof document>"u"||!rl(window.location.host)||Au[n]===e||Au[n]||ET)return;Au[n]=e;function t(w){return`__firebase__banner__${w}`}const a="__firebase__banner",u=Sx().prod.length>0;function c(){const w=document.getElementById(a);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,N){w.setAttribute("width","24"),w.setAttribute("id",N),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{ET=!0,c()},w}function _(w,N){w.setAttribute("id",N),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=Ax(a),N=t("text"),j=document.getElementById(N)||document.createElement("span"),z=t("learnmore"),U=document.getElementById(z)||document.createElement("a"),$=t("preprendIcon"),X=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ie=w.element;p(ie),_(U,z);const ce=m();g(X,$),ie.append(X,j,U,ce),document.body.appendChild(ie)}u?(j.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function Cx(){const n=Sf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ix(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Dx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Nx(){const n=yn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ox(){return!Cx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G0(){try{return typeof indexedDB=="object"}catch{return!1}}function Y0(){return new Promise((n,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(a),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}function kx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="FirebaseError";class ai extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=Mx,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qs.prototype.create)}}class qs{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?Px(u,a):"Error",p=`${this.serviceName}: ${c} (${o}).`;return new ai(o,p,a)}}function Px(n,e){return n.replace(jx,(t,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const jx=/\{\$([^}]+)}/g;function Vx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ps(n,e){if(n===e)return!0;const t=Object.keys(n),a=Object.keys(e);for(const o of t){if(!a.includes(o))return!1;const u=n[o],c=e[o];if(TT(u)&&TT(c)){if(!Ps(u,c))return!1}else if(u!==c)return!1}for(const o of a)if(!t.includes(o))return!1;return!0}function TT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(n){const e=[];for(const[t,a]of Object.entries(n))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function vu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function _u(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Lx(n,e){const t=new Ux(n,e);return t.subscribe.bind(t)}class Ux{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let o;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");Bx(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:a},o.next===void 0&&(o.next=lp),o.error===void 0&&(o.error=lp),o.complete===void 0&&(o.complete=lp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bx(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function lp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(n){return n&&n._delegate?n._delegate:n}class Pr{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new bx;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Fx(e))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rs){return this.instances.has(e)}getOptions(e=Rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[u,c]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);a===p&&c.resolve(o)}return o}onInit(e,t){const a=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const o of a)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:qx(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Rs){return this.component?this.component.multipleInstances?e:Rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qx(n){return n===Rs?void 0:n}function Fx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const Gx={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},Yx=Le.INFO,$x={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},Kx=(n,e,...t)=>{if(e<n.logLevel)return;const a=new Date().toISOString(),o=$x[e];if(o)console[o](`[${a}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xg{constructor(e){this.name=e,this._logLevel=Yx,this._logHandler=Kx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Gx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const Qx=(n,e)=>e.some(t=>n instanceof t);let bT,wT;function Wx(){return bT||(bT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xx(){return wT||(wT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $0=new WeakMap,Op=new WeakMap,K0=new WeakMap,up=new WeakMap,Ig=new WeakMap;function Zx(n){const e=new Promise((t,a)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{t(Mi(n.result)),o()},c=()=>{a(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&$0.set(t,n)}).catch(()=>{}),Ig.set(e,n),e}function Jx(n){if(Op.has(n))return;const e=new Promise((t,a)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{t(),o()},c=()=>{a(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});Op.set(n,e)}let kp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Op.get(n);if(e==="objectStoreNames")return n.objectStoreNames||K0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Mi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function eI(n){kp=n(kp)}function tI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=n.call(cp(this),e,...t);return K0.set(a,e.sort?e.sort():[e]),Mi(a)}:Xx().includes(n)?function(...e){return n.apply(cp(this),e),Mi($0.get(this))}:function(...e){return Mi(n.apply(cp(this),e))}}function nI(n){return typeof n=="function"?tI(n):(n instanceof IDBTransaction&&Jx(n),Qx(n,Wx())?new Proxy(n,kp):n)}function Mi(n){if(n instanceof IDBRequest)return Zx(n);if(up.has(n))return up.get(n);const e=nI(n);return e!==n&&(up.set(n,e),Ig.set(e,n)),e}const cp=n=>Ig.get(n);function Af(n,e,{blocked:t,upgrade:a,blocking:o,terminated:u}={}){const c=indexedDB.open(n,e),p=Mi(c);return a&&c.addEventListener("upgradeneeded",g=>{a(Mi(c.result),g.oldVersion,g.newVersion,Mi(c.transaction),g)}),t&&c.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}function hp(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",a=>e(a.oldVersion,a)),Mi(t).then(()=>{})}const rI=["get","getKey","getAll","getAllKeys","count"],iI=["put","add","delete","clear"],fp=new Map;function ST(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(fp.get(e))return fp.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,o=iI.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(o||rI.includes(t)))return;const u=async function(c,...p){const g=this.transaction(c,o?"readwrite":"readonly");let m=g.store;return a&&(m=m.index(p.shift())),(await Promise.all([m[t](...p),o&&g.done]))[0]};return fp.set(e,u),u}eI(n=>({...n,get:(e,t,a)=>ST(e,t)||n.get(e,t,a),has:(e,t)=>!!ST(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(sI(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function sI(n){return n.getComponent()?.type==="VERSION"}const Mp="@firebase/app",AT="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new xg("@firebase/app"),oI="@firebase/app-compat",lI="@firebase/analytics-compat",uI="@firebase/analytics",cI="@firebase/app-check-compat",hI="@firebase/app-check",fI="@firebase/auth",dI="@firebase/auth-compat",mI="@firebase/database",pI="@firebase/data-connect",gI="@firebase/database-compat",yI="@firebase/functions",vI="@firebase/functions-compat",_I="@firebase/installations",EI="@firebase/installations-compat",TI="@firebase/messaging",bI="@firebase/messaging-compat",wI="@firebase/performance",SI="@firebase/performance-compat",AI="@firebase/remote-config",RI="@firebase/remote-config-compat",CI="@firebase/storage",xI="@firebase/storage-compat",II="@firebase/firestore",DI="@firebase/ai",NI="@firebase/firestore-compat",OI="firebase",kI="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="[DEFAULT]",MI={[Mp]:"fire-core",[oI]:"fire-core-compat",[uI]:"fire-analytics",[lI]:"fire-analytics-compat",[hI]:"fire-app-check",[cI]:"fire-app-check-compat",[fI]:"fire-auth",[dI]:"fire-auth-compat",[mI]:"fire-rtdb",[pI]:"fire-data-connect",[gI]:"fire-rtdb-compat",[yI]:"fire-fn",[vI]:"fire-fn-compat",[_I]:"fire-iid",[EI]:"fire-iid-compat",[TI]:"fire-fcm",[bI]:"fire-fcm-compat",[wI]:"fire-perf",[SI]:"fire-perf-compat",[AI]:"fire-rc",[RI]:"fire-rc-compat",[CI]:"fire-gcs",[xI]:"fire-gcs-compat",[II]:"fire-fst",[NI]:"fire-fst-compat",[DI]:"fire-vertex","fire-js":"fire-js",[OI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new Map,PI=new Map,jp=new Map;function RT(n,e){try{n.container.addComponent(e)}catch(t){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ti(n){const e=n.name;if(jp.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;jp.set(e,n);for(const t of Qh.values())RT(t,n);for(const t of PI.values())RT(t,n);return!0}function il(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Gn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xa=new qs("app","Firebase",jI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,t,a){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=kI;function Q0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const a={name:Pp,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw xa.create("bad-app-name",{appName:String(o)});if(t||(t=z0()),!t)throw xa.create("no-options");const u=Qh.get(o);if(u){if(Ps(t,u.options)&&Ps(a,u.config))return u;throw xa.create("duplicate-app",{appName:o})}const c=new Hx(o);for(const g of jp.values())c.addComponent(g);const p=new VI(t,a,c);return Qh.set(o,p),p}function Dg(n=Pp){const e=Qh.get(n);if(!e&&n===Pp&&z0())return Q0();if(!e)throw xa.create("no-app",{appName:n});return e}function cr(n,e,t){let a=MI[n]??n;t&&(a+=`-${t}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${a}" with version "${e}":`];o&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(c.join(" "));return}ti(new Pr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="firebase-heartbeat-database",UI=1,Ou="firebase-heartbeat-store";let dp=null;function W0(){return dp||(dp=Af(LI,UI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ou)}catch(t){console.warn(t)}}}}).catch(n=>{throw xa.create("idb-open",{originalErrorMessage:n.message})})),dp}async function BI(n){try{const t=(await W0()).transaction(Ou),a=await t.objectStore(Ou).get(X0(n));return await t.done,a}catch(e){if(e instanceof ai)Ui.warn(e.message);else{const t=xa.create("idb-get",{originalErrorMessage:e?.message});Ui.warn(t.message)}}}async function CT(n,e){try{const a=(await W0()).transaction(Ou,"readwrite");await a.objectStore(Ou).put(e,X0(n)),await a.done}catch(t){if(t instanceof ai)Ui.warn(t.message);else{const a=xa.create("idb-set",{originalErrorMessage:t?.message});Ui.warn(a.message)}}}function X0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=1024,qI=30;class FI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new GI(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=xT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:t}),this._heartbeatsCache.heartbeats.length>qI){const o=YI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ui.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xT(),{heartbeatsToSend:t,unsentEntries:a}=HI(this._heartbeatsCache.heartbeats),o=Kh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ui.warn(e),""}}}function xT(){return new Date().toISOString().substring(0,10)}function HI(n,e=zI){const t=[];let a=n.slice();for(const o of n){const u=t.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),IT(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),IT(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class GI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G0()?Y0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await BI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return CT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return CT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function IT(n){return Kh(JSON.stringify({version:2,heartbeats:n})).length}function YI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let a=1;a<n.length;a++)n[a].date<t&&(t=n[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(n){ti(new Pr("platform-logger",e=>new aI(e),"PRIVATE")),ti(new Pr("heartbeat",e=>new FI(e),"PRIVATE")),cr(Mp,AT,n),cr(Mp,AT,"esm2020"),cr("fire-js","")}$I("");function Z0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KI=Z0,J0=new qs("auth","Firebase",Z0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new xg("@firebase/auth");function QI(n,...e){Wh.logLevel<=Le.WARN&&Wh.warn(`Auth (${al}): ${n}`,...e)}function Ph(n,...e){Wh.logLevel<=Le.ERROR&&Wh.error(`Auth (${al}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(n,...e){throw Og(n,...e)}function kr(n,...e){return Og(n,...e)}function Ng(n,e,t){const a={...KI(),[e]:t};return new qs("auth","Firebase",a).create(e,{appName:n.name})}function Pi(n){return Ng(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WI(n,e,t){const a=t;if(!(e instanceof a))throw a.name!==e.constructor.name&&dr(n,"argument-error"),Ng(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Og(n,...e){if(typeof n!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=n.name),n._errorFactory.create(t,...a)}return J0.create(n,...e)}function we(n,e,...t){if(!n)throw Og(e,...t)}function Ni(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ph(e),new Error(e)}function Bi(n,e){n||Ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(){return typeof self<"u"&&self.location?.href||""}function XI(){return DT()==="http:"||DT()==="https:"}function DT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XI()||Ix()||"connection"in navigator)?navigator.onLine:!0}function JI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Bi(t>e,"Short delay should be less than long delay!"),this.isMobile=Rx()||Dx()}get(){return ZI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(n,e){Bi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],n2=new Qu(3e4,6e4);function Va(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function La(n,e,t,a,o={}){return tw(n,o,async()=>{let u={},c={};a&&(e==="GET"?c=a:u={body:JSON.stringify(a)});const p=Ku({key:n.config.apiKey,...c}).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:g,...u};return xx()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&rl(n.emulatorConfig.host)&&(m.credentials="include"),ew.fetch()(await nw(n,n.config.apiHost,t,p),m)})}async function tw(n,e,t){n._canInitEmulator=!1;const a={...e2,...e};try{const o=new i2(n),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Sh(n,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const p=u.ok?c.errorMessage:c.error.message,[g,m]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sh(n,"credential-already-in-use",c);if(g==="EMAIL_EXISTS")throw Sh(n,"email-already-in-use",c);if(g==="USER_DISABLED")throw Sh(n,"user-disabled",c);const _=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Ng(n,_,m);dr(n,_)}}catch(o){if(o instanceof ai)throw o;dr(n,"network-request-failed",{message:String(o)})}}async function Wu(n,e,t,a,o={}){const u=await La(n,e,t,a,o);return"mfaPendingCredential"in u&&dr(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function nw(n,e,t,a){const o=`${e}${t}?${a}`,u=n,c=u.config.emulator?kg(n.config,o):`${n.config.apiScheme}://${o}`;return t2.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function r2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class i2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(kr(this.auth,"network-request-failed")),n2.get())})}}function Sh(n,e,t){const a={appName:n.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const o=kr(n,e,a);return o.customData._tokenResponse=t,o}function NT(n){return n!==void 0&&n.enterprise!==void 0}class a2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return r2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function s2(n,e){return La(n,"GET","/v2/recaptchaConfig",Va(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o2(n,e){return La(n,"POST","/v1/accounts:delete",e)}async function Xh(n,e){return La(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function l2(n,e=!1){const t=Dt(n),a=await t.getIdToken(e),o=Mg(a);we(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:a,authTime:Ru(mp(o.auth_time)),issuedAtTime:Ru(mp(o.iat)),expirationTime:Ru(mp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function mp(n){return Number(n)*1e3}function Mg(n){const[e,t,a]=n.split(".");if(e===void 0||t===void 0||a===void 0)return Ph("JWT malformed, contained fewer than 3 sections"),null;try{const o=U0(t);return o?JSON.parse(o):(Ph("Failed to decode base64 JWT payload"),null)}catch(o){return Ph("Caught error parsing JWT payload as JSON",o?.toString()),null}}function OT(n){const e=Mg(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(n,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof ai&&u2(a)&&n.auth.currentUser===n&&await n.auth.signOut(),a}}function u2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ru(this.lastLoginAt),this.creationTime=Ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zh(n){const e=n.auth,t=await n.getIdToken(),a=await ku(n,Xh(e,{idToken:t}));we(a?.users.length,e,"internal-error");const o=a.users[0];n._notifyReloadListener(o);const u=o.providerUserInfo?.length?rw(o.providerUserInfo):[],c=f2(n.providerData,u),p=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!c?.length,m=p?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Lp(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,_)}async function h2(n){const e=Dt(n);await Zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function f2(n,e){return[...n.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function rw(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(n,e){const t=await tw(n,{},async()=>{const a=Ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,c=await nw(n,o,"/v1/token",`key=${u}`),p=await n._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:a};return n.emulatorConfig&&rl(n.emulatorConfig.host)&&(g.credentials="include"),ew.fetch()(c,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function m2(n,e){return La(n,"POST","/v2/accounts:revokeToken",Va(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=OT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:o,expiresIn:u}=await d2(e,t);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:o,expirationTime:u}=t,c=new Fo;return a&&(we(typeof a=="string","internal-error",{appName:e}),c.refreshToken=a),o&&(we(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Or{constructor({uid:e,auth:t,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new c2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Lp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ku(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return l2(this,e)}reload(){return h2(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Or({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await Zh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Pi(this.auth));const e=await this.getIdToken();return await ku(this,o2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const a=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,c=t.photoURL??void 0,p=t.tenantId??void 0,g=t._redirectEventId??void 0,m=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:N,providerData:j,stsTokenManager:z}=t;we(b&&z,e,"internal-error");const U=Fo.fromJSON(this.name,z);we(typeof b=="string",e,"internal-error"),ba(a,e.name),ba(o,e.name),we(typeof w=="boolean",e,"internal-error"),we(typeof N=="boolean",e,"internal-error"),ba(u,e.name),ba(c,e.name),ba(p,e.name),ba(g,e.name),ba(m,e.name),ba(_,e.name);const $=new Or({uid:b,auth:e,email:o,emailVerified:w,displayName:a,isAnonymous:N,photoURL:c,phoneNumber:u,tenantId:p,stsTokenManager:U,createdAt:m,lastLoginAt:_});return j&&Array.isArray(j)&&($.providerData=j.map(X=>({...X}))),g&&($._redirectEventId=g),$}static async _fromIdTokenResponse(e,t,a=!1){const o=new Fo;o.updateFromServerResponse(t);const u=new Or({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Zh(u),u}static async _fromGetAccountInfoResponse(e,t,a){const o=t.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?rw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,p=new Fo;p.updateFromIdToken(a);const g=new Or({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Lp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,m),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=new Map;function Oi(n){Bi(n instanceof Function,"Expected a class definition");let e=kT.get(n);return e?(Bi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,kT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}iw.type="NONE";const MT=iw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(n,e,t){return`firebase:${n}:${e}:${t}`}class Ho{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=jh(this.userKey,o.apiKey,u),this.fullPersistenceKey=jh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Xh(this.auth,{idToken:e}).catch(()=>{});return t?Or._fromGetAccountInfoResponse(this.auth,t,e):null}return Or._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new Ho(Oi(MT),e,a);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=o[0]||Oi(MT);const c=jh(a,e.config.apiKey,e.name);let p=null;for(const m of t)try{const _=await m._get(c);if(_){let b;if(typeof _=="string"){const w=await Xh(e,{idToken:_}).catch(()=>{});if(!w)break;b=await Or._fromGetAccountInfoResponse(e,w,_)}else b=Or._fromJSON(e,_);m!==u&&(p=b),u=m;break}}catch{}const g=o.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Ho(u,e,a):(u=g[0],p&&await u._set(c,p.toJSON()),await Promise.all(t.map(async m=>{if(m!==u)try{await m._remove(c)}catch{}})),new Ho(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cw(e))return"Blackberry";if(hw(e))return"Webos";if(sw(e))return"Safari";if((e.includes("chrome/")||ow(e))&&!e.includes("edge/"))return"Chrome";if(uw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=n.match(t);if(a?.length===2)return a[1]}return"Other"}function aw(n=yn()){return/firefox\//i.test(n)}function sw(n=yn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ow(n=yn()){return/crios\//i.test(n)}function lw(n=yn()){return/iemobile/i.test(n)}function uw(n=yn()){return/android/i.test(n)}function cw(n=yn()){return/blackberry/i.test(n)}function hw(n=yn()){return/webos/i.test(n)}function Pg(n=yn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function p2(n=yn()){return Pg(n)&&!!window.navigator?.standalone}function g2(){return Nx()&&document.documentMode===10}function fw(n=yn()){return Pg(n)||uw(n)||hw(n)||cw(n)||/windows phone/i.test(n)||lw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(n,e=[]){let t;switch(n){case"Browser":t=PT(yn());break;case"Worker":t=`${PT(yn())}-${n}`;break;default:t=n}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${al}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=u=>new Promise((c,p)=>{try{const g=e(u);c(g)}catch(g){p(g)}});a.onAbort=t,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(n,e={}){return La(n,"GET","/v2/passwordPolicy",Va(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=6;class E2{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??_2,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,t,a,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jT(this),this.idTokenSubscription=new jT(this),this.beforeStateQueue=new y2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Oi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ho.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Xh(this,{idToken:e}),a=await Or._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let a=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===c)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Zh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(Pi(this));const t=e?Dt(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(Pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await v2(this),t=new E2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qs("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await m2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Oi(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[Oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let c=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(p,this,"internal-error"),p.then(()=>{c||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,a,o);return()=>{c=!0,g()}}else{const g=e.addObserver(t);return()=>{c=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&QI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ua(n){return Dt(n)}class jT{constructor(e){this.auth=e,this.observer=null,this.addObserver=Lx(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b2(n){Rf=n}function mw(n){return Rf.loadJS(n)}function w2(){return Rf.recaptchaEnterpriseScript}function S2(){return Rf.gapiScript}function A2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class R2{constructor(){this.enterprise=new C2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class C2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const x2="recaptcha-enterprise",pw="NO_RECAPTCHA";class I2{constructor(e){this.type=x2,this.auth=Ua(e)}async verify(e="verify",t=!1){async function a(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,p)=>{s2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const m=new a2(g);return u.tenantId==null?u._agentRecaptchaConfig=m:u._tenantRecaptchaConfigs[u.tenantId]=m,c(m.siteKey)}}).catch(g=>{p(g)})})}function o(u,c,p){const g=window.grecaptcha;NT(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(m=>{c(m)}).catch(()=>{c(pw)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new R2().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{a(this.auth).then(p=>{if(!t&&NT(window.grecaptcha))o(p,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let g=w2();g.length!==0&&(g+=p),mw(g).then(()=>{o(p,u,c)}).catch(m=>{c(m)})}}).catch(p=>{c(p)})})}}async function VT(n,e,t,a=!1,o=!1){const u=new I2(n);let c;if(o)c=pw;else try{c=await u.verify(t)}catch{c=await u.verify(t,!0)}const p={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,m=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:c}):Object.assign(p,{captchaResponse:c}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Up(n,e,t,a,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await VT(n,e,t,t==="getOobCode");return a(n,u)}else return a(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await VT(n,e,t,t==="getOobCode");return a(n,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(n,e){const t=il(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Ps(u,e??{}))return o;dr(o,"already-initialized")}return t.initialize({options:e})}function N2(n,e){const t=e?.persistence||[],a=(Array.isArray(t)?t:[t]).map(Oi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(a,e?.popupRedirectResolver)}function O2(n,e,t){const a=Ua(n);we(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=gw(e),{host:c,port:p}=k2(e),g=p===null?"":`:${p}`,m={url:`${u}//${c}${g}/`},_=Object.freeze({host:c,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){we(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),we(Ps(m,a.config.emulator)&&Ps(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=m,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,rl(c)?(F0(`${u}//${c}${g}`),H0("Auth",!0)):M2()}function gw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function k2(n){const e=gw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:LT(a.substr(u.length+1))}}else{const[u,c]=a.split(":");return{host:u,port:LT(c)}}}function LT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function M2(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,t){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function P2(n,e){return La(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(n,e){return Wu(n,"POST","/v1/accounts:signInWithPassword",Va(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(n,e){return Wu(n,"POST","/v1/accounts:signInWithEmailLink",Va(n,e))}async function L2(n,e){return Wu(n,"POST","/v1/accounts:signInWithEmailLink",Va(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends jg{constructor(e,t,a,o=null){super("password",a),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Mu(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new Mu(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Up(e,t,"signInWithPassword",j2);case"emailLink":return V2(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Up(e,a,"signUpPassword",P2);case"emailLink":return L2(e,{idToken:t,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(n,e){return Wu(n,"POST","/v1/accounts:signInWithIdp",Va(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="http://localhost";class js extends jg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=t;if(!a||!o)return null;const c=new js(a,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Go(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,Go(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Go(e,t)}buildRequest(){const e={requestUri:U2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ku(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function z2(n){const e=vu(_u(n)).link,t=e?vu(_u(e)).deep_link_id:null,a=vu(_u(n)).deep_link_id;return(a?vu(_u(a)).link:null)||a||t||e||n}class Vg{constructor(e){const t=vu(_u(e)),a=t.apiKey??null,o=t.oobCode??null,u=B2(t.mode??null);we(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=z2(e);try{return new Vg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.providerId=sl.PROVIDER_ID}static credential(e,t){return Mu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=Vg.parseLink(t);return we(a,"argument-error"),Mu._fromEmailAndCode(e,a.code,a.tenantId)}}sl.PROVIDER_ID="password";sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends Lg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends Xu{constructor(){super("facebook.com")}static credential(e){return js._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wa.credential(e.oauthAccessToken)}catch{return null}}}wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";wa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return js._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return Di.credential(t,a)}catch{return null}}}Di.GOOGLE_SIGN_IN_METHOD="google.com";Di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends Xu{constructor(){super("github.com")}static credential(e){return js._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sa.credential(e.oauthAccessToken)}catch{return null}}}Sa.GITHUB_SIGN_IN_METHOD="github.com";Sa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends Xu{constructor(){super("twitter.com")}static credential(e,t){return js._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return Aa.credential(t,a)}catch{return null}}}Aa.TWITTER_SIGN_IN_METHOD="twitter.com";Aa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(n,e){return Wu(n,"POST","/v1/accounts:signUp",Va(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,o=!1){const u=await Or._fromIdTokenResponse(e,a,o),c=UT(a);return new Vs({user:u,providerId:c,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const o=UT(a);return new Vs({user:e,providerId:o,_tokenResponse:a,operationType:t})}}function UT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends ai{constructor(e,t,a,o){super(t.code,t.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Jh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,o){return new Jh(e,t,a,o)}}function yw(n,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Jh._fromErrorAndOperation(n,u,e,a):u})}async function F2(n,e,t=!1){const a=await ku(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Vs._forOperation(n,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(n,e,t=!1){const{auth:a}=n;if(Gn(a.app))return Promise.reject(Pi(a));const o="reauthenticate";try{const u=await ku(n,yw(a,o,e,n),t);we(u.idToken,a,"internal-error");const c=Mg(u.idToken);we(c,a,"internal-error");const{sub:p}=c;return we(n.uid===p,a,"user-mismatch"),Vs._forOperation(n,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&dr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(n,e,t=!1){if(Gn(n.app))return Promise.reject(Pi(n));const a="signIn",o=await yw(n,a,e),u=await Vs._fromIdTokenResponse(n,a,o);return t||await n._updateCurrentUser(u.user),u}async function G2(n,e){return vw(Ua(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _w(n){const e=Ua(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Y2(n,e,t){if(Gn(n.app))return Promise.reject(Pi(n));const a=Ua(n),c=await Up(a,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",q2).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&_w(n),g}),p=await Vs._fromIdTokenResponse(a,"signIn",c);return await a._updateCurrentUser(p.user),p}function $2(n,e,t){return Gn(n.app)?Promise.reject(Pi(n)):G2(Dt(n),sl.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&_w(n),a})}function K2(n,e,t,a){return Dt(n).onIdTokenChanged(e,t,a)}function Q2(n,e,t){return Dt(n).beforeAuthStateChanged(e,t)}function Ew(n,e,t,a){return Dt(n).onAuthStateChanged(e,t,a)}function W2(n){return Dt(n).signOut()}const ef="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=1e3,Z2=10;class bw extends Tw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),o=this.localCache[t];a!==o&&e(t,o,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,p,g)=>{this.notifyListeners(c,g)});return}const a=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(a);!t&&this.localCache[a]===c||this.notifyListeners(a,c)},u=this.storage.getItem(a);g2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Z2):o()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},X2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}bw.type="LOCAL";const J2=bw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww extends Tw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ww.type="SESSION";const Sw=ww;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const a=new Cf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:o,data:u}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(c).map(async m=>m(t.origin,u)),g=await eD(p);t.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(n="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((p,g)=>{const m=Ug("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},a);c={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(w.data.response);break;default:clearTimeout(_),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return window}function nD(n){Wr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function rD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iD(){return navigator?.serviceWorker?.controller||null}function aD(){return Aw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="firebaseLocalStorageDb",sD=1,tf="firebaseLocalStorage",Cw="fbase_key";class Zu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xf(n,e){return n.transaction([tf],e?"readwrite":"readonly").objectStore(tf)}function oD(){const n=indexedDB.deleteDatabase(Rw);return new Zu(n).toPromise()}function Bp(){const n=indexedDB.open(Rw,sD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const a=n.result;try{a.createObjectStore(tf,{keyPath:Cw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const a=n.result;a.objectStoreNames.contains(tf)?e(a):(a.close(),await oD(),e(await Bp()))})})}async function BT(n,e,t){const a=xf(n,!0).put({[Cw]:e,value:t});return new Zu(a).toPromise()}async function lD(n,e){const t=xf(n,!1).get(e),a=await new Zu(t).toPromise();return a===void 0?null:a.value}function zT(n,e){const t=xf(n,!0).delete(e);return new Zu(t).toPromise()}const uD=800,cD=3;class xw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>cD)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Aw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cf._getInstance(aD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await rD(),!this.activeServiceWorker)return;this.sender=new tD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bp();return await BT(e,ef,"1"),await zT(e,ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>BT(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>lD(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>zT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=xf(o,!1).getAll();return new Zu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xw.type="LOCAL";const hD=xw;new Qu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(n,e){return e?Oi(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg extends jg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Go(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Go(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Go(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fD(n){return vw(n.auth,new Bg(n),n.bypassAuthState)}function dD(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),H2(t,new Bg(n),n.bypassAuthState)}async function mD(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),F2(t,new Bg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,t,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:o,tenantId:u,error:c,type:p}=e;if(c){this.reject(c);return}const g={auth:this.auth,requestUri:t,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fD;case"linkViaPopup":case"linkViaRedirect":return mD;case"reauthViaPopup":case"reauthViaRedirect":return dD;default:dr(this.auth,"internal-error")}}resolve(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=new Qu(2e3,1e4);async function gD(n,e,t){if(Gn(n.app))return Promise.reject(kr(n,"operation-not-supported-in-this-environment"));const a=Ua(n);WI(n,e,Lg);const o=Iw(a,t);return new Cs(a,"signInViaPopup",e,o).executeNotNull()}class Cs extends Dw{constructor(e,t,a,o,u){super(e,t,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Cs.currentPopupAction&&Cs.currentPopupAction.cancel(),Cs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const e=Ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pD.get())};e()}}Cs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="pendingRedirect",Vh=new Map;class vD extends Dw{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=Vh.get(this.auth._key());if(!e){try{const a=await _D(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}Vh.set(this.auth._key(),e)}return this.bypassAuthState||Vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _D(n,e){const t=bD(e),a=TD(n);if(!await a._isAvailable())return!1;const o=await a._get(t)==="true";return await a._remove(t),o}function ED(n,e){Vh.set(n._key(),e)}function TD(n){return Oi(n._redirectPersistence)}function bD(n){return jh(yD,n.config.apiKey,n.name)}async function wD(n,e,t=!1){if(Gn(n.app))return Promise.reject(Pi(n));const a=Ua(n),o=Iw(a,e),c=await new vD(a,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await a._persistUserIfCurrent(c.user),await a._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=600*1e3;class AD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Nw(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";t.onError(kr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SD&&this.cachedEventUids.clear(),this.cachedEventUids.has(qT(e))}saveEventToCache(e){this.cachedEventUids.add(qT(e)),this.lastProcessedEventTime=Date.now()}}function qT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Nw({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function RD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(n,e={}){return La(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ID=/^https?/;async function DD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await CD(n);for(const t of e)try{if(ND(t))return}catch{}dr(n,"unauthorized-domain")}function ND(n){const e=Vp(),{protocol:t,hostname:a}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&a===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===a}if(!ID.test(t))return!1;if(xD.test(n))return a===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new Qu(3e4,6e4);function FT(){const n=Wr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function kD(n){return new Promise((e,t)=>{function a(){FT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FT(),t(kr(n,"network-request-failed"))},timeout:OD.get()})}if(Wr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Wr().gapi?.load)a();else{const o=A2("iframefcb");return Wr()[o]=()=>{gapi.load?a():t(kr(n,"network-request-failed"))},mw(`${S2()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw Lh=null,e})}let Lh=null;function MD(n){return Lh=Lh||kD(n),Lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new Qu(5e3,15e3),jD="__/auth/iframe",VD="emulator/auth/iframe",LD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BD(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?kg(e,VD):`https://${n.config.authDomain}/${jD}`,a={apiKey:e.apiKey,appName:n.name,v:al},o=UD.get(n.config.apiHost);o&&(a.eid=o);const u=n._getFrameworks();return u.length&&(a.fw=u.join(",")),`${t}?${Ku(a).slice(1)}`}async function zD(n){const e=await MD(n),t=Wr().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:BD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LD,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const c=kr(n,"network-request-failed"),p=Wr().setTimeout(()=>{u(c)},PD.get());function g(){Wr().clearTimeout(p),o(a)}a.ping(g).then(g,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FD=500,HD=600,GD="_blank",YD="http://localhost";class HT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $D(n,e,t,a=FD,o=HD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const g={...qD,width:a.toString(),height:o.toString(),top:u,left:c},m=yn().toLowerCase();t&&(p=ow(m)?GD:t),aw(m)&&(e=e||YD,g.scrollbars="yes");const _=Object.entries(g).reduce((w,[N,j])=>`${w}${N}=${j},`,"");if(p2(m)&&p!=="_self")return KD(e||"",p),new HT(null);const b=window.open(e||"",p,_);we(b,n,"popup-blocked");try{b.focus()}catch{}return new HT(b)}function KD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="__/auth/handler",WD="emulator/auth/handler",XD=encodeURIComponent("fac");async function GT(n,e,t,a,o,u){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:a,v:al,eventId:o};if(e instanceof Lg){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",Vx(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,b]of Object.entries({}))c[_]=b}if(e instanceof Xu){const _=e.getScopes().filter(b=>b!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const p=c;for(const _ of Object.keys(p))p[_]===void 0&&delete p[_];const g=await n._getAppCheckToken(),m=g?`#${XD}=${encodeURIComponent(g)}`:"";return`${ZD(n)}?${Ku(p).slice(1)}${m}`}function ZD({config:n}){return n.emulator?kg(n,WD):`https://${n.authDomain}/${QD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="webStorageSupport";class JD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sw,this._completeRedirectFn=wD,this._overrideRedirectResult=ED}async _openPopup(e,t,a,o){Bi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await GT(e,t,a,Vp(),o);return $D(e,u,Ug())}async _openRedirect(e,t,a,o){await this._originValidation(e);const u=await GT(e,t,a,Vp(),o);return nD(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Bi(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await zD(e),a=new AD(e);return t.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pp,{type:pp},o=>{const u=o?.[0]?.[pp];u!==void 0&&t(!!u),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=DD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return fw()||sw()||Pg()}}const eN=JD;var YT="@firebase/auth",$T="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rN(n){ti(new Pr("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:p}=a.options;we(c&&!c.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:c,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dw(n)},m=new T2(a,o,u,g);return N2(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),ti(new Pr("auth-internal",e=>{const t=Ua(e.getProvider("auth").getImmediate());return(a=>new tN(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(YT,$T,nN(n)),cr(YT,$T,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=300,aN=q0("authIdTokenMaxAge")||iN;let KT=null;const sN=n=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>aN)return;const o=t?.token;KT!==o&&(KT=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Ow(n=Dg()){const e=il(n,"auth");if(e.isInitialized())return e.getImmediate();const t=D2(n,{popupRedirectResolver:eN,persistence:[hD,J2,Sw]}),a=q0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const c=sN(u.toString());Q2(t,c,()=>c(t.currentUser)),K2(t,p=>c(p))}}const o=B0("auth");return o&&O2(t,`http://${o}`),t}function oN(){return document.getElementsByTagName("head")?.[0]??document}b2({loadJS(n){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",n),a.onload=e,a.onerror=o=>{const u=kr("internal-error");u.customData=o,t(u)},a.type="text/javascript",a.charset="UTF-8",oN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rN("Browser");var lN="firebase",uN="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cr(lN,uN,"app");var QT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ia,kw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function I(){}I.prototype=A.prototype,D.F=A.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(P,O,x){for(var R=Array(arguments.length-2),he=2;he<arguments.length;he++)R[he-2]=arguments[he];return A.prototype[O].apply(P,R)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,t),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,A,I){I||(I=0);const P=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)P[O]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(O=0;O<16;++O)P[O]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=D.g[0],I=D.g[1],O=D.g[2];let x=D.g[3],R;R=A+(x^I&(O^x))+P[0]+3614090360&4294967295,A=I+(R<<7&4294967295|R>>>25),R=x+(O^A&(I^O))+P[1]+3905402710&4294967295,x=A+(R<<12&4294967295|R>>>20),R=O+(I^x&(A^I))+P[2]+606105819&4294967295,O=x+(R<<17&4294967295|R>>>15),R=I+(A^O&(x^A))+P[3]+3250441966&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(x^I&(O^x))+P[4]+4118548399&4294967295,A=I+(R<<7&4294967295|R>>>25),R=x+(O^A&(I^O))+P[5]+1200080426&4294967295,x=A+(R<<12&4294967295|R>>>20),R=O+(I^x&(A^I))+P[6]+2821735955&4294967295,O=x+(R<<17&4294967295|R>>>15),R=I+(A^O&(x^A))+P[7]+4249261313&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(x^I&(O^x))+P[8]+1770035416&4294967295,A=I+(R<<7&4294967295|R>>>25),R=x+(O^A&(I^O))+P[9]+2336552879&4294967295,x=A+(R<<12&4294967295|R>>>20),R=O+(I^x&(A^I))+P[10]+4294925233&4294967295,O=x+(R<<17&4294967295|R>>>15),R=I+(A^O&(x^A))+P[11]+2304563134&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(x^I&(O^x))+P[12]+1804603682&4294967295,A=I+(R<<7&4294967295|R>>>25),R=x+(O^A&(I^O))+P[13]+4254626195&4294967295,x=A+(R<<12&4294967295|R>>>20),R=O+(I^x&(A^I))+P[14]+2792965006&4294967295,O=x+(R<<17&4294967295|R>>>15),R=I+(A^O&(x^A))+P[15]+1236535329&4294967295,I=O+(R<<22&4294967295|R>>>10),R=A+(O^x&(I^O))+P[1]+4129170786&4294967295,A=I+(R<<5&4294967295|R>>>27),R=x+(I^O&(A^I))+P[6]+3225465664&4294967295,x=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(x^A))+P[11]+643717713&4294967295,O=x+(R<<14&4294967295|R>>>18),R=I+(x^A&(O^x))+P[0]+3921069994&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(O^x&(I^O))+P[5]+3593408605&4294967295,A=I+(R<<5&4294967295|R>>>27),R=x+(I^O&(A^I))+P[10]+38016083&4294967295,x=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(x^A))+P[15]+3634488961&4294967295,O=x+(R<<14&4294967295|R>>>18),R=I+(x^A&(O^x))+P[4]+3889429448&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(O^x&(I^O))+P[9]+568446438&4294967295,A=I+(R<<5&4294967295|R>>>27),R=x+(I^O&(A^I))+P[14]+3275163606&4294967295,x=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(x^A))+P[3]+4107603335&4294967295,O=x+(R<<14&4294967295|R>>>18),R=I+(x^A&(O^x))+P[8]+1163531501&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(O^x&(I^O))+P[13]+2850285829&4294967295,A=I+(R<<5&4294967295|R>>>27),R=x+(I^O&(A^I))+P[2]+4243563512&4294967295,x=A+(R<<9&4294967295|R>>>23),R=O+(A^I&(x^A))+P[7]+1735328473&4294967295,O=x+(R<<14&4294967295|R>>>18),R=I+(x^A&(O^x))+P[12]+2368359562&4294967295,I=O+(R<<20&4294967295|R>>>12),R=A+(I^O^x)+P[5]+4294588738&4294967295,A=I+(R<<4&4294967295|R>>>28),R=x+(A^I^O)+P[8]+2272392833&4294967295,x=A+(R<<11&4294967295|R>>>21),R=O+(x^A^I)+P[11]+1839030562&4294967295,O=x+(R<<16&4294967295|R>>>16),R=I+(O^x^A)+P[14]+4259657740&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(I^O^x)+P[1]+2763975236&4294967295,A=I+(R<<4&4294967295|R>>>28),R=x+(A^I^O)+P[4]+1272893353&4294967295,x=A+(R<<11&4294967295|R>>>21),R=O+(x^A^I)+P[7]+4139469664&4294967295,O=x+(R<<16&4294967295|R>>>16),R=I+(O^x^A)+P[10]+3200236656&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(I^O^x)+P[13]+681279174&4294967295,A=I+(R<<4&4294967295|R>>>28),R=x+(A^I^O)+P[0]+3936430074&4294967295,x=A+(R<<11&4294967295|R>>>21),R=O+(x^A^I)+P[3]+3572445317&4294967295,O=x+(R<<16&4294967295|R>>>16),R=I+(O^x^A)+P[6]+76029189&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(I^O^x)+P[9]+3654602809&4294967295,A=I+(R<<4&4294967295|R>>>28),R=x+(A^I^O)+P[12]+3873151461&4294967295,x=A+(R<<11&4294967295|R>>>21),R=O+(x^A^I)+P[15]+530742520&4294967295,O=x+(R<<16&4294967295|R>>>16),R=I+(O^x^A)+P[2]+3299628645&4294967295,I=O+(R<<23&4294967295|R>>>9),R=A+(O^(I|~x))+P[0]+4096336452&4294967295,A=I+(R<<6&4294967295|R>>>26),R=x+(I^(A|~O))+P[7]+1126891415&4294967295,x=A+(R<<10&4294967295|R>>>22),R=O+(A^(x|~I))+P[14]+2878612391&4294967295,O=x+(R<<15&4294967295|R>>>17),R=I+(x^(O|~A))+P[5]+4237533241&4294967295,I=O+(R<<21&4294967295|R>>>11),R=A+(O^(I|~x))+P[12]+1700485571&4294967295,A=I+(R<<6&4294967295|R>>>26),R=x+(I^(A|~O))+P[3]+2399980690&4294967295,x=A+(R<<10&4294967295|R>>>22),R=O+(A^(x|~I))+P[10]+4293915773&4294967295,O=x+(R<<15&4294967295|R>>>17),R=I+(x^(O|~A))+P[1]+2240044497&4294967295,I=O+(R<<21&4294967295|R>>>11),R=A+(O^(I|~x))+P[8]+1873313359&4294967295,A=I+(R<<6&4294967295|R>>>26),R=x+(I^(A|~O))+P[15]+4264355552&4294967295,x=A+(R<<10&4294967295|R>>>22),R=O+(A^(x|~I))+P[6]+2734768916&4294967295,O=x+(R<<15&4294967295|R>>>17),R=I+(x^(O|~A))+P[13]+1309151649&4294967295,I=O+(R<<21&4294967295|R>>>11),R=A+(O^(I|~x))+P[4]+4149444226&4294967295,A=I+(R<<6&4294967295|R>>>26),R=x+(I^(A|~O))+P[11]+3174756917&4294967295,x=A+(R<<10&4294967295|R>>>22),R=O+(A^(x|~I))+P[2]+718787259&4294967295,O=x+(R<<15&4294967295|R>>>17),R=I+(x^(O|~A))+P[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+x&4294967295}a.prototype.v=function(D,A){A===void 0&&(A=D.length);const I=A-this.blockSize,P=this.C;let O=this.h,x=0;for(;x<A;){if(O==0)for(;x<=I;)o(this,D,x),x+=this.blockSize;if(typeof D=="string"){for(;x<A;)if(P[O++]=D.charCodeAt(x++),O==this.blockSize){o(this,P),O=0;break}}else for(;x<A;)if(P[O++]=D[x++],O==this.blockSize){o(this,P),O=0;break}}this.h=O,this.o+=A},a.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;A=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=A&255,A/=256;for(this.v(D),D=Array(16),A=0,I=0;I<4;++I)for(let P=0;P<32;P+=8)D[A++]=this.g[I]>>>P&255;return D};function u(D,A){var I=p;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=A(D)}function c(D,A){this.h=A;const I=[];let P=!0;for(let O=D.length-1;O>=0;O--){const x=D[O]|0;P&&x==A||(I[O]=x,P=!1)}this.g=I}var p={};function g(D){return-128<=D&&D<128?u(D,function(A){return new c([A|0],A<0?-1:0)}):new c([D|0],D<0?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return U(m(-D));const A=[];let I=1;for(let P=0;D>=I;P++)A[P]=D/I|0,I*=4294967296;return new c(A,0)}function _(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return U(_(D.substring(1),A));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=m(Math.pow(A,8));let P=b;for(let x=0;x<D.length;x+=8){var O=Math.min(8,D.length-x);const R=parseInt(D.substring(x,x+O),A);O<8?(O=m(Math.pow(A,O)),P=P.j(O).add(m(R))):(P=P.j(I),P=P.add(m(R)))}return P}var b=g(0),w=g(1),N=g(16777216);n=c.prototype,n.m=function(){if(z(this))return-U(this).m();let D=0,A=1;for(let I=0;I<this.g.length;I++){const P=this.i(I);D+=(P>=0?P:4294967296+P)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(j(this))return"0";if(z(this))return"-"+U(this).toString(D);const A=m(Math.pow(D,6));var I=this;let P="";for(;;){const O=ce(I,A).g;I=$(I,O.j(A));let x=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=O,j(I))return x+P;for(;x.length<6;)x="0"+x;P=x+P}},n.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function j(D){if(D.h!=0)return!1;for(let A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function z(D){return D.h==-1}n.l=function(D){return D=$(this,D),z(D)?-1:j(D)?0:1};function U(D){const A=D.g.length,I=[];for(let P=0;P<A;P++)I[P]=~D.g[P];return new c(I,~D.h).add(w)}n.abs=function(){return z(this)?U(this):this},n.add=function(D){const A=Math.max(this.g.length,D.g.length),I=[];let P=0;for(let O=0;O<=A;O++){let x=P+(this.i(O)&65535)+(D.i(O)&65535),R=(x>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);P=R>>>16,x&=65535,R&=65535,I[O]=R<<16|x}return new c(I,I[I.length-1]&-2147483648?-1:0)};function $(D,A){return D.add(U(A))}n.j=function(D){if(j(this)||j(D))return b;if(z(this))return z(D)?U(this).j(U(D)):U(U(this).j(D));if(z(D))return U(this.j(U(D)));if(this.l(N)<0&&D.l(N)<0)return m(this.m()*D.m());const A=this.g.length+D.g.length,I=[];for(var P=0;P<2*A;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(let O=0;O<D.g.length;O++){const x=this.i(P)>>>16,R=this.i(P)&65535,he=D.i(O)>>>16,Oe=D.i(O)&65535;I[2*P+2*O]+=R*Oe,X(I,2*P+2*O),I[2*P+2*O+1]+=x*Oe,X(I,2*P+2*O+1),I[2*P+2*O+1]+=R*he,X(I,2*P+2*O+1),I[2*P+2*O+2]+=x*he,X(I,2*P+2*O+2)}for(D=0;D<A;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=A;D<2*A;D++)I[D]=0;return new c(I,0)};function X(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function ie(D,A){this.g=D,this.h=A}function ce(D,A){if(j(A))throw Error("division by zero");if(j(D))return new ie(b,b);if(z(D))return A=ce(U(D),A),new ie(U(A.g),U(A.h));if(z(A))return A=ce(D,U(A)),new ie(U(A.g),A.h);if(D.g.length>30){if(z(D)||z(A))throw Error("slowDivide_ only works with positive integers.");for(var I=w,P=A;P.l(D)<=0;)I=oe(I),P=oe(P);var O=me(I,1),x=me(P,1);for(P=me(P,2),I=me(I,2);!j(P);){var R=x.add(P);R.l(D)<=0&&(O=O.add(I),x=R),P=me(P,1),I=me(I,1)}return A=$(D,O.j(A)),new ie(O,A)}for(O=b;D.l(A)>=0;){for(I=Math.max(1,Math.floor(D.m()/A.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),x=m(I),R=x.j(A);z(R)||R.l(D)>0;)I-=P,x=m(I),R=x.j(A);j(x)&&(x=w),O=O.add(x),D=$(D,R)}return new ie(O,D)}n.B=function(D){return ce(this,D).h},n.and=function(D){const A=Math.max(this.g.length,D.g.length),I=[];for(let P=0;P<A;P++)I[P]=this.i(P)&D.i(P);return new c(I,this.h&D.h)},n.or=function(D){const A=Math.max(this.g.length,D.g.length),I=[];for(let P=0;P<A;P++)I[P]=this.i(P)|D.i(P);return new c(I,this.h|D.h)},n.xor=function(D){const A=Math.max(this.g.length,D.g.length),I=[];for(let P=0;P<A;P++)I[P]=this.i(P)^D.i(P);return new c(I,this.h^D.h)};function oe(D){const A=D.g.length+1,I=[];for(let P=0;P<A;P++)I[P]=D.i(P)<<1|D.i(P-1)>>>31;return new c(I,D.h)}function me(D,A){const I=A>>5;A%=32;const P=D.g.length-I,O=[];for(let x=0;x<P;x++)O[x]=A>0?D.i(x+I)>>>A|D.i(x+I+1)<<32-A:D.i(x+I);return new c(O,D.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,kw=a,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,Ia=c}).apply(typeof QT<"u"?QT:typeof self<"u"?self:typeof window<"u"?window:{});var Ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mw,Eu,Pw,Uh,zp,jw,Vw,Lw;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ah=="object"&&Ah];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var a=t(this);function o(h,y){if(y)e:{var E=a;h=h.split(".");for(var C=0;C<h.length-1;C++){var H=h[C];if(!(H in E))break e;E=E[H]}h=h[h.length-1],C=E[h],y=y(C),y!=C&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],C;for(C in y)Object.prototype.hasOwnProperty.call(y,C)&&E.push([C,y[C]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function g(h,y,E){return h.call.apply(h.bind,arguments)}function m(h,y,E){return m=g,m.apply(null,arguments)}function _(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function b(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(C,H,W){for(var ue=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ue[xe-2]=arguments[xe];return y.prototype[H].apply(C,ue)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function N(h){const y=h.length;if(y>0){const E=Array(y);for(let C=0;C<y;C++)E[C]=h[C];return E}return[]}function j(h,y){for(let C=1;C<arguments.length;C++){const H=arguments[C];var E=typeof H;if(E=E!="object"?E:H?Array.isArray(H)?"array":E:"null",E=="array"||E=="object"&&typeof H.length=="number"){E=h.length||0;const W=H.length||0;h.length=E+W;for(let ue=0;ue<W;ue++)h[E+ue]=H[ue]}else h.push(H)}}class z{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(h){c.setTimeout(()=>{throw h},0)}function $(){var h=D;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class X{constructor(){this.h=this.g=null}add(y,E){const C=ie.get();C.set(y,E),this.h?this.h.next=C:this.g=C,this.h=C}}var ie=new z(()=>new ce,h=>h.reset());class ce{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,D=new X,A=()=>{const h=Promise.resolve(void 0);oe=()=>{h.then(I)}};function I(){for(var h;h=$();){try{h.h.call(h.g)}catch(E){U(E)}var y=ie;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}me=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function R(h){return/^[\s\xa0]*$/.test(h)}function he(h,y){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}b(he,O),he.prototype.init=function(h,y){const E=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Oe="closure_listenable_"+(Math.random()*1e6|0),K=0;function q(h,y,E,C,H){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!C,this.ha=H,this.key=++K,this.da=this.fa=!1}function le(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ve(h,y,E){for(const C in h)y.call(E,h[C],C,h)}function M(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function Z(h){const y={};for(const E in h)y[E]=h[E];return y}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(h,y){let E,C;for(let H=1;H<arguments.length;H++){C=arguments[H];for(E in C)h[E]=C[E];for(let W=0;W<ae.length;W++)E=ae[W],Object.prototype.hasOwnProperty.call(C,E)&&(h[E]=C[E])}}function de(h){this.src=h,this.g={},this.h=0}de.prototype.add=function(h,y,E,C,H){const W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);const ue=_e(h,y,C,H);return ue>-1?(y=h[ue],E||(y.fa=!1)):(y=new q(y,this.src,W,!!C,H),y.fa=E,h.push(y)),y};function ke(h,y){const E=y.type;if(E in h.g){var C=h.g[E],H=Array.prototype.indexOf.call(C,y,void 0),W;(W=H>=0)&&Array.prototype.splice.call(C,H,1),W&&(le(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function _e(h,y,E,C){for(let H=0;H<h.length;++H){const W=h[H];if(!W.da&&W.listener==y&&W.capture==!!E&&W.ha==C)return H}return-1}var pt="closure_lm_"+(Math.random()*1e6|0),ze={};function Nt(h,y,E,C,H){if(Array.isArray(y)){for(let W=0;W<y.length;W++)Nt(h,y[W],E,C,H);return null}return E=Ha(E),h&&h[Oe]?h.J(y,E,p(C)?!!C.capture:!1,H):si(h,y,E,!1,C,H)}function si(h,y,E,C,H,W){if(!y)throw Error("Invalid event type");const ue=p(H)?!!H.capture:!!H;let xe=Yt(h);if(xe||(h[pt]=xe=new de(h)),E=xe.add(y,E,C,ue,W),E.proxy)return E;if(C=Vr(),E.proxy=C,C.src=h,C.listener=E,h.addEventListener)x||(H=ue),H===void 0&&(H=!1),h.addEventListener(y.toString(),C,H);else if(h.attachEvent)h.attachEvent(it(y.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Vr(){function h(E){return y.call(h.src,h.listener,E)}const y=oi;return h}function mr(h,y,E,C,H){if(Array.isArray(y))for(var W=0;W<y.length;W++)mr(h,y[W],E,C,H);else C=p(C)?!!C.capture:!!C,E=Ha(E),h&&h[Oe]?(h=h.i,W=String(y).toString(),W in h.g&&(y=h.g[W],E=_e(y,E,C,H),E>-1&&(le(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[W],h.h--)))):h&&(h=Yt(h))&&(y=h.g[y.toString()],h=-1,y&&(h=_e(y,E,C,H)),(E=h>-1?y[h]:null)&&pr(E))}function pr(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Oe])ke(y.i,h);else{var E=h.type,C=h.proxy;y.removeEventListener?y.removeEventListener(E,C,h.capture):y.detachEvent?y.detachEvent(it(E),C):y.addListener&&y.removeListener&&y.removeListener(C),(E=Yt(y))?(ke(E,h),E.h==0&&(E.src=null,y[pt]=null)):le(h)}}}function it(h){return h in ze?ze[h]:ze[h]="on"+h}function oi(h,y){if(h.da)h=!0;else{y=new he(y,this);const E=h.listener,C=h.ha||h.src;h.fa&&pr(h),h=E.call(C,y)}return h}function Yt(h){return h=h[pt],h instanceof de?h:null}var Vt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ha(h){return typeof h=="function"?h:(h[Vt]||(h[Vt]=function(y){return h.handleEvent(y)}),h[Vt])}function Et(){P.call(this),this.i=new de(this),this.M=this,this.G=null}b(Et,P),Et.prototype[Oe]=!0,Et.prototype.removeEventListener=function(h,y,E,C){mr(this,h,y,E,C)};function Ot(h,y){var E,C=h.G;if(C)for(E=[];C;C=C.G)E.push(C);if(h=h.M,C=y.type||y,typeof y=="string")y=new O(y,h);else if(y instanceof O)y.target=y.target||h;else{var H=y;y=new O(C,h),se(y,H)}H=!0;let W,ue;if(E)for(ue=E.length-1;ue>=0;ue--)W=y.g=E[ue],H=gr(W,C,!0,y)&&H;if(W=y.g=h,H=gr(W,C,!0,y)&&H,H=gr(W,C,!1,y)&&H,E)for(ue=0;ue<E.length;ue++)W=y.g=E[ue],H=gr(W,C,!1,y)&&H}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let C=0;C<E.length;C++)le(E[C]);delete h.g[y],h.h--}}this.G=null},Et.prototype.J=function(h,y,E,C){return this.i.add(String(h),y,!1,E,C)},Et.prototype.K=function(h,y,E,C){return this.i.add(String(h),y,!0,E,C)};function gr(h,y,E,C){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let H=!0;for(let W=0;W<y.length;++W){const ue=y[W];if(ue&&!ue.da&&ue.capture==E){const xe=ue.listener,ot=ue.ha||ue.src;ue.fa&&ke(h.i,ue),H=xe.call(ot,C)!==!1&&H}}return H&&!C.defaultPrevented}function dl(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=m(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Yi(h){h.g=dl(()=>{h.g=null,h.i&&(h.i=!1,Yi(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class ml extends P{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Yi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function li(h){P.call(this),this.h=h,this.g={}}b(li,P);var Lr=[];function $t(h){ve(h.g,function(y,E){this.g.hasOwnProperty(E)&&pr(y)},h),h.g={}}li.prototype.N=function(){li.Z.N.call(this),$t(this)},li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sn=c.JSON.stringify,Lt=c.JSON.parse,$s=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ga(){}function Ks(){}var vn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function yr(){O.call(this,"d")}b(yr,O);function kn(){O.call(this,"c")}b(kn,O);var _n={},vr=null;function Ur(){return vr=vr||new Et}_n.Ia="serverreachability";function Ya(h){O.call(this,_n.Ia,h)}b(Ya,O);function _r(h){const y=Ur();Ot(y,new Ya(y))}_n.STAT_EVENT="statevent";function $i(h,y){O.call(this,_n.STAT_EVENT,h),this.stat=y}b($i,O);function ct(h){const y=Ur();Ot(y,new $i(y,h))}_n.Ja="timingevent";function Ut(h,y){O.call(this,_n.Ja,h),this.size=y}b(Ut,O);function gt(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Mn(){this.g=!0}Mn.prototype.ua=function(){this.g=!1};function Qe(h,y,E,C,H,W){h.info(function(){if(h.g)if(W){var ue="",xe=W.split("&");for(let We=0;We<xe.length;We++){var ot=xe[We].split("=");if(ot.length>1){const At=ot[0];ot=ot[1];const Vn=At.split("_");ue=Vn.length>=2&&Vn[1]=="type"?ue+(At+"="+ot+"&"):ue+(At+"=redacted&")}}}else ue=null;else ue=W;return"XMLHTTP REQ ("+C+") [attempt "+H+"]: "+y+`
`+E+`
`+ue})}function ln(h,y,E,C,H,W,ue){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+H+"]: "+y+`
`+E+`
`+W+" "+ue})}function Er(h,y,E,C){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Pn(h,E)+(C?" "+C:"")})}function $a(h,y){h.info(function(){return"TIMEOUT: "+y})}Mn.prototype.info=function(){};function Pn(h,y){if(!h.g)return y;if(!y)return null;try{const W=JSON.parse(y);if(W){for(h=0;h<W.length;h++)if(Array.isArray(W[h])){var E=W[h];if(!(E.length<2)){var C=E[1];if(Array.isArray(C)&&!(C.length<1)){var H=C[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ue=1;ue<C.length;ue++)C[ue]=""}}}}return Sn(W)}catch{return y}}var ht={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},St={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},An;function Tr(){}b(Tr,Ga),Tr.prototype.g=function(){return new XMLHttpRequest},An=new Tr;function br(h){return encodeURIComponent(String(h))}function Ka(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function jn(h,y,E,C){this.j=h,this.i=y,this.l=E,this.S=C||1,this.V=new li(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var ui={},Qn={};function Wn(h,y,E){h.M=1,h.A=fi(yt(y)),h.u=E,h.R=!0,Re(h,null)}function Re(h,y){h.F=Date.now(),Bt(h),h.B=yt(h.A);var E=h.B,C=h.S;Array.isArray(C)||(C=[String(C)]),hc(E.i,"t",C),h.C=0,E=h.j.L,h.h=new Kn,h.g=io(h.j,E?y:null,!h.u),h.P>0&&(h.O=new ml(m(h.Y,h,h.g),h.P)),y=h.V,E=h.g,C=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(Lr[0]=H.toString()),H=Lr);for(let W=0;W<H.length;W++){const ue=Nt(E,H[W],C||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=h.J?Z(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),_r(),Qe(h.i,h.v,h.B,h.l,h.S,h.u)}jn.prototype.ba=function(h){h=h.target;const y=this.O;y&&cn(h)==3?y.j():this.Y(h)},jn.prototype.Y=function(h){try{if(h==this.g)e:{const xe=cn(this.g),ot=this.g.ya(),We=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||is(this.g)))){this.K||xe!=4||ot==7||(ot==8||We<=0?_r(3):_r(2)),Xn(this);var y=this.g.ca();this.X=y;var E=Ye(this);if(this.o=y==200,ln(this.i,this.v,this.B,this.l,this.S,xe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var C,H=this.g;if((C=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(C)){var W=C;break t}}W=null}if(h=W)Er(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qs(this,h);else{this.o=!1,this.m=3,ct(12),Br(this),ci(this);break e}}if(this.R){h=!0;let At;for(;!this.K&&this.C<E.length;)if(At=un(this,E),At==Qn){xe==4&&(this.m=4,ct(14),h=!1),Er(this.i,this.l,null,"[Incomplete Response]");break}else if(At==ui){this.m=4,ct(15),Er(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Er(this.i,this.l,At,null),Qs(this,At);if(De(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||E.length!=0||this.h.h||(this.m=1,ct(16),h=!1),this.o=this.o&&h,!h)Er(this.i,this.l,E,"[Invalid Chunked Response]"),Br(this),ci(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Sl(ue),ue.P=!0,ct(11))}}else Er(this.i,this.l,E,null),Qs(this,E);xe==4&&Br(this),this.o&&!this.K&&(xe==4?Al(this.j,this):(this.o=!1,Bt(this)))}else as(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,ct(12)):(this.m=0,ct(13)),Br(this),ci(this)}}}catch{}finally{}};function Ye(h){if(!De(h))return h.g.la();const y=is(h.g);if(y==="")return"";let E="";const C=y.length,H=cn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Br(h),ci(h),"";h.h.i=new c.TextDecoder}for(let W=0;W<C;W++)h.h.h=!0,E+=h.h.i.decode(y[W],{stream:!(H&&W==C-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function De(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function un(h,y){var E=h.C,C=y.indexOf(`
`,E);return C==-1?Qn:(E=Number(y.substring(E,C)),isNaN(E)?ui:(C+=1,C+E>y.length?Qn:(y=y.slice(C,C+E),h.C=C+E,y)))}jn.prototype.cancel=function(){this.K=!0,Br(this)};function Bt(h){h.T=Date.now()+h.H,Rn(h,h.H)}function Rn(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=gt(m(h.aa,h),y)}function Xn(h){h.D&&(c.clearTimeout(h.D),h.D=null)}jn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?($a(this.i,this.B),this.M!=2&&(_r(),ct(17)),Br(this),this.m=2,ci(this)):Rn(this,this.T-h)};function ci(h){h.j.I==0||h.K||Al(h.j,h)}function Br(h){Xn(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,$t(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Qs(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||Xa(E.h,h))){if(!h.L&&Xa(E.h,h)&&E.I==3){try{var C=E.Ba.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var H=C;if(H[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)ro(E),zr(E);else break e;wl(E),ct(18)}}else E.xa=H[1],0<E.xa-E.K&&H[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=gt(m(E.Va,E),6e3));Zn(E.h)<=1&&E.ta&&(E.ta=void 0)}else pi(E,11)}else if((h.L||E.g==h)&&ro(E),!R(y))for(H=E.Ba.g.parse(y),y=0;y<H.length;y++){let We=H[y];const At=We[0];if(!(At<=E.K))if(E.K=At,We=We[1],E.I==2)if(We[0]=="c"){E.M=We[1],E.ba=We[2];const Vn=We[3];Vn!=null&&(E.ka=Vn,E.j.info("VER="+E.ka));const qr=We[4];qr!=null&&(E.za=qr,E.j.info("SVER="+E.za));const Ar=We[5];Ar!=null&&typeof Ar=="number"&&Ar>0&&(C=1.5*Ar,E.O=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const Rr=h.g;if(Rr){const Cr=Rr.g?Rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cr){var W=C.h;W.g||Cr.indexOf("spdy")==-1&&Cr.indexOf("quic")==-1&&Cr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Ws(W,W.h),W.h=null))}if(C.G){const Cl=Rr.g?Rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Cl&&(C.wa=Cl,Je(C.J,C.G,Cl))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),C=E;var ue=h;if(C.na=Ec(C,C.L?C.ba:null,C.W),ue.L){hi(C.h,ue);var xe=ue,ot=C.O;ot&&(xe.H=ot),xe.D&&(Xn(xe),Bt(xe)),C.g=ue}else gc(C);E.i.length>0&&us(E)}else We[0]!="stop"&&We[0]!="close"||pi(E,7);else E.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?pi(E,7):os(E):We[0]!="noop"&&E.l&&E.l.qa(We),E.A=0)}}_r(4)}catch{}}var od=class{constructor(h,y){this.g=h,this.map=y}};function Qa(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Zn(h){return h.h?1:h.g?h.g.size:0}function Xa(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Ws(h,y){h.g?h.g.add(y):h.h=y}function hi(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Qa.prototype.cancel=function(){if(this.i=Xs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Xs(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return N(h.i)}var Zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ld(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const C=h[E].indexOf("=");let H,W=null;C>=0?(H=h[E].substring(0,C),W=h[E].substring(C+1)):H=h[E],y(H,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function wr(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof wr?(this.l=h.l,Ki(this,h.j),this.o=h.o,this.g=h.g,Za(this,h.u),this.h=h.h,Qi(this,fc(h.i)),this.m=h.m):h&&(y=String(h).match(Zs))?(this.l=!1,Ki(this,y[1]||"",!0),this.o=Ja(y[2]||""),this.g=Ja(y[3]||"",!0),Za(this,y[4]),this.h=Ja(y[5]||"",!0),Qi(this,y[6]||"",!0),this.m=Ja(y[7]||"")):(this.l=!1,this.i=new Jn(null,this.l))}wr.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Kt(y,gl,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Kt(y,gl,!0),"@"),h.push(br(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Kt(E,E.charAt(0)=="/"?Wi:yl,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Kt(E,cc)),h.join("")},wr.prototype.resolve=function(h){const y=yt(this);let E=!!h.j;E?Ki(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var C=h.h;if(E)Za(y,h.u);else if(E=!!h.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var H=y.h.lastIndexOf("/");H!=-1&&(C=y.h.slice(0,H+1)+C)}if(H=C,H==".."||H==".")C="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){C=H.lastIndexOf("/",0)==0,H=H.split("/");const W=[];for(let ue=0;ue<H.length;){const xe=H[ue++];xe=="."?C&&ue==H.length&&W.push(""):xe==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),C&&ue==H.length&&W.push("")):(W.push(xe),C=!0)}C=W.join("/")}else C=H}return E?y.h=C:E=h.i.toString()!=="",E?Qi(y,fc(h.i)):E=!!h.m,E&&(y.m=h.m),y};function yt(h){return new wr(h)}function Ki(h,y,E){h.j=E?Ja(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Za(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Qi(h,y,E){y instanceof Jn?(h.i=y,El(h.i,h.l)):(E||(y=Kt(y,uc)),h.i=new Jn(y,h.l))}function Je(h,y,E){h.i.set(y,E)}function fi(h){return Je(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ja(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Kt(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,pl),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function pl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var gl=/[#\/\?@]/g,yl=/[#\?:]/g,Wi=/[#\?]/g,uc=/[#\?@]/g,cc=/#/g;function Jn(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function di(h){h.g||(h.g=new Map,h.h=0,h.i&&ld(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=Jn.prototype,n.add=function(h,y){di(this),this.i=null,h=Sr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function vl(h,y){di(h),y=Sr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function _l(h,y){return di(h),y=Sr(h,y),h.g.has(y)}n.forEach=function(h,y){di(this),this.g.forEach(function(E,C){E.forEach(function(H){h.call(y,H,C,this)},this)},this)};function Js(h,y){di(h);let E=[];if(typeof y=="string")_l(h,y)&&(E=E.concat(h.g.get(Sr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}n.set=function(h,y){return di(this),this.i=null,h=Sr(this,h),_l(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=Js(this,h),h.length>0?String(h[0]):y):y};function hc(h,y,E){vl(h,y),E.length>0&&(h.i=null,h.g.set(Sr(h,y),N(E)),h.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let C=0;C<y.length;C++){var E=y[C];const H=br(E);E=Js(this,E);for(let W=0;W<E.length;W++){let ue=H;E[W]!==""&&(ue+="="+br(E[W])),h.push(ue)}}return this.i=h.join("&")};function fc(h){const y=new Jn;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Sr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function El(h,y){y&&!h.j&&(di(h),h.i=null,h.g.forEach(function(E,C){const H=C.toLowerCase();C!=H&&(vl(this,C),hc(this,H,E))},h)),h.j=y}function Tl(h,y){const E=new Mn;if(c.Image){const C=new Image;C.onload=_(En,E,"TestLoadImage: loaded",!0,y,C),C.onerror=_(En,E,"TestLoadImage: error",!1,y,C),C.onabort=_(En,E,"TestLoadImage: abort",!1,y,C),C.ontimeout=_(En,E,"TestLoadImage: timeout",!1,y,C),c.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else y(!1)}function Xi(h,y){const E=new Mn,C=new AbortController,H=setTimeout(()=>{C.abort(),En(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:C.signal}).then(W=>{clearTimeout(H),W.ok?En(E,"TestPingServer: ok",!0,y):En(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),En(E,"TestPingServer: error",!1,y)})}function En(h,y,E,C,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),C(E)}catch{}}function dc(){this.g=new $s}function es(h){this.i=h.Sb||null,this.h=h.ab||!1}b(es,Ga),es.prototype.g=function(){return new ts(this.i,this.h)};function ts(h,y){Et.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ts,Et),n=ts.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,mi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Tn(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zi(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zi(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Tn(this):mi(this),this.readyState==3&&Zi(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Tn(this))},n.Na=function(h){this.g&&(this.response=h,Tn(this))},n.ga=function(){this.g&&Tn(this)};function Tn(h){h.readyState=4,h.l=null,h.j=null,h.B=null,mi(h)}n.setRequestHeader=function(h,y){this.A.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function mi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ji(h){let y="";return ve(h,function(E,C){y+=C,y+=":",y+=E,y+=`\r
`}),y}function er(h,y,E){e:{for(C in E){var C=!1;break e}C=!0}C||(E=Ji(E),typeof h=="string"?E!=null&&br(E):Je(h,y,E))}function at(h){Et.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(at,Et);var eo=/^https?$/i,mc=["POST","PUT"];n=at.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,y,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():An.g(),this.g.onreadystatechange=w(m(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(W){ns(this,W);return}if(h=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var H in C)E.set(H,C[H]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const W of C.keys())E.set(W,C.get(W));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(mc,y,void 0)>=0)||C||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ue]of E)this.g.setRequestHeader(W,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(W){ns(this,W)}};function ns(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,rs(h),zt(h)}function rs(h){h.A||(h.A=!0,Ot(h,"complete"),Ot(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ot(this,"complete"),Ot(this,"abort"),zt(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),at.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?bl(this):this.Xa())},n.Xa=function(){bl(this)};function bl(h){if(h.h&&typeof u<"u"){if(h.v&&cn(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ot(h,"readystatechange"),cn(h)==4){h.h=!1;try{const W=h.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var C;if(C=W===0){let ue=String(h.D).match(Zs)[1]||null;!ue&&c.self&&c.self.location&&(ue=c.self.location.protocol.slice(0,-1)),C=!eo.test(ue?ue.toLowerCase():"")}E=C}if(E)Ot(h,"complete"),Ot(h,"success");else{h.o=6;try{var H=cn(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",rs(h)}}finally{zt(h)}}}}function zt(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Ot(h,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function cn(h){return h.g?h.g.readyState:0}n.ca=function(){try{return cn(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Lt(y)}};function is(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function as(h){const y={};h=(h.g&&cn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(R(h[C]))continue;var E=Ka(h[C]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=y[H]||[];y[H]=W,W.push(E)}M(y,function(C){return C.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ss(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function to(h){this.za=0,this.i=[],this.j=new Mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ss("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ss("baseRetryDelayMs",5e3,h),this.Za=ss("retryDelaySeedMs",1e4,h),this.Ta=ss("forwardChannelMaxRetries",2,h),this.va=ss("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Qa(h&&h.concurrentRequestLimit),this.Ba=new dc,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=to.prototype,n.ka=8,n.I=1,n.connect=function(h,y,E,C){ct(0),this.W=h,this.H=y||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.J=Ec(this,null,this.W),us(this)};function os(h){if(ls(h),h.I==3){var y=h.V++,E=yt(h.J);if(Je(E,"SID",h.M),Je(E,"RID",y),Je(E,"TYPE","terminate"),cs(h,E),y=new jn(h,h.j,y),y.M=2,y.A=fi(yt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=io(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Bt(y)}_c(h)}function zr(h){h.g&&(Sl(h),h.g.cancel(),h.g=null)}function ls(h){zr(h),h.v&&(c.clearTimeout(h.v),h.v=null),ro(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function us(h){if(!Wa(h.h)&&!h.m){h.m=!0;var y=h.Ea;oe||A(),me||(oe(),me=!0),D.add(y,h),h.D=0}}function ud(h,y){return Zn(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=gt(m(h.Ea,h,y),vc(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new jn(this,this.j,h);let W=this.o;if(this.U&&(W?(W=Z(W),se(W,this.U)):W=this.U),this.u!==null||this.R||(H.J=W,W=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=no(this,H,y),E=yt(this.J),Je(E,"RID",h),Je(E,"CVER",22),this.G&&Je(E,"X-HTTP-Session-Id",this.G),cs(this,E),W&&(this.R?y="headers="+br(Ji(W))+"&"+y:this.u&&er(E,this.u,W)),Ws(this.h,H),this.Ra&&Je(E,"TYPE","init"),this.S?(Je(E,"$req",y),Je(E,"SID","null"),H.U=!0,Wn(H,E,null)):Wn(H,E,y),this.I=2}}else this.I==3&&(h?pc(this,h):this.i.length==0||Wa(this.h)||pc(this))};function pc(h,y){var E;y?E=y.l:E=h.V++;const C=yt(h.J);Je(C,"SID",h.M),Je(C,"RID",E),Je(C,"AID",h.K),cs(h,C),h.u&&h.o&&er(C,h.u,h.o),E=new jn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=no(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ws(h.h,E),Wn(E,C,y)}function cs(h,y){h.H&&ve(h.H,function(E,C){Je(y,C,E)}),h.l&&ve({},function(E,C){Je(y,C,E)})}function no(h,y,E){E=Math.min(h.i.length,E);const C=h.l?m(h.l.Ka,h.l,h):null;e:{var H=h.i;let xe=-1;for(;;){const ot=["count="+E];xe==-1?E>0?(xe=H[0].g,ot.push("ofs="+xe)):xe=0:ot.push("ofs="+xe);let We=!0;for(let At=0;At<E;At++){var W=H[At].g;const Vn=H[At].map;if(W-=xe,W<0)xe=Math.max(0,H[At].g-100),We=!1;else try{W="req"+W+"_"||"";try{var ue=Vn instanceof Map?Vn:Object.entries(Vn);for(const[qr,Ar]of ue){let Rr=Ar;p(Ar)&&(Rr=Sn(Ar)),ot.push(W+qr+"="+encodeURIComponent(Rr))}}catch(qr){throw ot.push(W+"type="+encodeURIComponent("_badmap")),qr}}catch{C&&C(Vn)}}if(We){ue=ot.join("&");break e}}ue=void 0}return h=h.i.splice(0,E),y.G=h,ue}function gc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;oe||A(),me||(oe(),me=!0),D.add(y,h),h.A=0}}function wl(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=gt(m(h.Da,h),vc(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,yc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=gt(m(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ct(10),zr(this),yc(this))};function Sl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function yc(h){h.g=new jn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=yt(h.na);Je(y,"RID","rpc"),Je(y,"SID",h.M),Je(y,"AID",h.K),Je(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Je(y,"TO",h.ia),Je(y,"TYPE","xmlhttp"),cs(h,y),h.u&&h.o&&er(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=fi(yt(y)),E.u=null,E.R=!0,Re(E,h)}n.Va=function(){this.C!=null&&(this.C=null,zr(this),wl(this),ct(19))};function ro(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Al(h,y){var E=null;if(h.g==y){ro(h),Sl(h),h.g=null;var C=2}else if(Xa(h.h,y))E=y.G,hi(h.h,y),C=1;else return;if(h.I!=0){if(y.o)if(C==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var H=h.D;C=Ur(),Ot(C,new Ut(C,E)),us(h)}else gc(h);else if(H=y.m,H==3||H==0&&y.X>0||!(C==1&&ud(h,y)||C==2&&wl(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),H){case 1:pi(h,5);break;case 4:pi(h,10);break;case 3:pi(h,6);break;default:pi(h,2)}}}function vc(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function pi(h,y){if(h.j.info("Error code "+y),y==2){var E=m(h.bb,h),C=h.Ua;const H=!C;C=new wr(C||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ki(C,"https"),fi(C),H?Tl(C.toString(),E):Xi(C.toString(),E)}else ct(2);h.I=0,h.l&&h.l.pa(y),_c(h),ls(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function _c(h){if(h.I=0,h.ja=[],h.l){const y=Xs(h.h);(y.length!=0||h.i.length!=0)&&(j(h.ja,y),j(h.ja,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.oa()}}function Ec(h,y,E){var C=E instanceof wr?yt(E):new wr(E);if(C.g!="")y&&(C.g=y+"."+C.g),Za(C,C.u);else{var H=c.location;C=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;const W=new wr(null);C&&Ki(W,C),y&&(W.g=y),H&&Za(W,H),E&&(W.h=E),C=W}return E=h.G,y=h.wa,E&&y&&Je(C,E,y),Je(C,"VER",h.ka),cs(h,C),C}function io(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new at(new es({ab:E})):new at(h.ma),y.Fa(h.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tc(){}n=Tc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ao(){}ao.prototype.g=function(h,y){return new bn(h,y)};function bn(h,y){Et.call(this),this.g=new to(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!R(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new ea(this)}b(bn,Et),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){os(this.g)},bn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Sn(h),h=E);y.i.push(new od(y.Ya++,h)),y.I==3&&us(y)},bn.prototype.N=function(){this.g.l=null,delete this.j,os(this.g),delete this.g,bn.Z.N.call(this)};function Rl(h){yr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}b(Rl,yr);function bc(){kn.call(this),this.status=1}b(bc,kn);function ea(h){this.g=h}b(ea,Tc),ea.prototype.ra=function(){Ot(this.g,"a")},ea.prototype.qa=function(h){Ot(this.g,new Rl(h))},ea.prototype.pa=function(h){Ot(this.g,new bc)},ea.prototype.oa=function(){Ot(this.g,"b")},ao.prototype.createWebChannel=ao.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,Lw=function(){return new ao},Vw=function(){return Ur()},jw=_n,zp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ht.NO_ERROR=0,ht.TIMEOUT=8,ht.HTTP_ERROR=6,Uh=ht,St.COMPLETE="complete",Pw=St,Ks.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Eu=Ks,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,Mw=at}).apply(typeof Ah<"u"?Ah:typeof self<"u"?self:typeof window<"u"?window:{});const WT="@firebase/firestore",XT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new xg("@firebase/firestore");function jo(){return Ls.logLevel}function fe(n,...e){if(Ls.logLevel<=Le.DEBUG){const t=e.map(zg);Ls.debug(`Firestore (${ol}): ${n}`,...t)}}function zi(n,...e){if(Ls.logLevel<=Le.ERROR){const t=e.map(zg);Ls.error(`Firestore (${ol}): ${n}`,...t)}}function Ko(n,...e){if(Ls.logLevel<=Le.WARN){const t=e.map(zg);Ls.warn(`Firestore (${ol}): ${n}`,...t)}}function zg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,Uw(n,a,t)}function Uw(n,e,t){let a=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw zi(a),new Error(a)}function Ke(n,e,t,a){let o="Unexpected state";typeof t=="string"?o=t:a=t,n||Uw(e,o,a)}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends ai{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(mn.UNAUTHENTICATED)))}shutdown(){}}class hN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class fN{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let a=this.i;const o=g=>this.i!==a?(a=this.i,t(g)):Promise.resolve();let u=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ji,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ji)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((a=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ke(typeof a.accessToken=="string",31837,{l:a}),new Bw(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class dN{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mN{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new dN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ZT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const a=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ZT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ZT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<n;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=gN(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<t&&(a+=e.charAt(o[u]%62))}return a}}function Ue(n,e){return n<e?-1:n>e?1:0}function qp(n,e){const t=Math.min(n.length,e.length);for(let a=0;a<t;a++){const o=n.charAt(a),u=e.charAt(a);if(o!==u)return gp(o)===gp(u)?Ue(o,u):gp(o)?1:-1}return Ue(n.length,e.length)}const yN=55296,vN=57343;function gp(n){const e=n.charCodeAt(0);return e>=yN&&e<=vN}function Qo(n,e,t){return n.length===e.length&&n.every(((a,o)=>t(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="__name__";class Qr{constructor(e,t,a){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&Se(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return Qr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach((a=>{t.push(a)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let o=0;o<a;o++){const u=Qr.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ue(e.length,t.length)}static compareSegments(e,t){const a=Qr.isNumericId(e),o=Qr.isNumericId(t);return a&&!o?-1:!a&&o?1:a&&o?Qr.extractNumericId(e).compare(Qr.extractNumericId(t)):qp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ia.fromString(e.substring(4,e.length-2))}}class lt extends Qr{construct(e,t,a){return new lt(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new ge(re.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter((o=>o.length>0)))}return new lt(t)}static emptyPath(){return new lt([])}}const _N=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Qr{construct(e,t,a){return new rn(e,t,a)}static isValidIdentifier(e){return _N.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===JT}static keyField(){return new rn([JT])}static fromServerFormat(e){const t=[];let a="",o=0;const u=()=>{if(a.length===0)throw new ge(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let c=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ge(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ge(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else p==="`"?(c=!c,o++):p!=="."||c?(a+=p,o++):(u(),o++)}if(u(),c)throw new ge(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(t)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(lt.fromString(e))}static fromName(e){return new Ee(lt.fromString(e).popFirst(5))}static empty(){return new Ee(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(n,e,t){if(!t)throw new ge(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function EN(n,e,t,a){if(e===!0&&a===!0)throw new ge(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function eb(n){if(!Ee.isDocumentKey(n))throw new ge(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tb(n){if(Ee.isDocumentKey(n))throw new ge(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Fg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se(12329,{type:typeof n})}function On(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Fg(n);throw new ge(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Ju(n,e){if(!qw(n))throw new ge(re.INVALID_ARGUMENT,"JSON must be an object");let t;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in n)){t=`JSON missing required field: '${a}'`;break}const c=n[a];if(o&&typeof c!==o){t=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){t=`Expected '${a}' field to equal '${u.value}'`;break}}if(t)throw new ge(re.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=-62135596800,rb=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*rb);return new ut(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<nb)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rb}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ju(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:jt("string",ut._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new ut(0,0))}static max(){return new Ce(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=-1;function TN(n,e){const t=n.toTimestamp().seconds,a=n.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(a===1e9?new ut(t+1,0):new ut(t,a));return new Na(o,Ee.empty(),e)}function bN(n){return new Na(n.readTime,n.key,Pu)}class Na{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new Na(Ce.min(),Ee.empty(),Pu)}static max(){return new Na(Ce.max(),Ee.empty(),Pu)}}function wN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:Ue(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==SN)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(a,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.reject(t)}static resolve(e){return new ne(((t,a)=>{t(e)}))}static reject(e){return new ne(((t,a)=>{a(e)}))}static waitFor(e){return new ne(((t,a)=>{let o=0,u=0,c=!1;e.forEach((p=>{++o,p.next((()=>{++u,c&&u===o&&t()}),(g=>a(g)))})),c=!0,u===o&&t()}))}static or(e){let t=ne.resolve(!1);for(const a of e)t=t.next((o=>o?ne.resolve(o):a()));return t}static forEach(e,t){const a=[];return e.forEach(((o,u)=>{a.push(t.call(this,o,u))})),this.waitFor(a)}static mapArray(e,t){return new ne(((a,o)=>{const u=e.length,c=new Array(u);let p=0;for(let g=0;g<u;g++){const m=g;t(e[m]).next((_=>{c[m]=_,++p,p===u&&a(c)}),(_=>o(_)))}}))}static doWhile(e,t){return new ne(((a,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):a()};u()}))}}function RN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ul(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>t.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}If.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=-1;function Df(n){return n==null}function nf(n){return n===0&&1/n==-1/0}function CN(n){return typeof n=="number"&&Number.isInteger(n)&&!nf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="";function xN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ib(e)),e=IN(n.get(t),e);return ib(e)}function IN(n,e){let t=e;const a=n.length;for(let o=0;o<a;o++){const u=n.charAt(o);switch(u){case"\0":t+="";break;case Fw:t+="";break;default:t+=u}}return t}function ib(n){return n+Fw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ba(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Hw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return t+a.left.size;o<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,a)=>(e(t,a),!1)))}toString(){const e=[];return this.inorderTraversal(((t,a)=>(e.push(`${t}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rh(this.root,e,this.comparator,!0)}}class Rh{constructor(e,t,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?a(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,a,o,u){this.key=e,this.value=t,this.color=a??nn.RED,this.left=o??nn.EMPTY,this.right=u??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,o,u){return new nn(e??this.key,t??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,a),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,a,o,u){return this}insert(e,t,a){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,a)=>(e(t),!1)))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sb(this.data.getIterator())}getIteratorFrom(e){return new sb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((a=>{t=t.add(a)})),t}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Gt(this.comparator);return t.data=e,t}}class sb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Yn([])}unionWith(e){let t=new Gt(rn.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new Yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,((t,a)=>t.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Gw("Invalid base64 string: "+u):u}})(e);return new sn(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new sn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const DN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(n){if(Ke(!!n,39018),typeof n=="string"){let e=0;const t=DN.exec(n);if(Ke(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(n);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:xt(n.seconds),nanos:xt(n.nanos)}}function xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ka(n){return typeof n=="string"?sn.fromBase64String(n):sn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="server_timestamp",$w="__type__",Kw="__previous_value__",Qw="__local_write_time__";function Gg(n){return(n?.mapValue?.fields||{})[$w]?.stringValue===Yw}function Nf(n){const e=n.mapValue.fields[Kw];return Gg(e)?Nf(e):e}function ju(n){const e=Oa(n.mapValue.fields[Qw].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,t,a,o,u,c,p,g,m,_){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=m,this.isUsingEmulator=_}}const rf="(default)";class Vu{constructor(e,t){this.projectId=e,this.database=t||rf}static empty(){return new Vu("","")}get isDefaultDatabase(){return this.database===rf}isEqual(e){return e instanceof Vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="__type__",ON="__max__",Ch={mapValue:{}},Xw="__vector__",af="value";function Ma(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Gg(n)?4:MN(n)?9007199254740991:kN(n)?10:11:Se(28295,{value:n})}function ni(n,e){if(n===e)return!0;const t=Ma(n);if(t!==Ma(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ju(n).isEqual(ju(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Oa(o.timestampValue),p=Oa(u.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,u){return ka(o.bytesValue).isEqual(ka(u.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,u){return xt(o.geoPointValue.latitude)===xt(u.geoPointValue.latitude)&&xt(o.geoPointValue.longitude)===xt(u.geoPointValue.longitude)})(n,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return xt(o.integerValue)===xt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=xt(o.doubleValue),p=xt(u.doubleValue);return c===p?nf(c)===nf(p):isNaN(c)&&isNaN(p)}return!1})(n,e);case 9:return Qo(n.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},p=u.mapValue.fields||{};if(ab(c)!==ab(p))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(p[g]===void 0||!ni(c[g],p[g])))return!1;return!0})(n,e);default:return Se(52216,{left:n})}}function Lu(n,e){return(n.values||[]).find((t=>ni(t,e)))!==void 0}function Wo(n,e){if(n===e)return 0;const t=Ma(n),a=Ma(e);if(t!==a)return Ue(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(n.booleanValue,e.booleanValue);case 2:return(function(u,c){const p=xt(u.integerValue||u.doubleValue),g=xt(c.integerValue||c.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(n,e);case 3:return ob(n.timestampValue,e.timestampValue);case 4:return ob(ju(n),ju(e));case 5:return qp(n.stringValue,e.stringValue);case 6:return(function(u,c){const p=ka(u),g=ka(c);return p.compareTo(g)})(n.bytesValue,e.bytesValue);case 7:return(function(u,c){const p=u.split("/"),g=c.split("/");for(let m=0;m<p.length&&m<g.length;m++){const _=Ue(p[m],g[m]);if(_!==0)return _}return Ue(p.length,g.length)})(n.referenceValue,e.referenceValue);case 8:return(function(u,c){const p=Ue(xt(u.latitude),xt(c.latitude));return p!==0?p:Ue(xt(u.longitude),xt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return lb(n.arrayValue,e.arrayValue);case 10:return(function(u,c){const p=u.fields||{},g=c.fields||{},m=p[af]?.arrayValue,_=g[af]?.arrayValue,b=Ue(m?.values?.length||0,_?.values?.length||0);return b!==0?b:lb(m,_)})(n.mapValue,e.mapValue);case 11:return(function(u,c){if(u===Ch.mapValue&&c===Ch.mapValue)return 0;if(u===Ch.mapValue)return 1;if(c===Ch.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),m=c.fields||{},_=Object.keys(m);g.sort(),_.sort();for(let b=0;b<g.length&&b<_.length;++b){const w=qp(g[b],_[b]);if(w!==0)return w;const N=Wo(p[g[b]],m[_[b]]);if(N!==0)return N}return Ue(g.length,_.length)})(n.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function ob(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ue(n,e);const t=Oa(n),a=Oa(e),o=Ue(t.seconds,a.seconds);return o!==0?o:Ue(t.nanos,a.nanos)}function lb(n,e){const t=n.values||[],a=e.values||[];for(let o=0;o<t.length&&o<a.length;++o){const u=Wo(t[o],a[o]);if(u)return u}return Ue(t.length,a.length)}function Xo(n){return Fp(n)}function Fp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const a=Oa(t);return`time(${a.seconds},${a.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ka(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ee.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let a="[",o=!0;for(const u of t.values||[])o?o=!1:a+=",",a+=Fp(u);return a+"]"})(n.arrayValue):"mapValue"in n?(function(t){const a=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const c of a)u?u=!1:o+=",",o+=`${c}:${Fp(t.fields[c])}`;return o+"}"})(n.mapValue):Se(61005,{value:n})}function Bh(n){switch(Ma(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nf(n);return e?16+Bh(e):16;case 5:return 2*n.stringValue.length;case 6:return ka(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+Bh(u)),0)})(n.arrayValue);case 10:case 11:return(function(a){let o=0;return Ba(a.fields,((u,c)=>{o+=u.length+Bh(c)})),o})(n.mapValue);default:throw Se(13486,{value:n})}}function Hp(n){return!!n&&"integerValue"in n}function Yg(n){return!!n&&"arrayValue"in n}function ub(n){return!!n&&"nullValue"in n}function cb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zh(n){return!!n&&"mapValue"in n}function kN(n){return(n?.mapValue?.fields||{})[Ww]?.stringValue===Xw}function Cu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ba(n.mapValue.fields,((t,a)=>e.mapValue.fields[t]=Cu(a))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cu(n.arrayValue.values[t]);return e}return{...n}}function MN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ON}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!zh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cu(t)}setAll(e){let t=rn.emptyPath(),a={},o=[];e.forEach(((c,p)=>{if(!t.isImmediateParentOf(p)){const g=this.getFieldsMap(t);this.applyChanges(g,a,o),a={},o=[],t=p.popLast()}c?a[p.lastSegment()]=Cu(c):o.push(p.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,a,o)}delete(e){const t=this.field(e.popLast());zh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=t.mapValue.fields[e.get(a)];zh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,a){Ba(t,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new Nn(Cu(this.value))}}function Zw(n){const e=[];return Ba(n.fields,((t,a)=>{const o=new rn([t]);if(zh(a)){const u=Zw(a.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,t,a,o,u,c,p){this.key=e,this.documentType=t,this.version=a,this.readTime=o,this.createTime=u,this.data=c,this.documentState=p}static newInvalidDocument(e){return new pn(e,0,Ce.min(),Ce.min(),Ce.min(),Nn.empty(),0)}static newFoundDocument(e,t,a,o){return new pn(e,1,t,Ce.min(),a,o,0)}static newNoDocument(e,t){return new pn(e,2,t,Ce.min(),Ce.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new pn(e,3,t,Ce.min(),Ce.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t){this.position=e,this.inclusive=t}}function hb(n,e,t){let a=0;for(let o=0;o<n.position.length;o++){const u=e[o],c=n.position[o];if(u.field.isKeyField()?a=Ee.comparator(Ee.fromName(c.referenceValue),t.key):a=Wo(c,t.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function fb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ni(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t="asc"){this.field=e,this.dir=t}}function PN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{}class Ht extends Jw{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new VN(e,t,a):t==="array-contains"?new BN(e,a):t==="in"?new zN(e,a):t==="not-in"?new qN(e,a):t==="array-contains-any"?new FN(e,a):new Ht(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new LN(e,a):new UN(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Wo(t,this.value)):t!==null&&Ma(this.value)===Ma(t)&&this.matchesComparison(Wo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends Jw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ri(e,t)}matches(e){return eS(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eS(n){return n.op==="and"}function tS(n){return jN(n)&&eS(n)}function jN(n){for(const e of n.filters)if(e instanceof ri)return!1;return!0}function Gp(n){if(n instanceof Ht)return n.field.canonicalString()+n.op.toString()+Xo(n.value);if(tS(n))return n.filters.map((e=>Gp(e))).join(",");{const e=n.filters.map((t=>Gp(t))).join(",");return`${n.op}(${e})`}}function nS(n,e){return n instanceof Ht?(function(a,o){return o instanceof Ht&&a.op===o.op&&a.field.isEqual(o.field)&&ni(a.value,o.value)})(n,e):n instanceof ri?(function(a,o){return o instanceof ri&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,c,p)=>u&&nS(c,o.filters[p])),!0):!1})(n,e):void Se(19439)}function rS(n){return n instanceof Ht?(function(t){return`${t.field.canonicalString()} ${t.op} ${Xo(t.value)}`})(n):n instanceof ri?(function(t){return t.op.toString()+" {"+t.getFilters().map(rS).join(" ,")+"}"})(n):"Filter"}class VN extends Ht{constructor(e,t,a){super(e,t,a),this.key=Ee.fromName(a.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class LN extends Ht{constructor(e,t){super(e,"in",t),this.keys=iS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class UN extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=iS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function iS(n,e){return(e.arrayValue?.values||[]).map((t=>Ee.fromName(t.referenceValue)))}class BN extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yg(t)&&Lu(t.arrayValue,this.value)}}class zN extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Lu(this.value.arrayValue,t)}}class qN extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Lu(this.value.arrayValue,t)}}class FN extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((a=>Lu(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,t=null,a=[],o=[],u=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=c,this.endAt=p,this.Te=null}}function db(n,e=null,t=[],a=[],o=null,u=null,c=null){return new HN(n,e,t,a,o,u,c)}function $g(n){const e=Ie(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((a=>Gp(a))).join(","),t+="|ob:",t+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Df(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((a=>Xo(a))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((a=>Xo(a))).join(",")),e.Te=t}return e.Te}function Kg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!PN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!nS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!fb(n.startAt,e.startAt)&&fb(n.endAt,e.endAt)}function Yp(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,t=null,a=[],o=[],u=null,c="F",p=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=c,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GN(n,e,t,a,o,u,c,p){return new Of(n,e,t,a,o,u,c,p)}function kf(n){return new Of(n)}function mb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function YN(n){return n.collectionGroup!==null}function xu(n){const e=Ie(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let p=new Gt(rn.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((m=>{m.isInequality()&&(p=p.add(m.field))}))})),p})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new of(u,a))})),t.has(rn.keyField().canonicalString())||e.Ie.push(new of(rn.keyField(),a))}return e.Ie}function Xr(n){const e=Ie(n);return e.Ee||(e.Ee=$N(e,xu(n))),e.Ee}function $N(n,e){if(n.limitType==="F")return db(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new of(o.field,u)}));const t=n.endAt?new sf(n.endAt.position,n.endAt.inclusive):null,a=n.startAt?new sf(n.startAt.position,n.startAt.inclusive):null;return db(n.path,n.collectionGroup,e,n.filters,n.limit,t,a)}}function $p(n,e,t){return new Of(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Mf(n,e){return Kg(Xr(n),Xr(e))&&n.limitType===e.limitType}function aS(n){return`${$g(Xr(n))}|lt:${n.limitType}`}function Vo(n){return`Query(target=${(function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map((o=>rS(o))).join(", ")}]`),Df(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map((o=>Xo(o))).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map((o=>Xo(o))).join(",")),`Target(${a})`})(Xr(n))}; limitType=${n.limitType})`}function Pf(n,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Ee.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(n,e)&&(function(a,o){for(const u of xu(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(n,e)&&(function(a,o){return!(a.startAt&&!(function(c,p,g){const m=hb(c,p,g);return c.inclusive?m<=0:m<0})(a.startAt,xu(a),o)||a.endAt&&!(function(c,p,g){const m=hb(c,p,g);return c.inclusive?m>=0:m>0})(a.endAt,xu(a),o))})(n,e)}function KN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function sS(n){return(e,t)=>{let a=!1;for(const o of xu(n)){const u=QN(o,e,t);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function QN(n,e,t){const a=n.field.isKeyField()?Ee.comparator(e.key,t.key):(function(u,c,p){const g=c.data.field(u),m=p.data.field(u);return g!==null&&m!==null?Wo(g,m):Se(42886)})(n.field,e,t);switch(n.dir){case"asc":return a;case"desc":return-1*a;default:return Se(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[t]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ba(this.inner,((t,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return Hw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new _t(Ee.comparator);function qi(){return WN}const oS=new _t(Ee.comparator);function Tu(...n){let e=oS;for(const t of n)e=e.insert(t.key,t);return e}function lS(n){let e=oS;return n.forEach(((t,a)=>e=e.insert(t,a.overlayedDocument))),e}function xs(){return Iu()}function uS(){return Iu()}function Iu(){return new Fs((n=>n.toString()),((n,e)=>n.isEqual(e)))}const XN=new _t(Ee.comparator),ZN=new Gt(Ee.comparator);function Be(...n){let e=ZN;for(const t of n)e=e.add(t);return e}const JN=new Gt(Ue);function eO(){return JN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nf(e)?"-0":e}}function cS(n){return{integerValue:""+n}}function tO(n,e){return CN(e)?cS(e):Qg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(){this._=void 0}}function nO(n,e,t){return n instanceof lf?(function(o,u){const c={fields:{[$w]:{stringValue:Yw},[Qw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Gg(u)&&(u=Nf(u)),u&&(c.fields[Kw]=u),{mapValue:c}})(t,e):n instanceof Uu?fS(n,e):n instanceof Bu?dS(n,e):(function(o,u){const c=hS(o,u),p=pb(c)+pb(o.Ae);return Hp(c)&&Hp(o.Ae)?cS(p):Qg(o.serializer,p)})(n,e)}function rO(n,e,t){return n instanceof Uu?fS(n,e):n instanceof Bu?dS(n,e):t}function hS(n,e){return n instanceof uf?(function(a){return Hp(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class lf extends jf{}class Uu extends jf{constructor(e){super(),this.elements=e}}function fS(n,e){const t=mS(e);for(const a of n.elements)t.some((o=>ni(o,a)))||t.push(a);return{arrayValue:{values:t}}}class Bu extends jf{constructor(e){super(),this.elements=e}}function dS(n,e){let t=mS(e);for(const a of n.elements)t=t.filter((o=>!ni(o,a)));return{arrayValue:{values:t}}}class uf extends jf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function pb(n){return xt(n.integerValue||n.doubleValue)}function mS(n){return Yg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function iO(n,e){return n.field.isEqual(e.field)&&(function(a,o){return a instanceof Uu&&o instanceof Uu||a instanceof Bu&&o instanceof Bu?Qo(a.elements,o.elements,ni):a instanceof uf&&o instanceof uf?ni(a.Ae,o.Ae):a instanceof lf&&o instanceof lf})(n.transform,e.transform)}class aO{constructor(e,t){this.version=e,this.transformResults=t}}class hr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Vf{}function pS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Wg(n.key,hr.none()):new ec(n.key,n.data,hr.none());{const t=n.data,a=Nn.empty();let o=new Gt(rn.comparator);for(let u of e.fields)if(!o.has(u)){let c=t.field(u);c===null&&u.length>1&&(u=u.popLast(),c=t.field(u)),c===null?a.delete(u):a.set(u,c),o=o.add(u)}return new za(n.key,a,new Yn(o.toArray()),hr.none())}}function sO(n,e,t){n instanceof ec?(function(o,u,c){const p=o.value.clone(),g=yb(o.fieldTransforms,u,c.transformResults);p.setAll(g),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):n instanceof za?(function(o,u,c){if(!qh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const p=yb(o.fieldTransforms,u,c.transformResults),g=u.data;g.setAll(gS(o)),g.setAll(p),u.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(n,e,t):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Du(n,e,t,a){return n instanceof ec?(function(u,c,p,g){if(!qh(u.precondition,c))return p;const m=u.value.clone(),_=vb(u.fieldTransforms,g,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,e,t,a):n instanceof za?(function(u,c,p,g){if(!qh(u.precondition,c))return p;const m=vb(u.fieldTransforms,g,c),_=c.data;return _.setAll(gS(u)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(n,e,t,a):(function(u,c,p){return qh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p})(n,e,t)}function oO(n,e){let t=null;for(const a of n.fieldTransforms){const o=e.data.field(a.field),u=hS(a.transform,o||null);u!=null&&(t===null&&(t=Nn.empty()),t.set(a.field,u))}return t||null}function gb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Qo(a,o,((u,c)=>iO(u,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ec extends Vf{constructor(e,t,a,o=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class za extends Vf{constructor(e,t,a,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function gS(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const a=n.data.field(t);e.set(t,a)}})),e}function yb(n,e,t){const a=new Map;Ke(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const u=n[o],c=u.transform,p=e.data.field(u.field);a.set(u.field,rO(c,p,t[o]))}return a}function vb(n,e,t){const a=new Map;for(const o of n){const u=o.transform,c=t.data.field(o.field);a.set(o.field,nO(u,c,e))}return a}class Wg extends Vf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lO extends Vf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,t,a,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&sO(u,e,a[o])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=Du(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=Du(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=uS();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let p=this.applyToLocalView(c,u.mutatedFields);p=t.has(o.key)?null:p;const g=pS(c,p);g!==null&&a.set(o.key,g),c.isValidDocument()||c.convertToNoDocument(Ce.min())})),a}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,((t,a)=>gb(t,a)))&&Qo(this.baseMutations,e.baseMutations,((t,a)=>gb(t,a)))}}class Xg{constructor(e,t,a,o){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=o}static from(e,t,a){Ke(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return XN})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,a[c].version);return new Xg(e,t,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Fe;function fO(n){switch(n){case re.OK:return Se(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Se(15467,{code:n})}}function yS(n){if(n===void 0)return zi("GRPC error has no .code"),re.UNKNOWN;switch(n){case Pt.OK:return re.OK;case Pt.CANCELLED:return re.CANCELLED;case Pt.UNKNOWN:return re.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return re.INTERNAL;case Pt.UNAVAILABLE:return re.UNAVAILABLE;case Pt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Pt.NOT_FOUND:return re.NOT_FOUND;case Pt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Pt.ABORTED:return re.ABORTED;case Pt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Pt.DATA_LOSS:return re.DATA_LOSS;default:return Se(39323,{code:n})}}(Fe=Pt||(Pt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=new Ia([4294967295,4294967295],0);function _b(n){const e=dO().encode(n),t=new kw;return t.update(e),new Uint8Array(t.digest())}function Eb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ia([t,a],0),new Ia([o,u],0)]}class Zg{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new bu(`Invalid padding: ${t}`);if(a<0)throw new bu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new bu(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new bu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ia.fromNumber(this.ge)}ye(e,t,a){let o=e.add(t.multiply(Ia.fromNumber(a)));return o.compare(mO)===1&&(o=new Ia([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=_b(e),[a,o]=Eb(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(a,o,u);if(!this.we(c))return!1}return!0}static create(e,t,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new Zg(u,o,t);return a.forEach((p=>c.insert(p))),c}insert(e){if(this.ge===0)return;const t=_b(e),[a,o]=Eb(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(a,o,u);this.Se(c)}}Se(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t,a,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const o=new Map;return o.set(e,tc.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Lf(Ce.min(),o,new _t(Ue),qi(),Be())}}class tc{constructor(e,t,a,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new tc(a,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t,a,o){this.be=e,this.removedTargetIds=t,this.key=a,this.De=o}}class vS{constructor(e,t){this.targetId=e,this.Ce=t}}class _S{constructor(e,t,a=sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=o}}class Tb{constructor(){this.ve=0,this.Fe=bb(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),t=Be(),a=Be();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:a=a.add(o);break;default:Se(38017,{changeType:u})}})),new tc(this.Me,this.xe,e,t,a)}qe(){this.Oe=!1,this.Fe=bb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pO{constructor(e){this.Ge=e,this.ze=new Map,this.je=qi(),this.Je=xh(),this.He=xh(),this.Ye=new _t(Ue)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const a=this.nt(t);switch(e.state){case 0:this.rt(t)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),a.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((a,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,a=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Yp(u))if(a===0){const c=new Ee(u.path);this.et(t,c,pn.newNoDocument(c,Ce.min()))}else Ke(a===1,20013,{expectedCount:a});else{const c=this._t(t);if(c!==a){const p=this.ut(e),g=p?this.ct(p,e,c):1;if(g!==0){this.it(t);const m=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=t;let c,p;try{c=ka(a).toUint8Array()}catch(g){if(g instanceof Gw)return Ko("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Zg(c,o,u)}catch(g){return Ko(g instanceof bu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,t,a){return t.Ce.count===a-this.Pt(e,t.targetId)?0:2}Pt(e,t){const a=this.Ge.getRemoteKeysForTarget(t);let o=0;return a.forEach((u=>{const c=this.Ge.ht(),p=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,c)=>{const p=this.ot(c);if(p){if(u.current&&Yp(p.target)){const g=new Ee(p.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,pn.newNoDocument(g,e))}u.Be&&(t.set(c,u.ke()),u.qe())}}));let a=Be();this.He.forEach(((u,c)=>{let p=!0;c.forEachWhile((g=>{const m=this.ot(g);return!m||m.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new Lf(e,t,this.Ye,this.je,a);return this.je=qi(),this.Je=xh(),this.He=xh(),this.Ye=new _t(Ue),o}Xe(e,t){if(!this.rt(e))return;const a=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,a),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),a&&(this.je=this.je.insert(t,a))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Tb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Gt(Ue),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Gt(Ue),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Tb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function xh(){return new _t(Ee.comparator)}function bb(){return new _t(Ee.comparator)}const gO={asc:"ASCENDING",desc:"DESCENDING"},yO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vO={and:"AND",or:"OR"};class _O{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Kp(n,e){return n.useProto3Json||Df(e)?e:{value:e}}function cf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ES(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function EO(n,e){return cf(n,e.toTimestamp())}function Zr(n){return Ke(!!n,49232),Ce.fromTimestamp((function(t){const a=Oa(t);return new ut(a.seconds,a.nanos)})(n))}function Jg(n,e){return Qp(n,e).canonicalString()}function Qp(n,e){const t=(function(o){return new lt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function TS(n){const e=lt.fromString(n);return Ke(RS(e),10190,{key:e.toString()}),e}function Wp(n,e){return Jg(n.databaseId,e.path)}function yp(n,e){const t=TS(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(wS(t))}function bS(n,e){return Jg(n.databaseId,e)}function TO(n){const e=TS(n);return e.length===4?lt.emptyPath():wS(e)}function Xp(n){return new lt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wS(n){return Ke(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function wb(n,e,t){return{name:Wp(n,e),fields:t.value.mapValue.fields}}function bO(n,e){let t;if("targetChange"in e){e.targetChange;const a=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Se(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(m,_){return m.useProto3Json?(Ke(_===void 0||typeof _=="string",58123),sn.fromBase64String(_||"")):(Ke(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),sn.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&(function(m){const _=m.code===void 0?re.UNKNOWN:yS(m.code);return new ge(_,m.message||"")})(c);t=new _S(a,o,u,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=yp(n,a.document.name),u=Zr(a.document.updateTime),c=a.document.createTime?Zr(a.document.createTime):Ce.min(),p=new Nn({mapValue:{fields:a.document.fields}}),g=pn.newFoundDocument(o,u,c,p),m=a.targetIds||[],_=a.removedTargetIds||[];t=new Fh(m,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=yp(n,a.document),u=a.readTime?Zr(a.readTime):Ce.min(),c=pn.newNoDocument(o,u),p=a.removedTargetIds||[];t=new Fh([],p,c.key,c)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=yp(n,a.document),u=a.removedTargetIds||[];t=new Fh([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,c=new hO(o,u),p=a.targetId;t=new vS(p,c)}}return t}function wO(n,e){let t;if(e instanceof ec)t={update:wb(n,e.key,e.value)};else if(e instanceof Wg)t={delete:Wp(n,e.key)};else if(e instanceof za)t={update:wb(n,e.key,e.data),updateMask:OO(e.fieldMask)};else{if(!(e instanceof lO))return Se(16599,{Vt:e.type});t={verify:Wp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((a=>(function(u,c){const p=c.transform;if(p instanceof lf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Uu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Bu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof uf)return{fieldPath:c.field.canonicalString(),increment:p.Ae};throw Se(20930,{transform:c.transform})})(0,a)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:EO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)})(n,e.precondition)),t}function SO(n,e){return n&&n.length>0?(Ke(e!==void 0,14353),n.map((t=>(function(o,u){let c=o.updateTime?Zr(o.updateTime):Zr(u);return c.isEqual(Ce.min())&&(c=Zr(u)),new aO(c,o.transformResults||[])})(t,e)))):[]}function AO(n,e){return{documents:[bS(n,e.path)]}}function RO(n,e){const t={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=bS(n,o);const u=(function(m){if(m.length!==0)return AS(ri.create(m,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const c=(function(m){if(m.length!==0)return m.map((_=>(function(w){return{field:Lo(w.field),direction:IO(w.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const p=Kp(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:o}}function CO(n){let e=TO(n.parent);const t=n.structuredQuery,a=t.from?t.from.length:0;let o=null;if(a>0){Ke(a===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=(function(b){const w=SS(b);return w instanceof ri&&tS(w)?w.getFilters():[w]})(t.where));let c=[];t.orderBy&&(c=(function(b){return b.map((w=>(function(j){return new of(Uo(j.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(w)))})(t.orderBy));let p=null;t.limit&&(p=(function(b){let w;return w=typeof b=="object"?b.value:b,Df(w)?null:w})(t.limit));let g=null;t.startAt&&(g=(function(b){const w=!!b.before,N=b.values||[];return new sf(N,w)})(t.startAt));let m=null;return t.endAt&&(m=(function(b){const w=!b.before,N=b.values||[];return new sf(N,w)})(t.endAt)),GN(e,o,c,u,p,"F",g,m)}function xO(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function SS(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=Uo(t.unaryFilter.field);return Ht.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Uo(t.unaryFilter.field);return Ht.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Uo(t.unaryFilter.field);return Ht.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Uo(t.unaryFilter.field);return Ht.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ht.create(Uo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ri.create(t.compositeFilter.filters.map((a=>SS(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(t.compositeFilter.op))})(n):Se(30097,{filter:n})}function IO(n){return gO[n]}function DO(n){return yO[n]}function NO(n){return vO[n]}function Lo(n){return{fieldPath:n.canonicalString()}}function Uo(n){return rn.fromServerFormat(n.fieldPath)}function AS(n){return n instanceof Ht?(function(t){if(t.op==="=="){if(cb(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NAN"}};if(ub(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(cb(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NAN"}};if(ub(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(t.field),op:DO(t.op),value:t.value}}})(n):n instanceof ri?(function(t){const a=t.getFilters().map((o=>AS(o)));return a.length===1?a[0]:{compositeFilter:{op:NO(t.op),filters:a}}})(n):Se(54877,{filter:n})}function OO(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function RS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,t,a,o,u=Ce.min(),c=Ce.min(),p=sn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.yt=e}}function MO(n){const e=CO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$p(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.Cn=new jO}addToCollectionParentIndex(e,t){return this.Cn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Na.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Na.min())}updateCollectionGroup(e,t,a){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class jO{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t]||new Gt(lt.comparator),u=!o.has(a);return this.index[t]=o.add(a),u}has(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Gt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CS=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(CS,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Zo(0)}static cr(){return new Zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="LruGarbageCollector",VO=1048576;function Rb([n,e],[t,a]){const o=Ue(n,t);return o===0?Ue(e,a):o}class LO{constructor(e){this.Ir=e,this.buffer=new Gt(Rb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();Rb(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class UO{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(Ab,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ul(t)?fe(Ab,"Ignoring IndexedDB error during garbage collection: ",t):await ll(t)}await this.Vr(3e5)}))}}class BO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((a=>Math.floor(t/100*a)))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(If.ce);const a=new LO(t);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,t,a){return this.mr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Sb)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sb):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let a,o,u,c,p,g,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,c=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(a=b,p=Date.now(),this.removeTargets(e,a,t)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((b=>(m=Date.now(),jo()<=Le.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(p-c)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${b} documents in `+(m-g)+`ms
Total Duration: ${m-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function zO(n,e){return new BO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.changes=new Fs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?ne.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,t,a,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(a!==null&&Du(a.mutation,o,Yn.empty(),ut.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.getLocalViewOfDocuments(e,a,Be()).next((()=>a))))}getLocalViewOfDocuments(e,t,a=Be()){const o=xs();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,a).next((u=>{let c=Tu();return u.forEach(((p,g)=>{c=c.insert(p,g.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const a=xs();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,Be())))}populateOverlays(e,t,a){const o=[];return a.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,p)=>{t.set(c,p)}))}))}computeViews(e,t,a,o){let u=qi();const c=Iu(),p=(function(){return Iu()})();return t.forEach(((g,m)=>{const _=a.get(m.key);o.has(m.key)&&(_===void 0||_.mutation instanceof za)?u=u.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),Du(_.mutation,m,_.mutation.getFieldMask(),ut.now())):c.set(m.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((m,_)=>c.set(m,_))),t.forEach(((m,_)=>p.set(m,new FO(_,c.get(m)??null)))),p)))}recalculateAndSaveOverlays(e,t){const a=Iu();let o=new _t(((c,p)=>c-p)),u=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const p of c)p.keys().forEach((g=>{const m=t.get(g);if(m===null)return;let _=a.get(g)||Yn.empty();_=p.applyToLocalView(m,_),a.set(g,_);const b=(o.get(p.batchId)||Be()).add(g);o=o.insert(p.batchId,b)}))})).next((()=>{const c=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),m=g.key,_=g.value,b=uS();_.forEach((w=>{if(!u.has(w)){const N=pS(t.get(w),a.get(w));N!==null&&b.set(w,N),u=u.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,b))}return ne.waitFor(c)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,t,a,o){return(function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):YN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,o):this.getDocumentsMatchingCollectionQuery(e,t,a,o)}getNextDocuments(e,t,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,o-u.size):ne.resolve(xs());let p=Pu,g=u;return c.next((m=>ne.forEach(m,((_,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),u.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next((w=>{g=g.insert(_,w)}))))).next((()=>this.populateOverlays(e,m,u))).next((()=>this.computeViews(e,g,m,Be()))).next((_=>({batchId:p,changes:lS(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next((a=>{let o=Tu();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,a,o){const u=t.collectionGroup;let c=Tu();return this.indexManager.getCollectionParents(e,u).next((p=>ne.forEach(p,(g=>{const m=(function(b,w){return new Of(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,m,a,o).next((_=>{_.forEach(((b,w)=>{c=c.insert(b,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,u,o)))).next((c=>{u.forEach(((g,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,pn.newInvalidDocument(_)))}));let p=Tu();return c.forEach(((g,m)=>{const _=u.get(g);_!==void 0&&Du(_.mutation,m,Yn.empty(),ut.now()),Pf(t,m)&&(p=p.insert(g,m))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Zr(o.createTime)}})(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:MO(o.bundledQuery),readTime:Zr(o.readTime)}})(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.overlays=new _t(Ee.comparator),this.qr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const a=xs();return ne.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,t,a){return a.forEach(((o,u)=>{this.St(e,t,u)})),ne.resolve()}removeOverlaysForBatchId(e,t,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),ne.resolve()}getOverlaysForCollection(e,t,a){const o=xs(),u=t.length+1,c=new Ee(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const g=p.getNext().value,m=g.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===u&&g.largestBatchId>a&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,a,o){let u=new _t(((m,_)=>m-_));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>a){let _=u.get(m.largestBatchId);_===null&&(_=xs(),u=u.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const p=xs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((m,_)=>p.set(m,_))),!(p.size()>=o)););return ne.resolve(p)}St(e,t,a){const o=this.overlays.get(a.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(a.key,new cO(t,a));let u=this.qr.get(t);u===void 0&&(u=Be(),this.qr.set(t,u)),this.qr.set(t,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this.Qr=new Gt(Zt.$r),this.Ur=new Gt(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const a=new Zt(e,t);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,t){e.forEach((a=>this.addReference(a,t)))}removeReference(e,t){this.Gr(new Zt(e,t))}zr(e,t){e.forEach((a=>this.removeReference(a,t)))}jr(e){const t=new Ee(new lt([])),a=new Zt(t,e),o=new Zt(t,e+1),u=[];return this.Ur.forEachInRange([a,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ee(new lt([])),a=new Zt(t,e),o=new Zt(t,e+1);let u=Be();return this.Ur.forEachInRange([a,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const t=new Zt(e,0),a=this.Qr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class Zt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ee.comparator(e.key,t.key)||Ue(e.Yr,t.Yr)}static Kr(e,t){return Ue(e.Yr,t.Yr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(Zt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new uO(u,t,a,o);this.mutationQueue.push(c);for(const p of o)this.Zr=this.Zr.add(new Zt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,t){return ne.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,o=this.ei(a),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Hg:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new Zt(t,0),o=new Zt(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],(c=>{const p=this.Xr(c.Yr);u.push(p)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new Gt(Ue);return t.forEach((o=>{const u=new Zt(o,0),c=new Zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(p=>{a=a.add(p.Yr)}))})),ne.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,o=a.length+1;let u=a;Ee.isDocumentKey(u)||(u=u.child(""));const c=new Zt(new Ee(u),0);let p=new Gt(Ue);return this.Zr.forEachWhile((g=>{const m=g.key.path;return!!a.isPrefixOf(m)&&(m.length===o&&(p=p.add(g.Yr)),!0)}),c),ne.resolve(this.ti(p))}ti(e){const t=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ke(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ne.forEach(t.mutations,(o=>{const u=new Zt(o.key,t.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,t){const a=new Zt(t,0),o=this.Zr.firstAfterOrEqual(a);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.ri=e,this.docs=(function(){return new _t(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,o=this.docs.get(a),u=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return ne.resolve(a?a.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let a=qi();return t.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():pn.newInvalidDocument(o))})),ne.resolve(a)}getDocumentsMatchingQuery(e,t,a,o){let u=qi();const c=t.path,p=new Ee(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:m,value:{document:_}}=g.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||wN(bN(_),a)<=0||(o.has(_.key)||Pf(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,t,a,o){Se(9500)}ii(e,t){return ne.forEach(this.docs,(a=>t(a)))}newChangeBuffer(e){return new WO(this)}getSize(e){return ne.resolve(this.size)}}class WO extends qO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),ne.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.persistence=e,this.si=new Fs((t=>$g(t)),Kg),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new ey,this.targetCount=0,this.ai=Zo.ur()}forEachTarget(e,t){return this.si.forEach(((a,o)=>t(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.oi&&(this.oi=t),ne.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Zo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Pr(t),ne.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,a){let o=0;const u=[];return this.si.forEach(((c,p)=>{p.sequenceNumber<=t&&a.get(p.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const a=this.si.get(t)||null;return ne.resolve(a)}addMatchingKeys(e,t,a){return this._i.Wr(t,a),ne.resolve()}removeMatchingKeys(e,t,a){this._i.zr(t,a);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const a=this._i.Hr(t);return ne.resolve(a)}containsKey(e,t){return ne.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,t){this.ui={},this.overlays={},this.ci=new If(0),this.li=!1,this.li=!0,this.hi=new $O,this.referenceDelegate=e(this),this.Pi=new XO(this),this.indexManager=new PO,this.remoteDocumentCache=(function(o){return new QO(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new kO(t),this.Ii=new GO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new YO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.ui[e.toKey()];return a||(a=new KO(t,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,a){fe("MemoryPersistence","Starting transaction:",e);const o=new ZO(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return ne.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,t))))}}class ZO extends AN{constructor(e){super(),this.currentSequenceNumber=e}}class ty{constructor(e){this.persistence=e,this.Ri=new ey,this.Vi=null}static mi(e){return new ty(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,a){return this.Ri.addReference(a,t),this.fi.delete(a.toString()),ne.resolve()}removeReference(e,t,a){return this.Ri.removeReference(a,t),this.fi.add(a.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(a=>{const o=Ee.fromPath(a);return this.gi(e,o).next((u=>{u||t.removeEntry(o,Ce.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((a=>{a?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ne.or([()=>ne.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class hf{constructor(e,t){this.persistence=e,this.pi=new Fs((a=>xN(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=zO(this,t)}static mi(e,t){return new hf(e,t)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>t.next((o=>a+o))))}wr(e){let t=0;return this.pr(e,(a=>{t++})).next((()=>t))}pr(e,t){return ne.forEach(this.pi,((a,o)=>this.br(e,a,o).next((u=>u?ne.resolve():t(o)))))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((p=>{p||(a++,u.removeEntry(c,Ce.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.pi.set(a,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,a){return this.pi.set(a,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Bh(e.data.value)),t}br(e,t,a){return ne.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ne.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,t,a,o){this.targetId=e,this.fromCache=t,this.Es=a,this.ds=o}static As(e,t){let a=Be(),o=Be();for(const u of t.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ny(e,t.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Ox()?8:RN(yn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,a,o){const u={result:null};return this.ys(e,t).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,t,o,a).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new JO;return this.Ss(e,t,c).next((p=>{if(u.result=p,this.Vs)return this.bs(e,t,c,p.size)}))})).next((()=>u.result))}bs(e,t,a,o){return a.documentReadCount<this.fs?(jo()<=Le.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(jo()<=Le.DEBUG&&fe("QueryEngine","Query:",Vo(t),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(jo()<=Le.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xr(t))):ne.resolve())}ys(e,t){if(mb(t))return ne.resolve(null);let a=Xr(t);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=$p(t,null,"F"),a=Xr(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const c=Be(...u);return this.ps.getDocuments(e,c).next((p=>this.indexManager.getMinOffset(e,a).next((g=>{const m=this.Ds(t,p);return this.Cs(t,m,c,g.readTime)?this.ys(e,$p(t,null,"F")):this.vs(e,m,t,g)}))))})))))}ws(e,t,a,o){return mb(t)||o.isEqual(Ce.min())?ne.resolve(null):this.ps.getDocuments(e,a).next((u=>{const c=this.Ds(t,u);return this.Cs(t,c,a,o)?ne.resolve(null):(jo()<=Le.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Vo(t)),this.vs(e,c,t,TN(o,Pu)).next((p=>p)))}))}Ds(e,t){let a=new Gt(sS(e));return t.forEach(((o,u)=>{Pf(e,u)&&(a=a.add(u))})),a}Cs(e,t,a,o){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,a){return jo()<=Le.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Vo(t)),this.ps.getDocumentsMatchingQuery(e,t,Na.min(),a)}vs(e,t,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((u=>(t.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="LocalStore",tk=3e8;class nk{constructor(e,t,a,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new _t(Ue),this.xs=new Fs((u=>$g(u)),Kg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function rk(n,e,t,a){return new nk(n,e,t,a)}async function IS(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return t.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(a)))).next((u=>{const c=[],p=[];let g=Be();for(const m of o){c.push(m.batchId);for(const _ of m.mutations)g=g.add(_.key)}for(const m of u){p.push(m.batchId);for(const _ of m.mutations)g=g.add(_.key)}return t.localDocuments.getDocuments(a,g).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:p})))}))}))}function ik(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,m,_){const b=m.batch,w=b.keys();let N=ne.resolve();return w.forEach((j=>{N=N.next((()=>_.getEntry(g,j))).next((z=>{const U=m.docVersions.get(j);Ke(U!==null,48541),z.version.compareTo(U)<0&&(b.applyToRemoteDocument(z,m),z.isValidDocument()&&(z.setReadTime(m.commitVersion),_.addEntry(z)))}))})),N.next((()=>p.mutationQueue.removeMutationBatch(g,b)))})(t,a,e,u).next((()=>u.apply(a))).next((()=>t.mutationQueue.performConsistencyCheck(a))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let g=Be();for(let m=0;m<p.mutationResults.length;++m)p.mutationResults[m].transformResults.length>0&&(g=g.add(p.batch.mutations[m].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(a,o)))}))}function DS(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function ak(n,e){const t=Ie(n),a=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const p=[];e.targetChanges.forEach(((_,b)=>{const w=o.get(b);if(!w)return;p.push(t.Pi.removeMatchingKeys(u,_.removedDocuments,b).next((()=>t.Pi.addMatchingKeys(u,_.addedDocuments,b))));let N=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?N=N.withResumeToken(sn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):_.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(_.resumeToken,a)),o=o.insert(b,N),(function(z,U,$){return z.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=tk?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(w,N,_)&&p.push(t.Pi.updateTargetData(u,N))}));let g=qi(),m=Be();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))})),p.push(sk(u,c,e.documentUpdates).next((_=>{g=_.ks,m=_.qs}))),!a.isEqual(Ce.min())){const _=t.Pi.getLastRemoteSnapshotVersion(u).next((b=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));p.push(_)}return ne.waitFor(p).next((()=>c.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,g,m))).next((()=>g))})).then((u=>(t.Ms=o,u)))}function sk(n,e,t){let a=Be(),o=Be();return t.forEach((u=>a=a.add(u))),e.getEntries(n,a).next((u=>{let c=qi();return t.forEach(((p,g)=>{const m=u.get(p);g.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Ce.min())?(e.removeEntry(p,g.readTime),c=c.insert(p,g)):!m.isValidDocument()||g.version.compareTo(m.version)>0||g.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(g),c=c.insert(p,g)):fe(ry,"Ignoring outdated watch update for ",p,". Current version:",m.version," Watch version:",g.version)})),{ks:c,qs:o}}))}function ok(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Hg),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function lk(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return t.Pi.getTargetData(a,e).next((u=>u?(o=u,ne.resolve(o)):t.Pi.allocateTargetId(a).next((c=>(o=new Ra(e,c,"TargetPurposeListen",a.currentSequenceNumber),t.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=t.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(a.targetId,a),t.xs.set(e,a.targetId)),a}))}async function Zp(n,e,t){const a=Ie(n),o=a.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",u,(c=>a.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!ul(c))throw c;fe(ry,`Failed to update sequence numbers for target ${e}: ${c}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function Cb(n,e,t){const a=Ie(n);let o=Ce.min(),u=Be();return a.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,m,_){const b=Ie(g),w=b.xs.get(_);return w!==void 0?ne.resolve(b.Ms.get(w)):b.Pi.getTargetData(m,_)})(a,c,Xr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(c,p.targetId).next((g=>{u=g}))})).next((()=>a.Fs.getDocumentsMatchingQuery(c,e,t?o:Ce.min(),t?u:Be()))).next((p=>(uk(a,KN(e),p),{documents:p,Qs:u})))))}function uk(n,e,t){let a=n.Os.get(e)||Ce.min();t.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),n.Os.set(e,a)}class xb{constructor(){this.activeTargetIds=eO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ck{constructor(){this.Mo=new xb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,a){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xb,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="ConnectivityMonitor";class Db{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(Ib,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(Ib,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih=null;function Jp(){return Ih===null?Ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ih++,"0x"+Ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="RestConnection",fk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===rf?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,t,a,o,u){const c=Jp(),p=this.zo(e,t.toUriEncodedString());fe(vp,`Sending RPC '${e}' ${c}:`,p,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:m}=new URL(p),_=rl(m);return this.Jo(e,p,g,a,_).then((b=>(fe(vp,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw Ko(vp,`RPC '${e}' ${c} failed with error: `,b,"url: ",p,"request:",a),b}))}Ho(e,t,a,o,u,c){return this.Go(e,t,a,o,u)}jo(e,t,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ol})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const a=fk[e];return`${this.Uo}/v1/${t}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class pk extends dk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,a,o,u){const c=Jp();return new Promise(((p,g)=>{const m=new Mw;m.setWithCredentials(!0),m.listenOnce(Pw.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Uh.NO_ERROR:const b=m.getResponseJson();fe(dn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),p(b);break;case Uh.TIMEOUT:fe(dn,`RPC '${e}' ${c} timed out`),g(new ge(re.DEADLINE_EXCEEDED,"Request time out"));break;case Uh.HTTP_ERROR:const w=m.getStatus();if(fe(dn,`RPC '${e}' ${c} failed with status:`,w,"response text:",m.getResponseText()),w>0){let N=m.getResponseJson();Array.isArray(N)&&(N=N[0]);const j=N?.error;if(j&&j.status&&j.message){const z=(function($){const X=$.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(X)>=0?X:re.UNKNOWN})(j.status);g(new ge(z,j.message))}else g(new ge(re.UNKNOWN,"Server responded with status "+m.getStatus()))}else g(new ge(re.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{fe(dn,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);fe(dn,`RPC '${e}' ${c} sending request:`,o),m.send(t,"POST",_,a,15)}))}T_(e,t,a){const o=Jp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Lw(),p=Vw(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(g.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,a),g.encodeInitMessageHeaders=!0;const _=u.join("");fe(dn,`Creating RPC '${e}' stream ${o}: ${_}`,g);const b=c.createWebChannel(_,g);this.I_(b);let w=!1,N=!1;const j=new mk({Yo:U=>{N?fe(dn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(w||(fe(dn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),fe(dn,`RPC '${e}' stream ${o} sending:`,U),b.send(U))},Zo:()=>b.close()}),z=(U,$,X)=>{U.listen($,(ie=>{try{X(ie)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return z(b,Eu.EventType.OPEN,(()=>{N||(fe(dn,`RPC '${e}' stream ${o} transport opened.`),j.o_())})),z(b,Eu.EventType.CLOSE,(()=>{N||(N=!0,fe(dn,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(b))})),z(b,Eu.EventType.ERROR,(U=>{N||(N=!0,Ko(dn,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),j.a_(new ge(re.UNAVAILABLE,"The operation could not be completed")))})),z(b,Eu.EventType.MESSAGE,(U=>{if(!N){const $=U.data[0];Ke(!!$,16349);const X=$,ie=X?.error||X[0]?.error;if(ie){fe(dn,`RPC '${e}' stream ${o} received error:`,ie);const ce=ie.status;let oe=(function(A){const I=Pt[A];if(I!==void 0)return yS(I)})(ce),me=ie.message;oe===void 0&&(oe=re.INTERNAL,me="Unknown error status: "+ce+" with message "+ie.message),N=!0,j.a_(new ge(oe,me)),b.close()}else fe(dn,`RPC '${e}' stream ${o} received:`,$),j.u_($)}})),z(p,jw.STAT_EVENT,(U=>{U.stat===zp.PROXY?fe(dn,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===zp.NOPROXY&&fe(dn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function _p(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(n){return new _O(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,t,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-a);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="PersistentStream";class OS{constructor(e,t,a,o,u,c,p,g){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(zi(t.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===t&&this.G_(a,o)}),(a=>{e((()=>{const o=new ge(re.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,t){const a=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(Nb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(fe(Nb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gk extends OS{constructor(e,t,a,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,o,c),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=bO(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Ce.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Ce.min():c.readTime?Zr(c.readTime):Ce.min()})(e);return this.listener.H_(t,a)}Y_(e){const t={};t.database=Xp(this.serializer),t.addTarget=(function(u,c){let p;const g=c.target;if(p=Yp(g)?{documents:AO(u,g)}:{query:RO(u,g).ft},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){p.resumeToken=ES(u,c.resumeToken);const m=Kp(u,c.expectedCount);m!==null&&(p.expectedCount=m)}else if(c.snapshotVersion.compareTo(Ce.min())>0){p.readTime=cf(u,c.snapshotVersion.toTimestamp());const m=Kp(u,c.expectedCount);m!==null&&(p.expectedCount=m)}return p})(this.serializer,e);const a=xO(this.serializer,e);a&&(t.labels=a),this.q_(t)}Z_(e){const t={};t.database=Xp(this.serializer),t.removeTarget=e,this.q_(t)}}class yk extends OS{constructor(e,t,a,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=SO(e.writeResults,e.commitTime),a=Zr(e.commitTime);return this.listener.na(a,t)}ra(){const e={};e.database=Xp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((a=>wO(this.serializer,a)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{}class _k extends vk{constructor(e,t,a,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,Qp(t,a),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(re.UNKNOWN,u.toString())}))}Ho(e,t,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,p])=>this.connection.Ho(e,Qp(t,a),o,c,p,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(re.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Ek{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zi(t),this.aa=!1):fe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="RemoteStore";class Tk{constructor(e,t,a,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{a.enqueueAndForget((async()=>{Hs(this)&&(fe(Us,"Restarting streams for network reachability change."),await(async function(g){const m=Ie(g);m.Ea.add(4),await nc(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Bf(m)})(this))}))})),this.Ra=new Ek(a,o)}}async function Bf(n){if(Hs(n))for(const e of n.da)await e(!0)}async function nc(n){for(const e of n.da)await e(!1)}function kS(n,e){const t=Ie(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),oy(t)?sy(t):cl(t).O_()&&ay(t,e))}function iy(n,e){const t=Ie(n),a=cl(t);t.Ia.delete(e),a.O_()&&MS(t,e),t.Ia.size===0&&(a.O_()?a.L_():Hs(t)&&t.Ra.set("Unknown"))}function ay(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}cl(n).Y_(e)}function MS(n,e){n.Va.Ue(e),cl(n).Z_(e)}function sy(n){n.Va=new pO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),cl(n).start(),n.Ra.ua()}function oy(n){return Hs(n)&&!cl(n).x_()&&n.Ia.size>0}function Hs(n){return Ie(n).Ea.size===0}function PS(n){n.Va=void 0}async function bk(n){n.Ra.set("Online")}async function wk(n){n.Ia.forEach(((e,t)=>{ay(n,e)}))}async function Sk(n,e){PS(n),oy(n)?(n.Ra.ha(e),sy(n)):n.Ra.set("Unknown")}async function Ak(n,e,t){if(n.Ra.set("Online"),e instanceof _S&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,c),o.Ia.delete(p),o.Va.removeTarget(p))})(n,e)}catch(a){fe(Us,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ff(n,a)}else if(e instanceof Fh?n.Va.Ze(e):e instanceof vS?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ce.min()))try{const a=await DS(n.localStore);t.compareTo(a)>=0&&await(function(u,c){const p=u.Va.Tt(c);return p.targetChanges.forEach(((g,m)=>{if(g.resumeToken.approximateByteSize()>0){const _=u.Ia.get(m);_&&u.Ia.set(m,_.withResumeToken(g.resumeToken,c))}})),p.targetMismatches.forEach(((g,m)=>{const _=u.Ia.get(g);if(!_)return;u.Ia.set(g,_.withResumeToken(sn.EMPTY_BYTE_STRING,_.snapshotVersion)),MS(u,g);const b=new Ra(_.target,g,m,_.sequenceNumber);ay(u,b)})),u.remoteSyncer.applyRemoteEvent(p)})(n,t)}catch(a){fe(Us,"Failed to raise snapshot:",a),await ff(n,a)}}async function ff(n,e,t){if(!ul(e))throw e;n.Ea.add(1),await nc(n),n.Ra.set("Offline"),t||(t=()=>DS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{fe(Us,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Bf(n)}))}function jS(n,e){return e().catch((t=>ff(n,t,e)))}async function zf(n){const e=Ie(n),t=Pa(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hg;for(;Rk(e);)try{const o=await ok(e.localStore,a);if(o===null){e.Ta.length===0&&t.L_();break}a=o.batchId,Ck(e,o)}catch(o){await ff(e,o)}VS(e)&&LS(e)}function Rk(n){return Hs(n)&&n.Ta.length<10}function Ck(n,e){n.Ta.push(e);const t=Pa(n);t.O_()&&t.X_&&t.ea(e.mutations)}function VS(n){return Hs(n)&&!Pa(n).x_()&&n.Ta.length>0}function LS(n){Pa(n).start()}async function xk(n){Pa(n).ra()}async function Ik(n){const e=Pa(n);for(const t of n.Ta)e.ea(t.mutations)}async function Dk(n,e,t){const a=n.Ta.shift(),o=Xg.from(a,e,t);await jS(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await zf(n)}async function Nk(n,e){e&&Pa(n).X_&&await(async function(a,o){if((function(c){return fO(c)&&c!==re.ABORTED})(o.code)){const u=a.Ta.shift();Pa(a).B_(),await jS(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await zf(a)}})(n,e),VS(n)&&LS(n)}async function Ob(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),fe(Us,"RemoteStore received new credentials");const a=Hs(t);t.Ea.add(3),await nc(t),a&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Bf(t)}async function Ok(n,e){const t=Ie(n);e?(t.Ea.delete(2),await Bf(t)):e||(t.Ea.add(2),await nc(t),t.Ra.set("Unknown"))}function cl(n){return n.ma||(n.ma=(function(t,a,o){const u=Ie(t);return u.sa(),new gk(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:bk.bind(null,n),t_:wk.bind(null,n),r_:Sk.bind(null,n),H_:Ak.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),oy(n)?sy(n):n.Ra.set("Unknown")):(await n.ma.stop(),PS(n))}))),n.ma}function Pa(n){return n.fa||(n.fa=(function(t,a,o){const u=Ie(t);return u.sa(),new yk(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:xk.bind(null,n),r_:Nk.bind(null,n),ta:Ik.bind(null,n),na:Dk.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await zf(n)):(await n.fa.stop(),n.Ta.length>0&&(fe(Us,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,t,a,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,o,u){const c=Date.now()+a,p=new ly(e,t,c,o,u);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uy(n,e){if(zi("AsyncQueue",`${e}: ${n}`),ul(n))return new ge(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||Ee.comparator(t.key,a.key):(t,a)=>Ee.comparator(t.key,a.key),this.keyedMap=Tu(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,a)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new Yo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this.ga=new _t(Ee.comparator)}track(e){const t=e.doc.key,a=this.ga.get(t);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(t,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(t):e.type===1&&a.type===2?this.ga=this.ga.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,a)=>{e.push(a)})),e}}class Jo{constructor(e,t,a,o,u,c,p,g,m){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=m}static fromInitialDocuments(e,t,a,o,u){const c=[];return t.forEach((p=>{c.push({type:0,doc:p})})),new Jo(e,t,Yo.emptySet(t),c,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==a[o].type||!t[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Mk{constructor(){this.queries=Mb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,a){const o=Ie(t),u=o.queries;o.queries=Mb(),u.forEach(((c,p)=>{for(const g of p.Sa)g.onError(a)}))})(this,new ge(re.ABORTED,"Firestore shutting down"))}}function Mb(){return new Fs((n=>aS(n)),Mf)}async function cy(n,e){const t=Ie(n);let a=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new kk,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const p=uy(c,`Initialization of query '${Vo(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&fy(t)}async function hy(n,e){const t=Ie(n),a=e.query;let o=3;const u=t.queries.get(a);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function Pk(n,e){const t=Ie(n);let a=!1;for(const o of e){const u=o.query,c=t.queries.get(u);if(c){for(const p of c.Sa)p.Fa(o)&&(a=!0);c.wa=o}}a&&fy(t)}function jk(n,e,t){const a=Ie(n),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);a.queries.delete(e)}function fy(n){n.Ca.forEach((e=>{e.next()}))}var eg,Pb;(Pb=eg||(eg={})).Ma="default",Pb.Cache="cache";class dy{constructor(e,t,a){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Jo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const a=t!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==eg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.key=e}}class BS{constructor(e){this.key=e}}class Vk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=sS(e),this.tu=new Yo(this.eu)}get nu(){return this.Ya}ru(e,t){const a=t?t.iu:new kb,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,c=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,b)=>{const w=o.get(_),N=Pf(this.query,b)?b:null,j=!!w&&this.mutatedKeys.has(w.key),z=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let U=!1;w&&N?w.data.isEqual(N.data)?j!==z&&(a.track({type:3,doc:N}),U=!0):this.su(w,N)||(a.track({type:2,doc:N}),U=!0,(g&&this.eu(N,g)>0||m&&this.eu(N,m)<0)&&(p=!0)):!w&&N?(a.track({type:0,doc:N}),U=!0):w&&!N&&(a.track({type:1,doc:w}),U=!0,(g||m)&&(p=!0)),U&&(N?(c=c.add(N),u=z?u.add(_):u.delete(_)):(c=c.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),u=u.delete(_.key),a.track({type:1,doc:_})}return{tu:c,iu:a,Cs:p,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,b)=>(function(N,j){const z=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:U})}};return z(N)-z(j)})(_.type,b.type)||this.eu(_.doc,b.doc))),this.ou(a),o=o??!1;const p=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,m=g!==this.Za;return this.Za=g,c.length!==0||m?{snapshot:new Jo(this.query,e.tu,u,c,e.mutatedKeys,g===0,m,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const t=[];return e.forEach((a=>{this.Xa.has(a)||t.push(new BS(a))})),this.Xa.forEach((a=>{e.has(a)||t.push(new US(a))})),t}cu(e){this.Ya=e.Qs,this.Xa=Be();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const my="SyncEngine";class Lk{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class Uk{constructor(e){this.key=e,this.hu=!1}}class Bk{constructor(e,t,a,o,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Fs((p=>aS(p)),Mf),this.Iu=new Map,this.Eu=new Set,this.du=new _t(Ee.comparator),this.Au=new Map,this.Ru=new ey,this.Vu={},this.mu=new Map,this.fu=Zo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zk(n,e,t=!0){const a=YS(n);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await zS(a,e,t,!0),o}async function qk(n,e){const t=YS(n);await zS(t,e,!0,!1)}async function zS(n,e,t,a){const o=await lk(n.localStore,Xr(e)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,t);let p;return a&&(p=await Fk(n,e,u,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&kS(n.remoteStore,o),p}async function Fk(n,e,t,a,o){n.pu=(b,w,N)=>(async function(z,U,$,X){let ie=U.view.ru($);ie.Cs&&(ie=await Cb(z.localStore,U.query,!1).then((({documents:D})=>U.view.ru(D,ie))));const ce=X&&X.targetChanges.get(U.targetId),oe=X&&X.targetMismatches.get(U.targetId)!=null,me=U.view.applyChanges(ie,z.isPrimaryClient,ce,oe);return Vb(z,U.targetId,me.au),me.snapshot})(n,b,w,N);const u=await Cb(n.localStore,e,!0),c=new Vk(e,u.Qs),p=c.ru(u.documents),g=tc.createSynthesizedTargetChangeForCurrentChange(t,a&&n.onlineState!=="Offline",o),m=c.applyChanges(p,n.isPrimaryClient,g);Vb(n,t,m.au);const _=new Lk(e,t,c);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function Hk(n,e,t){const a=Ie(n),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((c=>!Mf(c,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Zp(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),t&&iy(a.remoteStore,o.targetId),tg(a,o.targetId)})).catch(ll)):(tg(a,o.targetId),await Zp(a.localStore,o.targetId,!0))}async function Gk(n,e){const t=Ie(n),a=t.Tu.get(e),o=t.Iu.get(a.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),iy(t.remoteStore,a.targetId))}async function Yk(n,e,t){const a=Jk(n);try{const o=await(function(c,p){const g=Ie(c),m=ut.now(),_=p.reduce(((N,j)=>N.add(j.key)),Be());let b,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let j=qi(),z=Be();return g.Ns.getEntries(N,_).next((U=>{j=U,j.forEach((($,X)=>{X.isValidDocument()||(z=z.add($))}))})).next((()=>g.localDocuments.getOverlayedDocuments(N,j))).next((U=>{b=U;const $=[];for(const X of p){const ie=oO(X,b.get(X.key).overlayedDocument);ie!=null&&$.push(new za(X.key,ie,Zw(ie.value.mapValue),hr.exists(!0)))}return g.mutationQueue.addMutationBatch(N,m,$,p)})).next((U=>{w=U;const $=U.applyToLocalDocumentSet(b,z);return g.documentOverlayCache.saveOverlays(N,U.batchId,$)}))})).then((()=>({batchId:w.batchId,changes:lS(b)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(c,p,g){let m=c.Vu[c.currentUser.toKey()];m||(m=new _t(Ue)),m=m.insert(p,g),c.Vu[c.currentUser.toKey()]=m})(a,o.batchId,t),await rc(a,o.changes),await zf(a.remoteStore)}catch(o){const u=uy(o,"Failed to persist write");t.reject(u)}}async function qS(n,e){const t=Ie(n);try{const a=await ak(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=t.Au.get(u);c&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Ke(c.hu,14607):o.removedDocuments.size>0&&(Ke(c.hu,42227),c.hu=!1))})),await rc(t,a,e)}catch(a){await ll(a)}}function jb(n,e,t){const a=Ie(n);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const o=[];a.Tu.forEach(((u,c)=>{const p=c.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(c,p){const g=Ie(c);g.onlineState=p;let m=!1;g.queries.forEach(((_,b)=>{for(const w of b.Sa)w.va(p)&&(m=!0)})),m&&fy(g)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function $k(n,e,t){const a=Ie(n);a.sharedClientState.updateQueryState(e,"rejected",t);const o=a.Au.get(e),u=o&&o.key;if(u){let c=new _t(Ee.comparator);c=c.insert(u,pn.newNoDocument(u,Ce.min()));const p=Be().add(u),g=new Lf(Ce.min(),new Map,new _t(Ue),c,p);await qS(a,g),a.du=a.du.remove(u),a.Au.delete(e),py(a)}else await Zp(a.localStore,e,!1).then((()=>tg(a,e,t))).catch(ll)}async function Kk(n,e){const t=Ie(n),a=e.batch.batchId;try{const o=await ik(t.localStore,e);HS(t,a,null),FS(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await rc(t,o)}catch(o){await ll(o)}}async function Qk(n,e,t){const a=Ie(n);try{const o=await(function(c,p){const g=Ie(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let _;return g.mutationQueue.lookupMutationBatch(m,p).next((b=>(Ke(b!==null,37113),_=b.keys(),g.mutationQueue.removeMutationBatch(m,b)))).next((()=>g.mutationQueue.performConsistencyCheck(m))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(m,_,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_))).next((()=>g.localDocuments.getDocuments(m,_)))}))})(a.localStore,e);HS(a,e,t),FS(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await rc(a,o)}catch(o){await ll(o)}}function FS(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function HS(n,e,t){const a=Ie(n);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function tg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const a of n.Iu.get(e))n.Tu.delete(a),t&&n.Pu.yu(a,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((a=>{n.Ru.containsKey(a)||GS(n,a)}))}function GS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(iy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),py(n))}function Vb(n,e,t){for(const a of t)a instanceof US?(n.Ru.addReference(a.key,e),Wk(n,a)):a instanceof BS?(fe(my,"Document no longer in limbo: "+a.key),n.Ru.removeReference(a.key,e),n.Ru.containsKey(a.key)||GS(n,a.key)):Se(19791,{wu:a})}function Wk(n,e){const t=e.key,a=t.path.canonicalString();n.du.get(t)||n.Eu.has(a)||(fe(my,"New document in limbo: "+t),n.Eu.add(a),py(n))}function py(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ee(lt.fromString(e)),a=n.fu.next();n.Au.set(a,new Uk(t)),n.du=n.du.insert(t,a),kS(n.remoteStore,new Ra(Xr(kf(t.path)),a,"TargetPurposeLimboResolution",If.ce))}}async function rc(n,e,t){const a=Ie(n),o=[],u=[],c=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,g)=>{c.push(a.pu(g,e,t).then((m=>{if((m||t)&&a.isPrimaryClient){const _=m?!m.fromCache:t?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(m){o.push(m);const _=ny.As(g.targetId,m);u.push(_)}})))})),await Promise.all(c),a.Pu.H_(o),await(async function(g,m){const _=Ie(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ne.forEach(m,(w=>ne.forEach(w.Es,(N=>_.persistence.referenceDelegate.addReference(b,w.targetId,N))).next((()=>ne.forEach(w.ds,(N=>_.persistence.referenceDelegate.removeReference(b,w.targetId,N)))))))))}catch(b){if(!ul(b))throw b;fe(ry,"Failed to update sequence numbers: "+b)}for(const b of m){const w=b.targetId;if(!b.fromCache){const N=_.Ms.get(w),j=N.snapshotVersion,z=N.withLastLimboFreeSnapshotVersion(j);_.Ms=_.Ms.insert(w,z)}}})(a.localStore,u))}async function Xk(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){fe(my,"User change. New user:",e.toKey());const a=await IS(t.localStore,e);t.currentUser=e,(function(u,c){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new ge(re.CANCELLED,c))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await rc(t,a.Ls)}}function Zk(n,e){const t=Ie(n),a=t.Au.get(e);if(a&&a.hu)return Be().add(a.key);{let o=Be();const u=t.Iu.get(e);if(!u)return o;for(const c of u){const p=t.Tu.get(c);o=o.unionWith(p.view.nu)}return o}}function YS(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$k.bind(null,e),e.Pu.H_=Pk.bind(null,e.eventManager),e.Pu.yu=jk.bind(null,e.eventManager),e}function Jk(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Kk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qk.bind(null,e),e}class df{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return rk(this.persistence,new ek,e.initialUser,this.serializer)}Cu(e){return new xS(ty.mi,this.serializer)}Du(e){return new ck}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}df.provider={build:()=>new df};class eM extends df{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ke(this.persistence.referenceDelegate instanceof hf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new UO(a,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new xS((a=>hf.mi(a,t)),this.serializer)}}class ng{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>jb(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Xk.bind(null,this.syncEngine),await Ok(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Mk})()}createDatastore(e){const t=Uf(e.databaseInfo.databaseId),a=(function(u){return new pk(u)})(e.databaseInfo);return(function(u,c,p,g){return new _k(u,c,p,g)})(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return(function(a,o,u,c,p){return new Tk(a,o,u,c,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>jb(this.syncEngine,t,0)),(function(){return Db.v()?new Db:new hk})())}createSyncEngine(e,t){return(function(o,u,c,p,g,m,_){const b=new Bk(o,u,c,p,g,m);return _&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const a=Ie(t);fe(Us,"RemoteStore shutting down."),a.Ea.add(5),await nc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ng.provider={build:()=>new ng};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="FirestoreClient";class tM{constructor(e,t,a,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=o,this.user=mn.UNAUTHENTICATED,this.clientId=qg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async c=>{fe(ja,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(a,(c=>(fe(ja,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=uy(t,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Ep(n,e){n.asyncQueue.verifyOperationInProgress(),fe(ja,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let a=t.initialUser;n.setCredentialChangeListener((async o=>{a.isEqual(o)||(await IS(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Lb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await nM(n);fe(ja,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((a=>Ob(e.remoteStore,a))),n.setAppCheckTokenChangeListener(((a,o)=>Ob(e.remoteStore,o))),n._onlineComponents=e}async function nM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe(ja,"Using user provided OfflineComponentProvider");try{await Ep(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Ko("Error using user provided cache. Falling back to memory cache: "+t),await Ep(n,new df)}}else fe(ja,"Using default OfflineComponentProvider"),await Ep(n,new eM(void 0));return n._offlineComponents}async function $S(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe(ja,"Using user provided OnlineComponentProvider"),await Lb(n,n._uninitializedComponentsProvider._online)):(fe(ja,"Using default OnlineComponentProvider"),await Lb(n,new ng))),n._onlineComponents}function rM(n){return $S(n).then((e=>e.syncEngine))}async function mf(n){const e=await $S(n),t=e.eventManager;return t.onListen=zk.bind(null,e.syncEngine),t.onUnlisten=Hk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=qk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Gk.bind(null,e.syncEngine),t}function iM(n,e,t={}){const a=new ji;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,p,g,m){const _=new gy({next:w=>{_.Nu(),c.enqueueAndForget((()=>hy(u,b)));const N=w.docs.has(p);!N&&w.fromCache?m.reject(new ge(re.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&w.fromCache&&g&&g.source==="server"?m.reject(new ge(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),b=new dy(kf(p.path),_,{includeMetadataChanges:!0,qa:!0});return cy(u,b)})(await mf(n),n.asyncQueue,e,t,a))),a.promise}function aM(n,e,t={}){const a=new ji;return n.asyncQueue.enqueueAndForget((async()=>(function(u,c,p,g,m){const _=new gy({next:w=>{_.Nu(),c.enqueueAndForget((()=>hy(u,b))),w.fromCache&&g.source==="server"?m.reject(new ge(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),b=new dy(p,_,{includeMetadataChanges:!0,qa:!0});return cy(u,b)})(await mf(n),n.asyncQueue,e,t,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="firestore.googleapis.com",Bb=!0;class zb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QS,this.ssl=Bb}else this.host=e.host,this.ssl=e.ssl??Bb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VO)throw new ge(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KS(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qf{constructor(e,t,a,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new cN;switch(a.type){case"firstParty":return new mN(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ge(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const a=Ub.get(t);a&&(fe("ComponentProvider","Removing Datastore"),Ub.delete(t),a.terminate())})(this),Promise.resolve()}}function sM(n,e,t,a={}){n=On(n,qf);const o=rl(e),u=n._getSettings(),c={...u,emulatorOptions:n._getEmulatorOptions()},p=`${e}:${t}`;o&&(F0(`https://${p}`),H0("Firestore",!0)),u.host!==QS&&u.host!==p&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:a};if(!Ps(g,c)&&(n._setSettings(g),a.mockUserToken)){let m,_;if(typeof a.mockUserToken=="string")m=a.mockUserToken,_=mn.MOCK_USER;else{m=wx(a.mockUserToken,n._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new ge(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new mn(b)}n._authCredentials=new hN(new Bw(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ic(this.firestore,e,this._query)}}class It{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,a){if(Ju(t,It._jsonSchema))return new It(e,a||null,new Ee(lt.fromString(t.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:jt("string",It._jsonSchemaVersion),referencePath:jt("string")};class Da extends ic{constructor(e,t,a){super(e,t,kf(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new Ee(e))}withConverter(e){return new Da(this.firestore,e,this._path)}}function wt(n,e,...t){if(n=Dt(n),zw("collection","path",e),n instanceof qf){const a=lt.fromString(e,...t);return tb(a),new Da(n,null,a)}{if(!(n instanceof It||n instanceof Da))throw new ge(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(lt.fromString(e,...t));return tb(a),new Da(n.firestore,null,a)}}function ur(n,e,...t){if(n=Dt(n),arguments.length===1&&(e=qg.newId()),zw("doc","path",e),n instanceof qf){const a=lt.fromString(e,...t);return eb(a),new It(n,null,new Ee(a))}{if(!(n instanceof It||n instanceof Da))throw new ge(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=n._path.child(lt.fromString(e,...t));return eb(a),new It(n.firestore,n instanceof Da?n.converter:null,new Ee(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="AsyncQueue";class Fb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NS(this,"async_queue_retry"),this._c=()=>{const a=_p();a&&fe(qb,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const t=_p();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=_p();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ji;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ul(e))throw e;fe(qb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,zi("INTERNAL UNHANDLED ERROR: ",Hb(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=t,t}enqueueAfterDelay(e,t,a){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=ly.createAndSchedule(this,e,t,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:Hb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,a)=>t.targetTimeMs-a.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Hb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(n){return(function(t,a){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1})(n,["next","error","complete"])}class Fi extends qf{constructor(e,t,a,o){super(e,t,a,o),this.type="firestore",this._queue=new Fb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fb(e),this._firestoreClient=void 0,await e}}}function oM(n,e){const t=typeof n=="object"?n:Dg(),a=typeof n=="string"?n:rf,o=il(t,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=Tx("firestore");u&&sM(o,...u)}return o}function Ff(n){if(n._terminated)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||lM(n),n._firestoreClient}function lM(n){const e=n._freezeSettings(),t=(function(o,u,c,p){return new NN(o,u,c,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,KS(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new tM(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lr(sn.fromBase64String(e))}catch(t){throw new ge(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new lr(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:lr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ju(e,lr._jsonSchema))return lr.fromBase64String(e.bytes)}}lr._jsonSchemaVersion="firestore/bytes/1.0",lr._jsonSchema={type:jt("string",lr._jsonSchemaVersion),bytes:jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jr._jsonSchemaVersion}}static fromJSON(e){if(Ju(e,Jr._jsonSchema))return new Jr(e.latitude,e.longitude)}}Jr._jsonSchemaVersion="firestore/geoPoint/1.0",Jr._jsonSchema={type:jt("string",Jr._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ju(e,ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ei(e.vectorValues);throw new ge(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:jt("string",ei._jsonSchemaVersion),vectorValues:jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=/^__.*__$/;class cM{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new za(e,this.data,this.fieldMask,t,this.fieldTransforms):new ec(e,this.data,t,this.fieldTransforms)}}class WS{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new za(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function XS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:n})}}class vy{constructor(e,t,a,o,u,c){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),a=this.Vc({path:t,fc:!1});return a.gc(e),a}yc(e){const t=this.path?.child(e),a=this.Vc({path:t,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return pf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(XS(this.Ac)&&uM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hM{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Uf(e)}Cc(e,t,a,o=!1){return new vy({Ac:e,methodName:t,Dc:a,path:rn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _y(n){const e=n._freezeSettings(),t=Uf(n._databaseId);return new hM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ZS(n,e,t,a,o,u={}){const c=n.Cc(u.merge||u.mergeFields?2:0,e,t,o);Ey("Data must be an object, but it was:",c,a);const p=JS(a,c);let g,m;if(u.merge)g=new Yn(c.fieldMask),m=c.fieldTransforms;else if(u.mergeFields){const _=[];for(const b of u.mergeFields){const w=rg(e,b,t);if(!c.contains(w))throw new ge(re.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);t1(_,w)||_.push(w)}g=new Yn(_),m=c.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,m=c.fieldTransforms;return new cM(new Nn(p),g,m)}class Gf extends yy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gf}}function fM(n,e,t,a){const o=n.Cc(1,e,t);Ey("Data must be an object, but it was:",o,a);const u=[],c=Nn.empty();Ba(a,((g,m)=>{const _=Ty(e,g,t);m=Dt(m);const b=o.yc(_);if(m instanceof Gf)u.push(_);else{const w=Yf(m,b);w!=null&&(u.push(_),c.set(_,w))}}));const p=new Yn(u);return new WS(c,p,o.fieldTransforms)}function dM(n,e,t,a,o,u){const c=n.Cc(1,e,t),p=[rg(e,a,t)],g=[o];if(u.length%2!=0)throw new ge(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)p.push(rg(e,u[w])),g.push(u[w+1]);const m=[],_=Nn.empty();for(let w=p.length-1;w>=0;--w)if(!t1(m,p[w])){const N=p[w];let j=g[w];j=Dt(j);const z=c.yc(N);if(j instanceof Gf)m.push(N);else{const U=Yf(j,z);U!=null&&(m.push(N),_.set(N,U))}}const b=new Yn(m);return new WS(_,b,c.fieldTransforms)}function Yf(n,e){if(e1(n=Dt(n)))return Ey("Unsupported field value:",e,n),JS(n,e);if(n instanceof yy)return(function(a,o){if(!XS(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const u=[];let c=0;for(const p of a){let g=Yf(p,o.wc(c));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),c++}return{arrayValue:{values:u}}})(n,e)}return(function(a,o){if((a=Dt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return tO(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=ut.fromDate(a);return{timestampValue:cf(o.serializer,u)}}if(a instanceof ut){const u=new ut(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:cf(o.serializer,u)}}if(a instanceof Jr)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof lr)return{bytesValue:ES(o.serializer,a._byteString)};if(a instanceof It){const u=o.databaseId,c=a.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Jg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ei)return(function(c,p){return{mapValue:{fields:{[Ww]:{stringValue:Xw},[af]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw p.Sc("VectorValues must only contain numeric values.");return Qg(p.serializer,m)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Fg(a)}`)})(n,e)}function JS(n,e){const t={};return Hw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ba(n,((a,o)=>{const u=Yf(o,e.mc(a));u!=null&&(t[a]=u)})),{mapValue:{fields:t}}}function e1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ut||n instanceof Jr||n instanceof lr||n instanceof It||n instanceof yy||n instanceof ei)}function Ey(n,e,t){if(!e1(t)||!qw(t)){const a=Fg(t);throw a==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+a)}}function rg(n,e,t){if((e=Dt(e))instanceof Hf)return e._internalPath;if(typeof e=="string")return Ty(n,e);throw pf("Field path arguments must be of type string or ",n,!1,void 0,t)}const mM=new RegExp("[~\\*/\\[\\]]");function Ty(n,e,t){if(e.search(mM)>=0)throw pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hf(...e.split("."))._internalPath}catch{throw pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function pf(n,e,t,a,o){const u=a&&!a.isEmpty(),c=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||c)&&(g+=" (found",u&&(g+=` in field ${a}`),c&&(g+=` in document ${o}`),g+=")"),new ge(re.INVALID_ARGUMENT,p+n+g)}function t1(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,t,a,o,u){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(r1("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class pM extends n1{data(){return super.data()}}function r1(n,e){return typeof e=="string"?Ty(n,e):e instanceof Hf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gM{convertValue(e,t="none"){switch(Ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ka(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return Ba(e,((o,u)=>{a[o]=this.convertValue(u,t)})),a}convertVectorValue(e){const t=e.fields?.[af].arrayValue?.values?.map((a=>xt(a.doubleValue)));return new ei(t)}convertGeoPoint(e){return new Jr(xt(e.latitude),xt(e.longitude))}convertArray(e,t){return(e.values||[]).map((a=>this.convertValue(a,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const a=Nf(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(ju(e));default:return null}}convertTimestamp(e){const t=Oa(e);return new ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=lt.fromString(e);Ke(RS(a),9688,{name:e});const o=new Vu(a.get(1),a.get(3)),u=new Ee(a.popFirst(5));return o.isEqual(t)||zi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(n,e,t){let a;return a=n?n.toFirestore(e):e,a}class wu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ds extends n1{constructor(e,t,a,o,u,c){super(e,t,a,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(r1("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ds._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ds._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ds._jsonSchema={type:jt("string",Ds._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Hh extends Ds{data(e={}){return super.data(e)}}class Ns{constructor(e,t,a,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new wu(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((a=>{e.call(t,new Hh(this._firestore,this._userDataWriter,a.key,a,new wu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((p=>{const g=new Hh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new wu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Hh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new wu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,_=-1;return p.type!==0&&(m=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),p.type!==1&&(c=c.add(p.doc),_=c.indexOf(p.doc.key)),{type:yM(p.type),doc:g,oldIndex:m,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ns._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function yM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(n){n=On(n,It);const e=On(n.firestore,Fi);return iM(Ff(e),n._key).then((t=>s1(e,n,t)))}Ns._jsonSchemaVersion="firestore/querySnapshot/1.0",Ns._jsonSchema={type:jt("string",Ns._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class by extends gM{constructor(e){super(),this.firestore=e}convertBytes(e){return new lr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,t)}}function $o(n){n=On(n,ic);const e=On(n.firestore,Fi),t=Ff(e),a=new by(e);return i1(n._query),aM(t,n._query).then((o=>new Ns(e,a,n,o)))}function _M(n,e,t){n=On(n,It);const a=On(n.firestore,Fi),o=a1(n.converter,e);return $f(a,[ZS(_y(a),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,hr.none())])}function Os(n,e,t,...a){n=On(n,It);const o=On(n.firestore,Fi),u=_y(o);let c;return c=typeof(e=Dt(e))=="string"||e instanceof Hf?dM(u,"updateDoc",n._key,e,t,a):fM(u,"updateDoc",n._key,e),$f(o,[c.toMutation(n._key,hr.exists(!0))])}function wy(n){return $f(On(n.firestore,Fi),[new Wg(n._key,hr.none())])}function ks(n,e){const t=On(n.firestore,Fi),a=ur(n),o=a1(n.converter,e);return $f(t,[ZS(_y(n.firestore),"addDoc",a._key,o,n.converter!==null,{}).toMutation(a._key,hr.exists(!1))]).then((()=>a))}function Vi(n,...e){n=Dt(n);let t={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Gb(e[a])||(t=e[a++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Gb(e[a])){const g=e[a];e[a]=g.next?.bind(g),e[a+1]=g.error?.bind(g),e[a+2]=g.complete?.bind(g)}let u,c,p;if(n instanceof It)c=On(n.firestore,Fi),p=kf(n._key.path),u={next:g=>{e[a]&&e[a](s1(c,n,g))},error:e[a+1],complete:e[a+2]};else{const g=On(n,ic);c=On(g.firestore,Fi),p=g._query;const m=new by(c);u={next:_=>{e[a]&&e[a](new Ns(c,m,g,_))},error:e[a+1],complete:e[a+2]},i1(n._query)}return(function(m,_,b,w){const N=new gy(w),j=new dy(_,N,b);return m.asyncQueue.enqueueAndForget((async()=>cy(await mf(m),j))),()=>{N.Nu(),m.asyncQueue.enqueueAndForget((async()=>hy(await mf(m),j)))}})(Ff(c),p,o,u)}function $f(n,e){return(function(a,o){const u=new ji;return a.asyncQueue.enqueueAndForget((async()=>Yk(await rM(a),o,u))),u.promise})(Ff(n),e)}function s1(n,e,t){const a=t.docs.get(e._key),o=new by(n);return new Ds(n,o,e._key,a,new wu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){ol=o})(al),ti(new Pr("firestore",((a,{instanceIdentifier:o,options:u})=>{const c=a.getProvider("app").getImmediate(),p=new Fi(new fN(a.getProvider("auth-internal")),new pN(c,a.getProvider("app-check-internal")),(function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ge(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vu(m.options.projectId,_)})(c,o),c);return u={useFetchStreams:t,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),cr(WT,XT,e),cr(WT,XT,"esm2020")})();const o1="@firebase/installations",Sy="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=1e4,u1=`w:${Sy}`,c1="FIS_v2",EM="https://firebaseinstallations.googleapis.com/v1",TM=3600*1e3,bM="installations",wM="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Bs=new qs(bM,wM,SM);function h1(n){return n instanceof ai&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1({projectId:n}){return`${EM}/projects/${n}/installations`}function d1(n){return{token:n.token,requestStatus:2,expiresIn:RM(n.expiresIn),creationTime:Date.now()}}async function m1(n,e){const a=(await e.json()).error;return Bs.create("request-failed",{requestName:n,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function p1({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function AM(n,{refreshToken:e}){const t=p1(n);return t.append("Authorization",CM(e)),t}async function g1(n){const e=await n();return e.status>=500&&e.status<600?n():e}function RM(n){return Number(n.replace("s","000"))}function CM(n){return`${c1} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const a=f1(n),o=p1(n),u=e.getImmediate({optional:!0});if(u){const m=await u.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const c={fid:t,authVersion:c1,appId:n.appId,sdkVersion:u1},p={method:"POST",headers:o,body:JSON.stringify(c)},g=await g1(()=>fetch(a,p));if(g.ok){const m=await g.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:d1(m.authToken)}}else throw await m1("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=/^[cdef][\w-]{21}$/,ig="";function NM(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=OM(n);return DM.test(t)?t:ig}catch{return ig}}function OM(n){return IM(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=new Map;function _1(n,e){const t=Kf(n);E1(t,e),kM(t,e)}function E1(n,e){const t=v1.get(n);if(t)for(const a of t)a(e)}function kM(n,e){const t=MM();t&&t.postMessage({key:n,fid:e}),PM()}let Is=null;function MM(){return!Is&&"BroadcastChannel"in self&&(Is=new BroadcastChannel("[Firebase] FID Change"),Is.onmessage=n=>{E1(n.data.key,n.data.fid)}),Is}function PM(){v1.size===0&&Is&&(Is.close(),Is=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM="firebase-installations-database",VM=1,zs="firebase-installations-store";let Tp=null;function Ay(){return Tp||(Tp=Af(jM,VM,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(zs)}}})),Tp}async function gf(n,e){const t=Kf(n),o=(await Ay()).transaction(zs,"readwrite"),u=o.objectStore(zs),c=await u.get(t);return await u.put(e,t),await o.done,(!c||c.fid!==e.fid)&&_1(n,e.fid),e}async function T1(n){const e=Kf(n),a=(await Ay()).transaction(zs,"readwrite");await a.objectStore(zs).delete(e),await a.done}async function Qf(n,e){const t=Kf(n),o=(await Ay()).transaction(zs,"readwrite"),u=o.objectStore(zs),c=await u.get(t),p=e(c);return p===void 0?await u.delete(t):await u.put(p,t),await o.done,p&&(!c||c.fid!==p.fid)&&_1(n,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ry(n){let e;const t=await Qf(n.appConfig,a=>{const o=LM(a),u=UM(n,o);return e=u.registrationPromise,u.installationEntry});return t.fid===ig?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function LM(n){const e=n||{fid:NM(),registrationStatus:0};return b1(e)}function UM(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Bs.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=BM(n,t);return{installationEntry:t,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:zM(n)}:{installationEntry:e}}async function BM(n,e){try{const t=await xM(n,e);return gf(n.appConfig,t)}catch(t){throw h1(t)&&t.customData.serverCode===409?await T1(n.appConfig):await gf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function zM(n){let e=await Yb(n.appConfig);for(;e.registrationStatus===1;)await y1(100),e=await Yb(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:a}=await Ry(n);return a||t}return e}function Yb(n){return Qf(n,e=>{if(!e)throw Bs.create("installation-not-found");return b1(e)})}function b1(n){return qM(n)?{fid:n.fid,registrationStatus:0}:n}function qM(n){return n.registrationStatus===1&&n.registrationTime+l1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FM({appConfig:n,heartbeatServiceProvider:e},t){const a=HM(n,t),o=AM(n,t),u=e.getImmediate({optional:!0});if(u){const m=await u.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const c={installation:{sdkVersion:u1,appId:n.appId}},p={method:"POST",headers:o,body:JSON.stringify(c)},g=await g1(()=>fetch(a,p));if(g.ok){const m=await g.json();return d1(m)}else throw await m1("Generate Auth Token",g)}function HM(n,{fid:e}){return`${f1(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cy(n,e=!1){let t;const a=await Qf(n.appConfig,u=>{if(!w1(u))throw Bs.create("not-registered");const c=u.authToken;if(!e&&$M(c))return u;if(c.requestStatus===1)return t=GM(n,e),u;{if(!navigator.onLine)throw Bs.create("app-offline");const p=QM(u);return t=YM(n,p),p}});return t?await t:a.authToken}async function GM(n,e){let t=await $b(n.appConfig);for(;t.authToken.requestStatus===1;)await y1(100),t=await $b(n.appConfig);const a=t.authToken;return a.requestStatus===0?Cy(n,e):a}function $b(n){return Qf(n,e=>{if(!w1(e))throw Bs.create("not-registered");const t=e.authToken;return WM(t)?{...e,authToken:{requestStatus:0}}:e})}async function YM(n,e){try{const t=await FM(n,e),a={...e,authToken:t};return await gf(n.appConfig,a),t}catch(t){if(h1(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await T1(n.appConfig);else{const a={...e,authToken:{requestStatus:0}};await gf(n.appConfig,a)}throw t}}function w1(n){return n!==void 0&&n.registrationStatus===2}function $M(n){return n.requestStatus===2&&!KM(n)}function KM(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+TM}function QM(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function WM(n){return n.requestStatus===1&&n.requestTime+l1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XM(n){const e=n,{installationEntry:t,registrationPromise:a}=await Ry(e);return a?a.catch(console.error):Cy(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZM(n,e=!1){const t=n;return await JM(t),(await Cy(t,e)).token}async function JM(n){const{registrationPromise:e}=await Ry(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(n){if(!n||!n.options)throw bp("App Configuration");if(!n.name)throw bp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw bp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function bp(n){return Bs.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="installations",tP="installations-internal",nP=n=>{const e=n.getProvider("app").getImmediate(),t=eP(e),a=il(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},rP=n=>{const e=n.getProvider("app").getImmediate(),t=il(e,S1).getImmediate();return{getId:()=>XM(t),getToken:o=>ZM(t,o)}};function iP(){ti(new Pr(S1,nP,"PUBLIC")),ti(new Pr(tP,rP,"PRIVATE"))}iP();cr(o1,Sy);cr(o1,Sy,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="/firebase-messaging-sw.js",sP="/firebase-cloud-messaging-push-scope",A1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",oP="https://fcmregistrations.googleapis.com/v1",R1="google.c.a.c_id",lP="google.c.a.c_l",uP="google.c.a.ts",cP="google.c.a.e",Kb=1e4;var Qb;(function(n){n[n.DATA_MESSAGE=1]="DATA_MESSAGE",n[n.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Qb||(Qb={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var zu;(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"})(zu||(zu={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hP(n){const e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),a=atob(t),o=new Uint8Array(a.length);for(let u=0;u<a.length;++u)o[u]=a.charCodeAt(u);return o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="fcm_token_details_db",fP=5,Wb="fcm_token_object_Store";async function dP(n){if("databases"in indexedDB&&!(await indexedDB.databases()).map(u=>u.name).includes(wp))return null;let e=null;return(await Af(wp,fP,{upgrade:async(a,o,u,c)=>{if(o<2||!a.objectStoreNames.contains(Wb))return;const p=c.objectStore(Wb),g=await p.index("fcmSenderId").get(n);if(await p.clear(),!!g){if(o===2){const m=g;if(!m.auth||!m.p256dh||!m.endpoint)return;e={token:m.fcmToken,createTime:m.createTime??Date.now(),subscriptionOptions:{auth:m.auth,p256dh:m.p256dh,endpoint:m.endpoint,swScope:m.swScope,vapidKey:typeof m.vapidKey=="string"?m.vapidKey:Ii(m.vapidKey)}}}else if(o===3){const m=g;e={token:m.fcmToken,createTime:m.createTime,subscriptionOptions:{auth:Ii(m.auth),p256dh:Ii(m.p256dh),endpoint:m.endpoint,swScope:m.swScope,vapidKey:Ii(m.vapidKey)}}}else if(o===4){const m=g;e={token:m.fcmToken,createTime:m.createTime,subscriptionOptions:{auth:Ii(m.auth),p256dh:Ii(m.p256dh),endpoint:m.endpoint,swScope:m.swScope,vapidKey:Ii(m.vapidKey)}}}}}})).close(),await hp(wp),await hp("fcm_vapid_details_db"),await hp("undefined"),mP(e)?e:null}function mP(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="firebase-messaging-database",gP=1,qu="firebase-messaging-store";let Sp=null;function C1(){return Sp||(Sp=Af(pP,gP,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(qu)}}})),Sp}async function yP(n){const e=x1(n),a=await(await C1()).transaction(qu).objectStore(qu).get(e);if(a)return a;{const o=await dP(n.appConfig.senderId);if(o)return await xy(n,o),o}}async function xy(n,e){const t=x1(n),o=(await C1()).transaction(qu,"readwrite");return await o.objectStore(qu).put(e,t),await o.done,e}function x1({appConfig:n}){return n.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},gn=new qs("messaging","Messaging",vP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(n,e){const t=await Dy(n),a=I1(e),o={method:"POST",headers:t,body:JSON.stringify(a)};let u;try{u=await(await fetch(Iy(n.appConfig),o)).json()}catch(c){throw gn.create("token-subscribe-failed",{errorInfo:c?.toString()})}if(u.error){const c=u.error.message;throw gn.create("token-subscribe-failed",{errorInfo:c})}if(!u.token)throw gn.create("token-subscribe-no-token");return u.token}async function EP(n,e){const t=await Dy(n),a=I1(e.subscriptionOptions),o={method:"PATCH",headers:t,body:JSON.stringify(a)};let u;try{u=await(await fetch(`${Iy(n.appConfig)}/${e.token}`,o)).json()}catch(c){throw gn.create("token-update-failed",{errorInfo:c?.toString()})}if(u.error){const c=u.error.message;throw gn.create("token-update-failed",{errorInfo:c})}if(!u.token)throw gn.create("token-update-no-token");return u.token}async function TP(n,e){const a={method:"DELETE",headers:await Dy(n)};try{const u=await(await fetch(`${Iy(n.appConfig)}/${e}`,a)).json();if(u.error){const c=u.error.message;throw gn.create("token-unsubscribe-failed",{errorInfo:c})}}catch(o){throw gn.create("token-unsubscribe-failed",{errorInfo:o?.toString()})}}function Iy({projectId:n}){return`${oP}/projects/${n}/registrations`}async function Dy({appConfig:n,installations:e}){const t=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}function I1({p256dh:n,auth:e,endpoint:t,vapidKey:a}){const o={web:{endpoint:t,auth:e,p256dh:n}};return a!==A1&&(o.web.applicationPubKey=a),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=10080*60*1e3;async function wP(n){const e=await AP(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Ii(e.getKey("auth")),p256dh:Ii(e.getKey("p256dh"))},a=await yP(n.firebaseDependencies);if(a){if(RP(a.subscriptionOptions,t))return Date.now()>=a.createTime+bP?SP(n,{token:a.token,createTime:Date.now(),subscriptionOptions:t}):a.token;try{await TP(n.firebaseDependencies,a.token)}catch(o){console.warn(o)}return Xb(n.firebaseDependencies,t)}else return Xb(n.firebaseDependencies,t)}async function SP(n,e){try{const t=await EP(n.firebaseDependencies,e),a={...e,token:t,createTime:Date.now()};return await xy(n.firebaseDependencies,a),t}catch(t){throw t}}async function Xb(n,e){const a={token:await _P(n,e),createTime:Date.now(),subscriptionOptions:e};return await xy(n,a),a.token}async function AP(n,e){const t=await n.pushManager.getSubscription();return t||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hP(e)})}function RP(n,e){const t=e.vapidKey===n.vapidKey,a=e.endpoint===n.endpoint,o=e.auth===n.auth,u=e.p256dh===n.p256dh;return t&&a&&o&&u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return CP(e,n),xP(e,n),IP(e,n),e}function CP(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const a=e.notification.body;a&&(n.notification.body=a);const o=e.notification.image;o&&(n.notification.image=o);const u=e.notification.icon;u&&(n.notification.icon=u)}function xP(n,e){e.data&&(n.data=e.data)}function IP(n,e){if(!e.fcmOptions&&!e.notification?.click_action)return;n.fcmOptions={};const t=e.fcmOptions?.link??e.notification?.click_action;t&&(n.fcmOptions.link=t);const a=e.fcmOptions?.analytics_label;a&&(n.fcmOptions.analyticsLabel=a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(n){return typeof n=="object"&&!!n&&R1 in n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(n){if(!n||!n.options)throw Ap("App Configuration Object");if(!n.name)throw Ap("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const a of e)if(!t[a])throw Ap(a);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function Ap(n){return gn.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,t,a){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=NP(e);this.firebaseDependencies={app:e,appConfig:o,installations:t,analyticsProvider:a}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(n){try{n.swRegistration=await navigator.serviceWorker.register(aP,{scope:sP}),n.swRegistration.update().catch(()=>{}),await MP(n.swRegistration)}catch(e){throw gn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function MP(n){return new Promise((e,t)=>{const a=setTimeout(()=>t(new Error(`Service worker not registered after ${Kb} ms`)),Kb),o=n.installing||n.waiting;n.active?(clearTimeout(a),e()):o?o.onstatechange=u=>{u.target?.state==="activated"&&(o.onstatechange=null,clearTimeout(a),e())}:(clearTimeout(a),t(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(n,e){if(!e&&!n.swRegistration&&await kP(n),!(!e&&n.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw gn.create("invalid-sw-registration");n.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=A1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D1(n,e){if(!navigator)throw gn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw gn.create("permission-blocked");return await jP(n,e?.vapidKey),await PP(n,e?.serviceWorkerRegistration),wP(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(n,e,t){const a=LP(e);(await n.firebaseDependencies.analyticsProvider.get()).logEvent(a,{message_id:t[R1],message_name:t[lP],message_time:t[uP],message_device_time:Math.floor(Date.now()/1e3)})}function LP(n){switch(n){case zu.NOTIFICATION_CLICKED:return"notification_open";case zu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===zu.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(Zb(t)):n.onMessageHandler.next(Zb(t)));const a=t.data;DP(a)&&a[cP]==="1"&&await VP(n,t.messageType,a)}const Jb="@firebase/messaging",e0="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=n=>{const e=new OP(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>UP(e,t)),e},zP=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:a=>D1(e,a)}};function qP(){ti(new Pr("messaging",BP,"PUBLIC")),ti(new Pr("messaging-internal",zP,"PRIVATE")),cr(Jb,e0),cr(Jb,e0,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FP(){try{await Y0()}catch{return!1}return typeof window<"u"&&G0()&&kx()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(n,e){if(!navigator)throw gn.create("only-available-in-window");return n.onMessageHandler=e,()=>{n.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(n=Dg()){return FP().then(e=>{if(!e)throw gn.create("unsupported-browser")},e=>{throw gn.create("indexed-db-unsupported")}),il(Dt(n),"messaging").getImmediate()}async function YP(n,e){return n=Dt(n),D1(n,e)}function $P(n,e){return n=Dt(n),HP(n,e)}qP();const KP={apiKey:"AIzaSyARdu8UXyZB5ZyzRBNyd_1B3o-alzzGc08",authDomain:"agendita-f86bf.firebaseapp.com",projectId:"agendita-f86bf",storageBucket:"agendita-f86bf.firebasestorage.app",messagingSenderId:"951856875949",appId:"1:951856875949:web:c293fc0c3cd61d5c53f924"},Ny=Q0(KP),Gh=Ow(Ny),He=oM(Ny),t0=GP(Ny),$n=(n,e)=>{const[t,a]=V.useState(()=>{try{const u=window.localStorage.getItem(n);return u?JSON.parse(u):e}catch(u){return console.error(`Error reading localStorage key "${n}":`,u),e}});return[t,u=>{try{const c=u instanceof Function?u(t):u;a(c),window.localStorage.setItem(n,JSON.stringify(c))}catch(c){console.error(`Error setting localStorage key "${n}":`,c)}}]},QP=()=>{const[n,e]=V.useState(null),[t,a]=V.useState(null);return V.useEffect(()=>{(async()=>{try{if(await Notification.requestPermission()==="granted"){console.log("Notification permission granted.");const p="BKpYhbdn40tNi5a_LaN1CzmxOYlg56E8lpmgXZ0NSY8CwHzhaBsvzuKBqaPQa37FdJGpLPhK_5o_V0bu7AOcoso";let g;try{g=await navigator.serviceWorker.register("/firebase-messaging-sw.js"),console.log("Service Worker registered with scope:",g.scope)}catch(_){console.error("Service Worker registration failed:",_);return}const m=await YP(t0,{vapidKey:p,serviceWorkerRegistration:g});m?(console.log("FCM Token:",m),e(m)):console.log("No registration token available.")}else console.log("Unable to get permission to notify.")}catch(c){console.error("An error occurred while retrieving token. ",c)}})();const u=$P(t0,c=>{console.log("Foreground Message received: ",c),a(c),Notification.permission==="granted"&&new Notification(c.notification.title,{body:c.notification.body,icon:"/vite.svg"})});return()=>u()},[]),{fcmToken:n,notification:t}};var N1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n0=Ca.createContext&&Ca.createContext(N1),WP=["attr","size","title"];function XP(n,e){if(n==null)return{};var t=ZP(n,e),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(o=0;o<u.length;o++)a=u[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(t[a]=n[a])}return t}function ZP(n,e){if(n==null)return{};var t={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){if(e.indexOf(a)>=0)continue;t[a]=n[a]}return t}function yf(){return yf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},yf.apply(this,arguments)}function r0(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,a)}return t}function vf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?r0(Object(t),!0).forEach(function(a){JP(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):r0(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}function JP(n,e,t){return e=e4(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function e4(n){var e=t4(n,"string");return typeof e=="symbol"?e:e+""}function t4(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var a=t.call(n,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function O1(n){return n&&n.map((e,t)=>Ca.createElement(e.tag,vf({key:t},e.attr),O1(e.child)))}function on(n){return e=>Ca.createElement(n4,yf({attr:vf({},n.attr)},e),O1(n.child))}function n4(n){var e=t=>{var{attr:a,size:o,title:u}=n,c=XP(n,WP),p=o||t.size||"1em",g;return t.className&&(g=t.className),n.className&&(g=(g?g+" ":"")+n.className),Ca.createElement("svg",yf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,c,{className:g,style:vf(vf({color:n.color||t.color},t.style),n.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),u&&Ca.createElement("title",null,u),n.children)};return n0!==void 0?Ca.createElement(n0.Consumer,null,t=>e(t)):e(N1)}function Oy(n){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 7v14"},child:[]},{tag:"path",attr:{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"},child:[]}]})(n)}function ag(n){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 2v4"},child:[]},{tag:"path",attr:{d:"M16 2v4"},child:[]},{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"4",rx:"2"},child:[]},{tag:"path",attr:{d:"M3 10h18"},child:[]},{tag:"path",attr:{d:"M8 14h.01"},child:[]},{tag:"path",attr:{d:"M12 14h.01"},child:[]},{tag:"path",attr:{d:"M16 14h.01"},child:[]},{tag:"path",attr:{d:"M8 18h.01"},child:[]},{tag:"path",attr:{d:"M12 18h.01"},child:[]},{tag:"path",attr:{d:"M16 18h.01"},child:[]}]})(n)}function r4(n){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 2v4"},child:[]},{tag:"path",attr:{d:"M16 2v4"},child:[]},{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"4",rx:"2"},child:[]},{tag:"path",attr:{d:"M3 10h18"},child:[]}]})(n)}function Wf(n){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"},child:[]},{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},child:[]},{tag:"path",attr:{d:"M12 11h4"},child:[]},{tag:"path",attr:{d:"M12 16h4"},child:[]},{tag:"path",attr:{d:"M8 11h.01"},child:[]},{tag:"path",attr:{d:"M8 16h.01"},child:[]}]})(n)}function i4(n){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z"},child:[]},{tag:"path",attr:{d:"M22 10v6"},child:[]},{tag:"path",attr:{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5"},child:[]}]})(n)}function a4(n){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"7",height:"9",x:"3",y:"3",rx:"1"},child:[]},{tag:"rect",attr:{width:"7",height:"5",x:"14",y:"3",rx:"1"},child:[]},{tag:"rect",attr:{width:"7",height:"9",x:"14",y:"12",rx:"1"},child:[]},{tag:"rect",attr:{width:"7",height:"5",x:"3",y:"16",rx:"1"},child:[]}]})(n)}function Xf(n){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"5",width:"6",height:"6",rx:"1"},child:[]},{tag:"path",attr:{d:"m3 17 2 2 4-4"},child:[]},{tag:"path",attr:{d:"M13 6h8"},child:[]},{tag:"path",attr:{d:"M13 12h8"},child:[]},{tag:"path",attr:{d:"M13 18h8"},child:[]}]})(n)}function s4(n){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",x2:"20",y1:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"4",x2:"20",y1:"6",y2:"6"},child:[]},{tag:"line",attr:{x1:"4",x2:"20",y1:"18",y2:"18"},child:[]}]})(n)}function o4(n){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"},child:[]}]})(n)}function ky(n){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"},child:[]},{tag:"path",attr:{d:"m15 5 4 4"},child:[]}]})(n)}function k1(n){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]},{tag:"path",attr:{d:"M12 5v14"},child:[]}]})(n)}function l4(n){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"3",rx:"2"},child:[]},{tag:"path",attr:{d:"m9 12 2 2 4-4"},child:[]}]})(n)}function u4(n){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"path",attr:{d:"M12 2v2"},child:[]},{tag:"path",attr:{d:"M12 20v2"},child:[]},{tag:"path",attr:{d:"m4.93 4.93 1.41 1.41"},child:[]},{tag:"path",attr:{d:"m17.66 17.66 1.41 1.41"},child:[]},{tag:"path",attr:{d:"M2 12h2"},child:[]},{tag:"path",attr:{d:"M20 12h2"},child:[]},{tag:"path",attr:{d:"m6.34 17.66-1.41 1.41"},child:[]},{tag:"path",attr:{d:"m19.07 4.93-1.41 1.41"},child:[]}]})(n)}function Fu(n){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 6h18"},child:[]},{tag:"path",attr:{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"},child:[]},{tag:"path",attr:{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",x2:"10",y1:"11",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",x2:"14",y1:"11",y2:"17"},child:[]}]})(n)}function _f(n){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 7 13.5 15.5 8.5 10.5 2 17"},child:[]},{tag:"polyline",attr:{points:"16 7 22 7 22 13"},child:[]}]})(n)}function c4(n){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"},child:[]},{tag:"path",attr:{d:"M12 9v4"},child:[]},{tag:"path",attr:{d:"M12 17h.01"},child:[]}]})(n)}function i0(n){return on({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(n)}const fr=({title:n,children:e,onClose:t})=>{const a=o=>{o.target===o.currentTarget&&t()};return v.jsx("div",{className:"modal",style:{display:"flex"},onClick:a,children:v.jsxs("div",{className:"modal-content",children:[v.jsxs("div",{className:"modal-header",children:[v.jsx("h2",{className:"modal-title",children:n}),v.jsx("button",{className:"close-modal",onClick:t,children:""})]}),e]})})},Zf=({onSubmit:n,initialData:e=null,initialDate:t=null,subjects:a=[],onDelete:o=null})=>{const[u,c]=V.useState({title:e?.title||"",subject:e?.subject||"",date:e?.date||(t?t.toISOString().split("T")[0]:""),time:e?.time||"",priority:e?.priority||"medium",description:e?.description||""}),p=m=>{const{name:_,value:b}=m.target;c(w=>({...w,[_]:b}))},g=m=>{m.preventDefault(),n(u)};return v.jsxs("form",{onSubmit:g,children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Ttulo"}),v.jsx("input",{type:"text",className:"form-input",name:"title",value:u.title,onChange:p,required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Materia"}),v.jsxs("select",{className:"form-input",name:"subject",value:u.subject,onChange:p,children:[v.jsx("option",{value:"",children:"Seleccionar materia"}),a.map(m=>v.jsx("option",{value:m.name,children:m.name},m.id))]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Fecha y Hora de Entrega"}),v.jsxs("div",{style:{display:"flex",gap:"10px"},children:[v.jsx("input",{type:"date",className:"form-input",name:"date",value:u.date,onChange:p,style:{flex:1}}),v.jsx("input",{type:"time",className:"form-input",name:"time",value:u.time,onChange:p,style:{flex:1}})]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Prioridad"}),v.jsxs("select",{className:"form-input",name:"priority",value:u.priority,onChange:p,children:[v.jsx("option",{value:"low",children:"Baja"}),v.jsx("option",{value:"medium",children:"Media"}),v.jsx("option",{value:"high",children:"Alta"})]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Descripcin"}),v.jsx("textarea",{className:"form-input",name:"description",value:u.description,onChange:p,rows:"3"})]}),v.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"space-between"},children:[v.jsxs("div",{style:{display:"flex",gap:"12px"},children:[v.jsx("button",{type:"submit",className:"btn btn-primary",children:"Guardar"}),v.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>n(null),children:"Cancelar"})]}),o&&v.jsxs("button",{type:"button",className:"btn",style:{backgroundColor:"var(--error)",color:"white",display:"flex",alignItems:"center",gap:"8px"},onClick:o,children:[v.jsx(Fu,{})," Eliminar"]})]})]})},M1=({onSubmit:n,initialData:e=null,onDelete:t=null})=>{const[a,o]=V.useState({name:e?.name||"",code:e?.code||"",professor:e?.professor||""}),[u,c]=V.useState([{day:"",startTime:"",endTime:""}]);V.useEffect(()=>{if(e?.schedule){const N=e.schedule.split(", ").map(j=>{const z=j.split(" ");return z.length>=4?{day:z[0],startTime:z[1],endTime:z[3]}:{day:"",startTime:"",endTime:""}}).filter(j=>j.day!=="");N.length>0&&c(N)}},[e]);const p=w=>{const{name:N,value:j}=w.target;o(z=>({...z,[N]:j}))},g=(w,N,j)=>{const z=[...u];z[w][N]=j,c(z)},m=()=>{c([...u,{day:"",startTime:"",endTime:""}])},_=w=>{const N=u.filter((j,z)=>z!==w);c(N)},b=w=>{w.preventDefault();const N=u.filter(j=>j.day&&j.startTime&&j.endTime).map(j=>`${j.day} ${j.startTime} - ${j.endTime}`).join(", ");n({name:a.name,code:a.code,professor:a.professor,schedule:N})};return v.jsxs("form",{onSubmit:b,children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Nombre"}),v.jsx("input",{type:"text",className:"form-input",name:"name",value:a.name,onChange:p,required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Cdigo"}),v.jsx("input",{type:"text",className:"form-input",name:"code",value:a.code,onChange:p,required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Profesor"}),v.jsx("input",{type:"text",className:"form-input",name:"professor",value:a.professor,onChange:p})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Horarios de Cursada"}),u.map((w,N)=>v.jsxs("div",{className:"schedule-row",children:[v.jsxs("select",{className:"form-input",value:w.day,onChange:j=>g(N,"day",j.target.value),required:!0,style:{flex:1},children:[v.jsx("option",{value:"",children:"Da"}),v.jsx("option",{value:"Lunes",children:"Lunes"}),v.jsx("option",{value:"Martes",children:"Martes"}),v.jsx("option",{value:"Mircoles",children:"Mircoles"}),v.jsx("option",{value:"Jueves",children:"Jueves"}),v.jsx("option",{value:"Viernes",children:"Viernes"}),v.jsx("option",{value:"Sbado",children:"Sbado"}),v.jsx("option",{value:"Domingo",children:"Domingo"})]}),v.jsx("input",{type:"time",className:"form-input",value:w.startTime,onChange:j=>g(N,"startTime",j.target.value),required:!0,style:{flex:1}}),v.jsx("span",{children:"a"}),v.jsx("input",{type:"time",className:"form-input",value:w.endTime,onChange:j=>g(N,"endTime",j.target.value),required:!0,style:{flex:1}}),u.length>1&&v.jsx("div",{className:"schedule-actions",children:v.jsx("button",{type:"button",onClick:()=>_(N),style:{background:"none",border:"none",color:"var(--error)",cursor:"pointer"},children:v.jsx(Fu,{size:24})})})]},N)),v.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:m,style:{marginTop:"5px",display:"flex",alignItems:"center",gap:"5px"},children:[v.jsx(k1,{})," Agregar otro horario"]})]}),v.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"20px",justifyContent:"space-between"},children:[v.jsxs("div",{style:{display:"flex",gap:"12px"},children:[v.jsx("button",{type:"submit",className:"btn btn-primary",children:"Guardar"}),v.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>n(null),children:"Cancelar"})]}),t&&v.jsxs("button",{type:"button",className:"btn",style:{backgroundColor:"var(--error)",color:"white",display:"flex",alignItems:"center",gap:"8px"},onClick:t,children:[v.jsx(Fu,{})," Eliminar"]})]})]})},Jf=({onSubmit:n,initialData:e=null,initialDate:t=null,subjects:a=[],onDelete:o=null})=>{const[u,c]=V.useState(e?.topics||[{id:Date.now(),name:"",studied:!1}]),[p,g]=V.useState({title:e?.title||"",subject:e?.subject||"",date:e?.date||(t?t.toISOString().split("T")[0]:""),time:e?.time||"",score:e?.score??""}),m=j=>{const{name:z,value:U}=j.target;g($=>({...$,[z]:U}))},_=(j,z,U)=>{const $=[...u];$[j][z]=U,c($)},b=()=>{c([...u,{id:Date.now(),name:"",studied:!1}])},w=j=>{if(u.length>1){const z=u.filter((U,$)=>$!==j);c(z)}},N=j=>{j.preventDefault();const z=u.filter($=>$.name.trim()!==""),U=p.score===""?null:parseFloat(p.score);n({...p,score:U,topics:z})};return v.jsxs("form",{onSubmit:N,children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Ttulo"}),v.jsx("input",{type:"text",className:"form-input",name:"title",value:p.title,onChange:m,required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Materia"}),v.jsxs("select",{className:"form-input",name:"subject",value:p.subject,onChange:m,required:!0,children:[v.jsx("option",{value:"",children:"Seleccionar materia"}),a.map(j=>v.jsx("option",{value:j.name,children:j.name},j.id))]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Fecha y Hora del Examen"}),v.jsxs("div",{style:{display:"flex",gap:"10px"},children:[v.jsx("input",{type:"date",className:"form-input",name:"date",value:p.date,onChange:m,required:!0,style:{flex:1}}),v.jsx("input",{type:"time",className:"form-input",name:"time",value:p.time,onChange:m,style:{flex:1}})]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Nota (0-10)"}),v.jsx("input",{type:"number",className:"form-input",name:"score",min:"0",max:"10",step:"0.1",value:p.score,onChange:m,placeholder:"Ej: 8.5"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Temas a Estudiar"}),v.jsx("div",{id:"topicsContainer",children:u.map((j,z)=>v.jsxs("div",{className:"topic-item",style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[v.jsx("input",{type:"text",className:"form-input",placeholder:"Tema a estudiar",value:j.name,onChange:U=>_(z,"name",U.target.value),style:{flex:1},required:!0}),v.jsx("input",{type:"checkbox",checked:j.studied,onChange:U=>_(z,"studied",U.target.checked)}),v.jsx("label",{children:"Estudiado"}),v.jsx("button",{type:"button",className:"btn btn-secondary remove-topic",onClick:()=>w(z),children:"Eliminar"})]},j.id))}),v.jsx("button",{type:"button",className:"btn btn-secondary",onClick:b,style:{marginTop:"10px"},children:"+ Agregar Tema"})]}),v.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"20px",justifyContent:"space-between"},children:[v.jsxs("div",{style:{display:"flex",gap:"12px"},children:[v.jsx("button",{type:"submit",className:"btn btn-primary",children:"Guardar"}),v.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>n(null),children:"Cancelar"})]}),o&&v.jsxs("button",{type:"button",className:"btn",style:{backgroundColor:"var(--error)",color:"white",display:"flex",alignItems:"center",gap:"8px"},onClick:o,children:[v.jsx(Fu,{})," Eliminar"]})]})]})},Po=({title:n,icon:e,content:t,children:a,headerAction:o})=>v.jsxs("div",{className:"card",children:[v.jsxs("div",{className:"card-header",children:[v.jsx("h3",{className:"card-title",children:n}),e,o]}),t&&v.jsx("div",{className:"card-content",children:v.jsx("p",{children:t})}),a]});function P1(n){var e,t,a="";if(typeof n=="string"||typeof n=="number")a+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=P1(n[e]))&&(a&&(a+=" "),a+=t)}else for(t in n)n[t]&&(a&&(a+=" "),a+=t);return a}function ed(){for(var n,e,t=0,a="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=P1(n))&&(a&&(a+=" "),a+=e);return a}const h4=(n,e,t,a)=>{if(t==="length"||t==="prototype"||t==="arguments"||t==="caller")return;const o=Object.getOwnPropertyDescriptor(n,t),u=Object.getOwnPropertyDescriptor(e,t);!f4(o,u)&&a||Object.defineProperty(n,t,u)},f4=function(n,e){return n===void 0||n.configurable||n.writable===e.writable&&n.enumerable===e.enumerable&&n.configurable===e.configurable&&(n.writable||n.value===e.value)},d4=(n,e)=>{const t=Object.getPrototypeOf(e);t!==Object.getPrototypeOf(n)&&Object.setPrototypeOf(n,t)},m4=(n,e)=>`/* Wrapped ${n}*/
${e}`,p4=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),g4=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),y4=(n,e,t)=>{const a=t===""?"":`with ${t.trim()}() `,o=m4.bind(null,a,e.toString());Object.defineProperty(o,"name",g4);const{writable:u,enumerable:c,configurable:p}=p4;Object.defineProperty(n,"toString",{value:o,writable:u,enumerable:c,configurable:p})};function v4(n,e,{ignoreNonConfigurable:t=!1}={}){const{name:a}=n;for(const o of Reflect.ownKeys(e))h4(n,e,o,t);return d4(n,e),y4(n,e,a),n}const _4=new WeakMap,a0=new WeakMap;function j1(n,{cacheKey:e,cache:t=new Map,maxAge:a}={}){if(a===0)return n;if(typeof a=="number"){if(a>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(a<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const o=function(...u){const c=e?e(u):u[0],p=t.get(c);if(p)return p.data;const g=n.apply(this,u),m=typeof a=="function"?a(...u):a;if(t.set(c,{data:g,maxAge:m?Date.now()+m:Number.POSITIVE_INFINITY}),m&&m>0&&m!==Number.POSITIVE_INFINITY){const _=setTimeout(()=>{t.delete(c)},m);_.unref?.();const b=a0.get(n)??new Set;b.add(_),a0.set(n,b)}return g};return v4(o,n,{ignoreNonConfigurable:!0}),_4.set(o,t),o}function E4(n){return typeof n=="string"}function T4(n,e,t){return t.indexOf(n)===e}function b4(n){return n.toLowerCase()===n}function s0(n){return n.indexOf(",")===-1?n:n.split(",")}function sg(n){if(!n)return n;if(n==="C"||n==="posix"||n==="POSIX")return"en-US";if(n.indexOf(".")!==-1){var e=n.split(".")[0],t=e===void 0?"":e;return sg(t)}if(n.indexOf("@")!==-1){var a=n.split("@")[0],t=a===void 0?"":a;return sg(t)}if(n.indexOf("-")===-1||!b4(n))return n;var o=n.split("-"),u=o[0],c=o[1],p=c===void 0?"":c;return"".concat(u,"-").concat(p.toUpperCase())}function w4(n){var e=n===void 0?{}:n,t=e.useFallbackLocale,a=t===void 0?!0:t,o=e.fallbackLocale,u=o===void 0?"en-US":o,c=[];if(typeof navigator<"u"){for(var p=navigator.languages||[],g=[],m=0,_=p;m<_.length;m++){var b=_[m];g=g.concat(s0(b))}var w=navigator.language,N=w&&s0(w);c=c.concat(g,N)}return a&&c.push(u),c.filter(E4).map(sg).filter(T4)}var S4=j1(w4,{cacheKey:JSON.stringify});function A4(n){return S4(n)[0]||null}var V1=j1(A4,{cacheKey:JSON.stringify});function Gi(n,e,t){return function(o,u=t){const c=n(o)+u;return e(c)}}function ac(n){return function(t){return new Date(n(t).getTime()-1)}}function sc(n,e){return function(a){return[n(a),e(a)]}}function mt(n){if(n instanceof Date)return n.getFullYear();if(typeof n=="number")return n;const e=Number.parseInt(n,10);if(typeof n=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${n}.`)}function qa(n){if(n instanceof Date)return n.getMonth();throw new Error(`Failed to get month from date: ${n}.`)}function td(n){if(n instanceof Date)return n.getDate();throw new Error(`Failed to get year from date: ${n}.`)}function hl(n){const e=mt(n),t=e+(-e+1)%100,a=new Date;return a.setFullYear(t,0,1),a.setHours(0,0,0,0),a}const R4=Gi(mt,hl,-100),L1=Gi(mt,hl,100),My=ac(L1),C4=Gi(mt,My,-100),U1=sc(hl,My);function Fa(n){const e=mt(n),t=e+(-e+1)%10,a=new Date;return a.setFullYear(t,0,1),a.setHours(0,0,0,0),a}const B1=Gi(mt,Fa,-10),Py=Gi(mt,Fa,10),nd=ac(Py),z1=Gi(mt,nd,-10),q1=sc(Fa,nd);function fl(n){const e=mt(n),t=new Date;return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t}const F1=Gi(mt,fl,-1),jy=Gi(mt,fl,1),rd=ac(jy),H1=Gi(mt,rd,-1),x4=sc(fl,rd);function Vy(n,e){return function(a,o=e){const u=mt(a),c=qa(a)+o,p=new Date;return p.setFullYear(u,c,1),p.setHours(0,0,0,0),n(p)}}function Gs(n){const e=mt(n),t=qa(n),a=new Date;return a.setFullYear(e,t,1),a.setHours(0,0,0,0),a}const G1=Vy(Gs,-1),Ly=Vy(Gs,1),oc=ac(Ly),Y1=Vy(oc,-1),I4=sc(Gs,oc);function D4(n,e){return function(a,o=e){const u=mt(a),c=qa(a),p=td(a)+o,g=new Date;return g.setFullYear(u,c,p),g.setHours(0,0,0,0),n(g)}}function lc(n){const e=mt(n),t=qa(n),a=td(n),o=new Date;return o.setFullYear(e,t,a),o.setHours(0,0,0,0),o}const N4=D4(lc,1),Uy=ac(N4),O4=sc(lc,Uy);function $1(n){return td(oc(n))}var an={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},k4={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},By=[0,1,2,3,4,5,6],Rp=new Map;function M4(n){return function(t,a){var o=t||V1();Rp.has(o)||Rp.set(o,new Map);var u=Rp.get(o);return u.has(n)||u.set(n,new Intl.DateTimeFormat(o||void 0,n).format),u.get(n)(a)}}function P4(n){var e=new Date(n);return new Date(e.setHours(12))}function Ys(n){return function(e,t){return M4(n)(e,P4(t))}}var j4={day:"numeric"},V4={day:"numeric",month:"long",year:"numeric"},L4={month:"long"},U4={month:"long",year:"numeric"},B4={weekday:"short"},z4={weekday:"long"},q4={year:"numeric"},F4=Ys(j4),H4=Ys(V4),G4=Ys(L4),K1=Ys(U4),Y4=Ys(B4),$4=Ys(z4),id=Ys(q4),K4=By[0],Q4=By[5],o0=By[6];function Hu(n,e){e===void 0&&(e=an.ISO_8601);var t=n.getDay();switch(e){case an.ISO_8601:return(t+6)%7;case an.ISLAMIC:return(t+1)%7;case an.HEBREW:case an.GREGORY:return t;default:throw new Error("Unsupported calendar type.")}}function W4(n){var e=hl(n);return mt(e)}function X4(n){var e=Fa(n);return mt(e)}function og(n,e){e===void 0&&(e=an.ISO_8601);var t=mt(n),a=qa(n),o=n.getDate()-Hu(n,e);return new Date(t,a,o)}function Z4(n,e){e===void 0&&(e=an.ISO_8601);var t=e===an.GREGORY?an.GREGORY:an.ISO_8601,a=og(n,e),o=mt(n)+1,u,c;do u=new Date(o,0,t===an.ISO_8601?4:1),c=og(u,e),o-=1;while(n<c);return Math.round((a.getTime()-c.getTime())/(864e5*7))+1}function Ms(n,e){switch(n){case"century":return hl(e);case"decade":return Fa(e);case"year":return fl(e);case"month":return Gs(e);case"day":return lc(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function J4(n,e){switch(n){case"century":return R4(e);case"decade":return B1(e);case"year":return F1(e);case"month":return G1(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function Q1(n,e){switch(n){case"century":return L1(e);case"decade":return Py(e);case"year":return jy(e);case"month":return Ly(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function ej(n,e){switch(n){case"decade":return B1(e,-100);case"year":return F1(e,-10);case"month":return G1(e,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function tj(n,e){switch(n){case"decade":return Py(e,100);case"year":return jy(e,10);case"month":return Ly(e,12);default:throw new Error("Invalid rangeType: ".concat(n))}}function W1(n,e){switch(n){case"century":return My(e);case"decade":return nd(e);case"year":return rd(e);case"month":return oc(e);case"day":return Uy(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function nj(n,e){switch(n){case"century":return C4(e);case"decade":return z1(e);case"year":return H1(e);case"month":return Y1(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function rj(n,e){switch(n){case"decade":return z1(e,-100);case"year":return H1(e,-10);case"month":return Y1(e,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function l0(n,e){switch(n){case"century":return U1(e);case"decade":return q1(e);case"year":return x4(e);case"month":return I4(e);case"day":return O4(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function ij(n,e,t){var a=[e,t].sort(function(o,u){return o.getTime()-u.getTime()});return[Ms(n,a[0]),W1(n,a[1])]}function X1(n,e,t){return t.map(function(a){return(e||id)(n,a)}).join("  ")}function aj(n,e,t){return X1(n,e,U1(t))}function Z1(n,e,t){return X1(n,e,q1(t))}function sj(n){return n.getDay()===new Date().getDay()}function J1(n,e){e===void 0&&(e=an.ISO_8601);var t=n.getDay();switch(e){case an.ISLAMIC:case an.HEBREW:return t===Q4||t===o0;case an.ISO_8601:case an.GREGORY:return t===o0||t===K4;default:throw new Error("Unsupported calendar type.")}}var Kr="react-calendar__navigation";function oj(n){var e=n.activeStartDate,t=n.drillUp,a=n.formatMonthYear,o=a===void 0?K1:a,u=n.formatYear,c=u===void 0?id:u,p=n.locale,g=n.maxDate,m=n.minDate,_=n.navigationAriaLabel,b=_===void 0?"":_,w=n.navigationAriaLive,N=n.navigationLabel,j=n.next2AriaLabel,z=j===void 0?"":j,U=n.next2Label,$=U===void 0?"":U,X=n.nextAriaLabel,ie=X===void 0?"":X,ce=n.nextLabel,oe=ce===void 0?"":ce,me=n.prev2AriaLabel,D=me===void 0?"":me,A=n.prev2Label,I=A===void 0?"":A,P=n.prevAriaLabel,O=P===void 0?"":P,x=n.prevLabel,R=x===void 0?"":x,he=n.setActiveStartDate,Oe=n.showDoubleView,K=n.view,q=n.views,le=q.indexOf(K)>0,ve=K!=="century",M=J4(K,e),Z=ve?ej(K,e):void 0,ae=Q1(K,e),se=ve?tj(K,e):void 0,de=(function(){if(M.getFullYear()<0)return!0;var it=nj(K,e);return m&&m>=it})(),ke=ve&&(function(){if(Z.getFullYear()<0)return!0;var it=rj(K,e);return m&&m>=it})(),_e=g&&g<ae,pt=ve&&g&&g<se;function ze(){he(M,"prev")}function Nt(){he(Z,"prev2")}function si(){he(ae,"next")}function Vr(){he(se,"next2")}function mr(it){var oi=(function(){switch(K){case"century":return aj(p,c,it);case"decade":return Z1(p,c,it);case"year":return c(p,it);case"month":return o(p,it);default:throw new Error("Invalid view: ".concat(K,"."))}})();return N?N({date:it,label:oi,locale:p||V1()||void 0,view:K}):oi}function pr(){var it="".concat(Kr,"__label");return v.jsxs("button",{"aria-label":b,"aria-live":w,className:it,disabled:!le,onClick:t,style:{flexGrow:1},type:"button",children:[v.jsx("span",{className:"".concat(it,"__labelText ").concat(it,"__labelText--from"),children:mr(e)}),Oe?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"".concat(it,"__divider"),children:"  "}),v.jsx("span",{className:"".concat(it,"__labelText ").concat(it,"__labelText--to"),children:mr(ae)})]}):null]})}return v.jsxs("div",{className:Kr,children:[I!==null&&ve?v.jsx("button",{"aria-label":D,className:"".concat(Kr,"__arrow ").concat(Kr,"__prev2-button"),disabled:ke,onClick:Nt,type:"button",children:I}):null,R!==null&&v.jsx("button",{"aria-label":O,className:"".concat(Kr,"__arrow ").concat(Kr,"__prev-button"),disabled:de,onClick:ze,type:"button",children:R}),pr(),oe!==null&&v.jsx("button",{"aria-label":ie,className:"".concat(Kr,"__arrow ").concat(Kr,"__next-button"),disabled:_e,onClick:si,type:"button",children:oe}),$!==null&&ve?v.jsx("button",{"aria-label":z,className:"".concat(Kr,"__arrow ").concat(Kr,"__next2-button"),disabled:pt,onClick:Vr,type:"button",children:$}):null]})}var zo=function(){return zo=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},zo.apply(this,arguments)},lj=function(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(t[a[o]]=n[a[o]]);return t};function u0(n){return"".concat(n,"%")}function zy(n){var e=n.children,t=n.className,a=n.count,o=n.direction,u=n.offset,c=n.style,p=n.wrap,g=lj(n,["children","className","count","direction","offset","style","wrap"]);return v.jsx("div",zo({className:t,style:zo({display:"flex",flexDirection:o,flexWrap:p?"wrap":"nowrap"},c)},g,{children:V.Children.map(e,function(m,_){var b=u&&_===0?u0(100*u/a):null;return V.cloneElement(m,zo(zo({},m.props),{style:{flexBasis:u0(100/a),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:b,marginInlineStart:b,marginInlineEnd:0}}))})}))}function uj(n,e,t){return e&&e>n?e:t&&t<n?t:n}function Gu(n,e){return e[0]<=n&&e[1]>=n}function cj(n,e){return n[0]<=e[0]&&n[1]>=e[1]}function eA(n,e){return Gu(n[0],e)||Gu(n[1],e)}function c0(n,e,t){var a=eA(e,n),o=[];if(a){o.push(t);var u=Gu(n[0],e),c=Gu(n[1],e);u&&o.push("".concat(t,"Start")),c&&o.push("".concat(t,"End")),u&&c&&o.push("".concat(t,"BothEnds"))}return o}function hj(n){return Array.isArray(n)?n[0]!==null&&n[1]!==null:n!==null}function fj(n){if(!n)throw new Error("args is required");var e=n.value,t=n.date,a=n.hover,o="react-calendar__tile",u=[o];if(!t)return u;var c=new Date,p=(function(){if(Array.isArray(t))return t;var N=n.dateType;if(!N)throw new Error("dateType is required when date is not an array of two dates");return l0(N,t)})();if(Gu(c,p)&&u.push("".concat(o,"--now")),!e||!hj(e))return u;var g=(function(){if(Array.isArray(e))return e;var N=n.valueType;if(!N)throw new Error("valueType is required when value is not an array of two dates");return l0(N,e)})();cj(g,p)?u.push("".concat(o,"--active")):eA(g,p)&&u.push("".concat(o,"--hasActive"));var m=c0(g,p,"".concat(o,"--range"));u.push.apply(u,m);var _=Array.isArray(e)?e:[e];if(a&&_.length===1){var b=a>g[0]?[g[0],a]:[a,g[0]],w=c0(b,p,"".concat(o,"--hover"));u.push.apply(u,w)}return u}function ad(n){for(var e=n.className,t=n.count,a=t===void 0?3:t,o=n.dateTransform,u=n.dateType,c=n.end,p=n.hover,g=n.offset,m=n.renderTile,_=n.start,b=n.step,w=b===void 0?1:b,N=n.value,j=n.valueType,z=[],U=_;U<=c;U+=w){var $=o(U);z.push(m({classes:fj({date:$,dateType:u,hover:p,value:N,valueType:j}),date:$}))}return v.jsx(zy,{className:e,count:a,offset:g,wrap:!0,children:z})}function sd(n){var e=n.activeStartDate,t=n.children,a=n.classes,o=n.date,u=n.formatAbbr,c=n.locale,p=n.maxDate,g=n.maxDateTransform,m=n.minDate,_=n.minDateTransform,b=n.onClick,w=n.onMouseOver,N=n.style,j=n.tileClassName,z=n.tileContent,U=n.tileDisabled,$=n.view,X=V.useMemo(function(){var ce={activeStartDate:e,date:o,view:$};return typeof j=="function"?j(ce):j},[e,o,j,$]),ie=V.useMemo(function(){var ce={activeStartDate:e,date:o,view:$};return typeof z=="function"?z(ce):z},[e,o,z,$]);return v.jsxs("button",{className:ed(a,X),disabled:m&&_(m)>o||p&&g(p)<o||U?.({activeStartDate:e,date:o,view:$}),onClick:b?function(ce){return b(o,ce)}:void 0,onFocus:w?function(){return w(o)}:void 0,onMouseOver:w?function(){return w(o)}:void 0,style:N,type:"button",children:[u?v.jsx("abbr",{"aria-label":u(c,o),children:t}):t,ie]})}var lg=function(){return lg=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},lg.apply(this,arguments)},dj=function(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(t[a[o]]=n[a[o]]);return t},h0="react-calendar__century-view__decades__decade";function mj(n){var e=n.classes,t=e===void 0?[]:e,a=n.currentCentury,o=n.formatYear,u=o===void 0?id:o,c=dj(n,["classes","currentCentury","formatYear"]),p=c.date,g=c.locale,m=[];return t&&m.push.apply(m,t),m.push(h0),hl(p).getFullYear()!==a&&m.push("".concat(h0,"--neighboringCentury")),v.jsx(sd,lg({},c,{classes:m,maxDateTransform:nd,minDateTransform:Fa,view:"century",children:Z1(g,u,p)}))}var ug=function(){return ug=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},ug.apply(this,arguments)},f0=function(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(t[a[o]]=n[a[o]]);return t};function pj(n){var e=n.activeStartDate,t=n.hover,a=n.showNeighboringCentury,o=n.value,u=n.valueType,c=f0(n,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),p=W4(e),g=p+(a?119:99);return v.jsx(ad,{className:"react-calendar__century-view__decades",dateTransform:Fa,dateType:"decade",end:g,hover:t,renderTile:function(m){var _=m.date,b=f0(m,["date"]);return v.jsx(mj,ug({},c,b,{activeStartDate:e,currentCentury:p,date:_}),_.getTime())},start:p,step:10,value:o,valueType:u})}var cg=function(){return cg=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},cg.apply(this,arguments)};function gj(n){function e(){return v.jsx(pj,cg({},n))}return v.jsx("div",{className:"react-calendar__century-view",children:e()})}var hg=function(){return hg=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},hg.apply(this,arguments)},yj=function(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(t[a[o]]=n[a[o]]);return t},d0="react-calendar__decade-view__years__year";function vj(n){var e=n.classes,t=e===void 0?[]:e,a=n.currentDecade,o=n.formatYear,u=o===void 0?id:o,c=yj(n,["classes","currentDecade","formatYear"]),p=c.date,g=c.locale,m=[];return t&&m.push.apply(m,t),m.push(d0),Fa(p).getFullYear()!==a&&m.push("".concat(d0,"--neighboringDecade")),v.jsx(sd,hg({},c,{classes:m,maxDateTransform:rd,minDateTransform:fl,view:"decade",children:u(g,p)}))}var fg=function(){return fg=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},fg.apply(this,arguments)},m0=function(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(t[a[o]]=n[a[o]]);return t};function _j(n){var e=n.activeStartDate,t=n.hover,a=n.showNeighboringDecade,o=n.value,u=n.valueType,c=m0(n,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),p=X4(e),g=p+(a?11:9);return v.jsx(ad,{className:"react-calendar__decade-view__years",dateTransform:fl,dateType:"year",end:g,hover:t,renderTile:function(m){var _=m.date,b=m0(m,["date"]);return v.jsx(vj,fg({},c,b,{activeStartDate:e,currentDecade:p,date:_}),_.getTime())},start:p,value:o,valueType:u})}var dg=function(){return dg=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},dg.apply(this,arguments)};function Ej(n){function e(){return v.jsx(_j,dg({},n))}return v.jsx("div",{className:"react-calendar__decade-view",children:e()})}var mg=function(){return mg=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},mg.apply(this,arguments)},Tj=function(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(t[a[o]]=n[a[o]]);return t},p0=function(n,e,t){if(t||arguments.length===2)for(var a=0,o=e.length,u;a<o;a++)(u||!(a in e))&&(u||(u=Array.prototype.slice.call(e,0,a)),u[a]=e[a]);return n.concat(u||Array.prototype.slice.call(e))},bj="react-calendar__year-view__months__month";function wj(n){var e=n.classes,t=e===void 0?[]:e,a=n.formatMonth,o=a===void 0?G4:a,u=n.formatMonthYear,c=u===void 0?K1:u,p=Tj(n,["classes","formatMonth","formatMonthYear"]),g=p.date,m=p.locale;return v.jsx(sd,mg({},p,{classes:p0(p0([],t,!0),[bj],!1),formatAbbr:c,maxDateTransform:oc,minDateTransform:Gs,view:"year",children:o(m,g)}))}var pg=function(){return pg=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},pg.apply(this,arguments)},g0=function(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(t[a[o]]=n[a[o]]);return t};function Sj(n){var e=n.activeStartDate,t=n.hover,a=n.value,o=n.valueType,u=g0(n,["activeStartDate","hover","value","valueType"]),c=0,p=11,g=mt(e);return v.jsx(ad,{className:"react-calendar__year-view__months",dateTransform:function(m){var _=new Date;return _.setFullYear(g,m,1),Gs(_)},dateType:"month",end:p,hover:t,renderTile:function(m){var _=m.date,b=g0(m,["date"]);return v.jsx(wj,pg({},u,b,{activeStartDate:e,date:_}),_.getTime())},start:c,value:a,valueType:o})}var gg=function(){return gg=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},gg.apply(this,arguments)};function Aj(n){function e(){return v.jsx(Sj,gg({},n))}return v.jsx("div",{className:"react-calendar__year-view",children:e()})}var yg=function(){return yg=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},yg.apply(this,arguments)},Rj=function(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(t[a[o]]=n[a[o]]);return t},Cp="react-calendar__month-view__days__day";function Cj(n){var e=n.calendarType,t=n.classes,a=t===void 0?[]:t,o=n.currentMonthIndex,u=n.formatDay,c=u===void 0?F4:u,p=n.formatLongDate,g=p===void 0?H4:p,m=Rj(n,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),_=m.date,b=m.locale,w=[];return a&&w.push.apply(w,a),w.push(Cp),J1(_,e)&&w.push("".concat(Cp,"--weekend")),_.getMonth()!==o&&w.push("".concat(Cp,"--neighboringMonth")),v.jsx(sd,yg({},m,{classes:w,formatAbbr:g,maxDateTransform:Uy,minDateTransform:lc,view:"month",children:c(b,_)}))}var vg=function(){return vg=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},vg.apply(this,arguments)},y0=function(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(t[a[o]]=n[a[o]]);return t};function xj(n){var e=n.activeStartDate,t=n.calendarType,a=n.hover,o=n.showFixedNumberOfWeeks,u=n.showNeighboringMonth,c=n.value,p=n.valueType,g=y0(n,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),m=mt(e),_=qa(e),b=o||u,w=Hu(e,t),N=b?0:w,j=(b?-w:0)+1,z=(function(){if(o)return j+42-1;var U=$1(e);if(u){var $=new Date;$.setFullYear(m,_,U),$.setHours(0,0,0,0);var X=7-Hu($,t)-1;return U+X}return U})();return v.jsx(ad,{className:"react-calendar__month-view__days",count:7,dateTransform:function(U){var $=new Date;return $.setFullYear(m,_,U),lc($)},dateType:"day",hover:a,end:z,renderTile:function(U){var $=U.date,X=y0(U,["date"]);return v.jsx(Cj,vg({},g,X,{activeStartDate:e,calendarType:t,currentMonthIndex:_,date:$}),$.getTime())},offset:N,start:j,value:c,valueType:p})}var tA="react-calendar__month-view__weekdays",xp="".concat(tA,"__weekday");function Ij(n){for(var e=n.calendarType,t=n.formatShortWeekday,a=t===void 0?Y4:t,o=n.formatWeekday,u=o===void 0?$4:o,c=n.locale,p=n.onMouseLeave,g=new Date,m=Gs(g),_=mt(m),b=qa(m),w=[],N=1;N<=7;N+=1){var j=new Date(_,b,N-Hu(m,e)),z=u(c,j);w.push(v.jsx("div",{className:ed(xp,sj(j)&&"".concat(xp,"--current"),J1(j,e)&&"".concat(xp,"--weekend")),children:v.jsx("abbr",{"aria-label":z,title:z,children:a(c,j).replace(".","")})},N))}return v.jsx(zy,{className:tA,count:7,onFocus:p,onMouseOver:p,children:w})}var Ef=function(){return Ef=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Ef.apply(this,arguments)},v0=function(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(t[a[o]]=n[a[o]]);return t},_0="react-calendar__tile";function Dj(n){var e=n.onClickWeekNumber,t=n.weekNumber,a=v.jsx("span",{children:t});if(e){var o=n.date,u=n.onClickWeekNumber,c=n.weekNumber,p=v0(n,["date","onClickWeekNumber","weekNumber"]);return v.jsx("button",Ef({},p,{className:_0,onClick:function(g){return u(c,o,g)},type:"button",children:a}))}else{n.date,n.onClickWeekNumber,n.weekNumber;var p=v0(n,["date","onClickWeekNumber","weekNumber"]);return v.jsx("div",Ef({},p,{className:_0,children:a}))}}function Nj(n){var e=n.activeStartDate,t=n.calendarType,a=n.onClickWeekNumber,o=n.onMouseLeave,u=n.showFixedNumberOfWeeks,c=(function(){if(u)return 6;var m=$1(e),_=Hu(e,t),b=m-(7-_);return 1+Math.ceil(b/7)})(),p=(function(){for(var m=mt(e),_=qa(e),b=td(e),w=[],N=0;N<c;N+=1)w.push(og(new Date(m,_,b+N*7),t));return w})(),g=p.map(function(m){return Z4(m,t)});return v.jsx(zy,{className:"react-calendar__month-view__weekNumbers",count:c,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:g.map(function(m,_){var b=p[_];if(!b)throw new Error("date is not defined");return v.jsx(Dj,{date:b,onClickWeekNumber:a,weekNumber:m},m)})})}var _g=function(){return _g=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},_g.apply(this,arguments)},Oj=function(n,e){var t={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&e.indexOf(a)<0&&(t[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(n);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(n,a[o])&&(t[a[o]]=n[a[o]]);return t};function kj(n){if(n)for(var e=0,t=Object.entries(k4);e<t.length;e++){var a=t[e],o=a[0],u=a[1];if(u.includes(n))return o}return an.ISO_8601}function Mj(n){var e=n.activeStartDate,t=n.locale,a=n.onMouseLeave,o=n.showFixedNumberOfWeeks,u=n.calendarType,c=u===void 0?kj(t):u,p=n.formatShortWeekday,g=n.formatWeekday,m=n.onClickWeekNumber,_=n.showWeekNumbers,b=Oj(n,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function w(){return v.jsx(Ij,{calendarType:c,formatShortWeekday:p,formatWeekday:g,locale:t,onMouseLeave:a})}function N(){return _?v.jsx(Nj,{activeStartDate:e,calendarType:c,onClickWeekNumber:m,onMouseLeave:a,showFixedNumberOfWeeks:o}):null}function j(){return v.jsx(xj,_g({calendarType:c},b))}var z="react-calendar__month-view";return v.jsx("div",{className:ed(z,_?"".concat(z,"--weekNumbers"):""),children:v.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[N(),v.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[w(),j()]})]})})}var qo=function(){return qo=Object.assign||function(n){for(var e,t=1,a=arguments.length;t<a;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},qo.apply(this,arguments)},Dh="react-calendar",Yh=["century","decade","year","month"],Pj=["decade","year","month","day"],qy=new Date;qy.setFullYear(1,0,1);qy.setHours(0,0,0,0);var jj=new Date(864e13);function Su(n){return n instanceof Date?n:new Date(n)}function nA(n,e){return Yh.slice(Yh.indexOf(n),Yh.indexOf(e)+1)}function Vj(n,e,t){var a=nA(e,t);return a.indexOf(n)!==-1}function Fy(n,e,t){return n&&Vj(n,e,t)?n:t}function rA(n){var e=Yh.indexOf(n);return Pj[e]}function Lj(n,e){var t=Array.isArray(n)?n[e]:n;if(!t)return null;var a=Su(t);if(Number.isNaN(a.getTime()))throw new Error("Invalid date: ".concat(n));return a}function iA(n,e){var t=n.value,a=n.minDate,o=n.maxDate,u=n.maxDetail,c=Lj(t,e);if(!c)return null;var p=rA(u),g=(function(){switch(e){case 0:return Ms(p,c);case 1:return W1(p,c);default:throw new Error("Invalid index value: ".concat(e))}})();return uj(g,a,o)}var Hy=function(n){return iA(n,0)},aA=function(n){return iA(n,1)},Uj=function(n){return[Hy,aA].map(function(e){return e(n)})};function sA(n){var e=n.maxDate,t=n.maxDetail,a=n.minDate,o=n.minDetail,u=n.value,c=n.view,p=Fy(c,o,t),g=Hy({value:u,minDate:a,maxDate:e,maxDetail:t})||new Date;return Ms(p,g)}function Bj(n){var e=n.activeStartDate,t=n.defaultActiveStartDate,a=n.defaultValue,o=n.defaultView,u=n.maxDate,c=n.maxDetail,p=n.minDate,g=n.minDetail,m=n.value,_=n.view,b=Fy(_,g,c),w=e||t;return w?Ms(b,w):sA({maxDate:u,maxDetail:c,minDate:p,minDetail:g,value:m||a,view:_||o})}function Ip(n){return n&&(!Array.isArray(n)||n.length===1)}function Nh(n,e){return n instanceof Date&&e instanceof Date&&n.getTime()===e.getTime()}var oA=V.forwardRef(function(e,t){var a=e.activeStartDate,o=e.allowPartialRange,u=e.calendarType,c=e.className,p=e.defaultActiveStartDate,g=e.defaultValue,m=e.defaultView,_=e.formatDay,b=e.formatLongDate,w=e.formatMonth,N=e.formatMonthYear,j=e.formatShortWeekday,z=e.formatWeekday,U=e.formatYear,$=e.goToRangeStartOnSelect,X=$===void 0?!0:$,ie=e.inputRef,ce=e.locale,oe=e.maxDate,me=oe===void 0?jj:oe,D=e.maxDetail,A=D===void 0?"month":D,I=e.minDate,P=I===void 0?qy:I,O=e.minDetail,x=O===void 0?"century":O,R=e.navigationAriaLabel,he=e.navigationAriaLive,Oe=e.navigationLabel,K=e.next2AriaLabel,q=e.next2Label,le=e.nextAriaLabel,ve=e.nextLabel,M=e.onActiveStartDateChange,Z=e.onChange,ae=e.onClickDay,se=e.onClickDecade,de=e.onClickMonth,ke=e.onClickWeekNumber,_e=e.onClickYear,pt=e.onDrillDown,ze=e.onDrillUp,Nt=e.onViewChange,si=e.prev2AriaLabel,Vr=e.prev2Label,mr=e.prevAriaLabel,pr=e.prevLabel,it=e.returnValue,oi=it===void 0?"start":it,Yt=e.selectRange,Vt=e.showDoubleView,Ha=e.showFixedNumberOfWeeks,Et=e.showNavigation,Ot=Et===void 0?!0:Et,gr=e.showNeighboringCentury,dl=e.showNeighboringDecade,Yi=e.showNeighboringMonth,ml=Yi===void 0?!0:Yi,li=e.showWeekNumbers,Lr=e.tileClassName,$t=e.tileContent,Sn=e.tileDisabled,Lt=e.value,$s=e.view,Ga=V.useState(p),Ks=Ga[0],vn=Ga[1],yr=V.useState(null),kn=yr[0],_n=yr[1],vr=V.useState(Array.isArray(g)?g.map(function(Re){return Re!==null?Su(Re):null}):g!=null?Su(g):null),Ur=vr[0],Ya=vr[1],_r=V.useState(m),$i=_r[0],ct=_r[1],Ut=a||Ks||Bj({activeStartDate:a,defaultActiveStartDate:p,defaultValue:g,defaultView:m,maxDate:me,maxDetail:A,minDate:P,minDetail:x,value:Lt,view:$s}),gt=(function(){var Re=(function(){return Yt&&Ip(Ur)?Ur:Lt!==void 0?Lt:Ur})();return Re?Array.isArray(Re)?Re.map(function(Ye){return Ye!==null?Su(Ye):null}):Re!==null?Su(Re):null:null})(),Mn=rA(A),Qe=Fy($s||$i,x,A),ln=nA(x,A),Er=Yt?kn:null,$a=ln.indexOf(Qe)<ln.length-1,Pn=ln.indexOf(Qe)>0,ht=V.useCallback(function(Re){var Ye=(function(){switch(oi){case"start":return Hy;case"end":return aA;case"range":return Uj;default:throw new Error("Invalid returnValue.")}})();return Ye({maxDate:me,maxDetail:A,minDate:P,value:Re})},[me,A,P,oi]),St=V.useCallback(function(Re,Ye){vn(Re);var De={action:Ye,activeStartDate:Re,value:gt,view:Qe};M&&!Nh(Ut,Re)&&M(De)},[Ut,M,gt,Qe]),An=V.useCallback(function(Re,Ye){var De=(function(){switch(Qe){case"century":return se;case"decade":return _e;case"year":return de;case"month":return ae;default:throw new Error("Invalid view: ".concat(Qe,"."))}})();De&&De(Re,Ye)},[ae,se,de,_e,Qe]),Tr=V.useCallback(function(Re,Ye){if($a){An(Re,Ye);var De=ln[ln.indexOf(Qe)+1];if(!De)throw new Error("Attempted to drill down from the lowest view.");vn(Re),ct(De);var un={action:"drillDown",activeStartDate:Re,value:gt,view:De};M&&!Nh(Ut,Re)&&M(un),Nt&&Qe!==De&&Nt(un),pt&&pt(un)}},[Ut,$a,M,An,pt,Nt,gt,Qe,ln]),br=V.useCallback(function(){if(Pn){var Re=ln[ln.indexOf(Qe)-1];if(!Re)throw new Error("Attempted to drill up from the highest view.");var Ye=Ms(Re,Ut);vn(Ye),ct(Re);var De={action:"drillUp",activeStartDate:Ye,value:gt,view:Re};M&&!Nh(Ut,Ye)&&M(De),Nt&&Qe!==Re&&Nt(De),ze&&ze(De)}},[Ut,Pn,M,ze,Nt,gt,Qe,ln]),Ka=V.useCallback(function(Re,Ye){var De=gt;An(Re,Ye);var un=Yt&&!Ip(De),Bt;if(Yt)if(un)Bt=Ms(Mn,Re);else{if(!De)throw new Error("previousValue is required");if(Array.isArray(De))throw new Error("previousValue must not be an array");Bt=ij(Mn,De,Re)}else Bt=ht(Re);var Rn=!Yt||un||X?sA({maxDate:me,maxDetail:A,minDate:P,minDetail:x,value:Bt,view:Qe}):null;Ye.persist(),vn(Rn),Ya(Bt);var Xn={action:"onChange",activeStartDate:Rn,value:Bt,view:Qe};if(M&&!Nh(Ut,Rn)&&M(Xn),Z)if(Yt){var ci=Ip(Bt);if(!ci)Z(Bt||null,Ye);else if(o){if(Array.isArray(Bt))throw new Error("value must not be an array");Z([Bt||null,null],Ye)}}else Z(Bt||null,Ye)},[Ut,o,ht,X,me,A,P,x,M,Z,An,Yt,gt,Mn,Qe]);function jn(Re){_n(Re)}function Kn(){_n(null)}V.useImperativeHandle(t,function(){return{activeStartDate:Ut,drillDown:Tr,drillUp:br,onChange:Ka,setActiveStartDate:St,value:gt,view:Qe}},[Ut,Tr,br,Ka,St,gt,Qe]);function ui(Re){var Ye=Re?Q1(Qe,Ut):Ms(Qe,Ut),De=$a?Tr:Ka,un={activeStartDate:Ye,hover:Er,locale:ce,maxDate:me,minDate:P,onClick:De,onMouseOver:Yt?jn:void 0,tileClassName:Lr,tileContent:$t,tileDisabled:Sn,value:gt,valueType:Mn};switch(Qe){case"century":return v.jsx(gj,qo({formatYear:U,showNeighboringCentury:gr},un));case"decade":return v.jsx(Ej,qo({formatYear:U,showNeighboringDecade:dl},un));case"year":return v.jsx(Aj,qo({formatMonth:w,formatMonthYear:N},un));case"month":return v.jsx(Mj,qo({calendarType:u,formatDay:_,formatLongDate:b,formatShortWeekday:j,formatWeekday:z,onClickWeekNumber:ke,onMouseLeave:Yt?Kn:void 0,showFixedNumberOfWeeks:typeof Ha<"u"?Ha:Vt,showNeighboringMonth:ml,showWeekNumbers:li},un));default:throw new Error("Invalid view: ".concat(Qe,"."))}}function Qn(){return Ot?v.jsx(oj,{activeStartDate:Ut,drillUp:br,formatMonthYear:N,formatYear:U,locale:ce,maxDate:me,minDate:P,navigationAriaLabel:R,navigationAriaLive:he,navigationLabel:Oe,next2AriaLabel:K,next2Label:q,nextAriaLabel:le,nextLabel:ve,prev2AriaLabel:si,prev2Label:Vr,prevAriaLabel:mr,prevLabel:pr,setActiveStartDate:St,showDoubleView:Vt,view:Qe,views:ln}):null}var Wn=Array.isArray(gt)?gt:[gt];return v.jsxs("div",{className:ed(Dh,Yt&&Wn.length===1&&"".concat(Dh,"--selectRange"),Vt&&"".concat(Dh,"--doubleView"),c),ref:ie,children:[Qn(),v.jsxs("div",{className:"".concat(Dh,"__viewContainer"),onBlur:Yt?Kn:void 0,onMouseLeave:Yt?Kn:void 0,children:[ui(),Vt?ui(!0):null]})]})});const E0=()=>{const[n,e]=V.useState([]),[t,a]=V.useState([]),[o]=$n("userUID",null);V.useEffect(()=>{if(!o)return;const q=Vi(wt(He,"users",o,"tasks"),ve=>{e(ve.docs.map(M=>({id:M.id,...M.data()})))}),le=Vi(wt(He,"users",o,"exams"),ve=>{a(ve.docs.map(M=>({id:M.id,...M.data()})))});return()=>{q(),le()}},[o]);const u=n.filter(q=>!q.completed).length,c=t.length,p=n.filter(q=>!q.completed&&q.date).sort((q,le)=>new Date(q.date)-new Date(le.date)).slice(0,3),g=t.filter(q=>q.date).sort((q,le)=>new Date(q.date)-new Date(le.date)).slice(0,3),m=n.length?Math.round(n.filter(q=>q.completed).length/n.length*100):0,_=t.filter(q=>q.score!==null&&q.score!==void 0),b=_.length>0?(_.reduce((q,le)=>q+le.score,0)/_.length).toFixed(2):"N/A",N=(()=>{const q=new Date;q.setHours(0,0,0,0);const le=new Date(q);le.setDate(q.getDate()+3);const ve=n.filter(ae=>{if(ae.completed||!ae.date)return!1;const se=new Date(ae.date),de=new Date(se.getUTCFullYear(),se.getUTCMonth(),se.getUTCDate());return de>=q&&de<=le}).map(ae=>({...ae,type:"Tarea",dateObj:new Date(ae.date)})),M=t.filter(ae=>{if(!ae.date)return!1;const se=new Date(ae.date),de=new Date(se.getUTCFullYear(),se.getUTCMonth(),se.getUTCDate());return de>=q&&de<=le}).map(ae=>({...ae,type:"Examen",dateObj:new Date(ae.date)}));return[...ve,...M].sort((ae,se)=>ae.dateObj-se.dateObj)})(),j=q=>{const le=q.toISOString().split("T")[0],ve=n.filter(Z=>Z.date===le&&!Z.completed),M=t.filter(Z=>Z.date===le);return[...ve,...M]},z=({date:q,view:le})=>{if(le==="month"){const ve=j(q);if(ve.length>0)return v.jsx("div",{className:"event-indicator-container",children:ve.map((M,Z)=>v.jsx("div",{className:`event-dot ${M.score!==void 0?"exam":"task"}`,title:M.title},Z))})}return null},[U,$]=V.useState(!1),[X,ie]=V.useState(null),[ce,oe]=V.useState(!1),[me,D]=V.useState(!1),[A,I]=V.useState([]);V.useEffect(()=>{if(!o)return;const q=Vi(wt(He,"users",o,"subjects"),le=>{I(le.docs.map(ve=>({id:ve.id,...ve.data()})))});return()=>q()},[o]);const P=q=>{ie(q),$(!0)},O=()=>{$(!1),oe(!0)},x=()=>{$(!1),D(!0)},R=async q=>{if(!q){oe(!1);return}await ks(wt(He,"users",o,"tasks"),{...q,completed:!1}),oe(!1)},he=async q=>{if(!q){D(!1);return}await ks(wt(He,"users",o,"exams"),{preparation:0,...q}),D(!1)},Oe=X?j(X):[],K=q=>q?q.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"";return v.jsxs("div",{children:[N.length>0&&v.jsxs("div",{className:"dashboard-alerts",children:[v.jsxs("div",{className:"alert-title",children:[v.jsx(c4,{style:{fontSize:"24px"}}),"Atencin: Eventos Prximos"]}),v.jsx("ul",{className:"alert-list",children:N.map((q,le)=>v.jsx("li",{className:`alert-item ${q.type==="Tarea"?`priority-${q.priority||"medium"}`:"subject-color-1"}`,children:v.jsxs("div",{style:{width:"100%"},children:[v.jsxs("div",{className:"alert-item-title",children:[q.type==="Examen"?"Exame: ":"",q.title]}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.85em",color:"var(--text-secondary)",marginTop:"4px"},children:[v.jsx("span",{children:q.subject}),v.jsx("span",{children:q.priority?`Prioridad: ${q.priority==="high"?"Alta":q.priority==="medium"?"Media":q.priority==="low"?"Baja":q.priority}`:""})]}),v.jsx("div",{className:"alert-item-date",style:{marginTop:"2px"},children:new Date(q.date).toLocaleDateString("es-ES",{weekday:"long",day:"numeric"})})]})},`${q.type}-${q.id}-${le}`))})]}),v.jsxs("div",{className:"dashboard-grid",children:[v.jsx(Po,{title:"Tareas Pendientes",icon:v.jsx(l4,{}),children:v.jsxs("div",{className:"card-content",children:[v.jsxs("p",{style:{marginBottom:"10px",fontWeight:"bold"},children:[u," tareas pendientes"]}),v.jsx("ul",{className:"alert-list",children:p.map(q=>v.jsxs("li",{className:`alert-item priority-${q.priority||"medium"}`,style:{fontSize:"14px",flexDirection:"column",alignItems:"flex-start"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[v.jsx("span",{className:"alert-item-title",children:q.title}),v.jsx("span",{className:"alert-item-date",style:{fontSize:"0.8em"},children:new Date(q.date).toLocaleDateString("es-ES",{day:"numeric",month:"short"})})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",fontSize:"0.85em",color:"var(--text-secondary)",marginTop:"2px"},children:[v.jsx("span",{children:q.subject}),v.jsx("span",{style:{textTransform:"capitalize"},children:q.priority==="high"?"Alta":q.priority==="medium"?"Media":q.priority==="low"?"Baja":q.priority||"Media"})]})]},q.id))})]})}),v.jsx(Po,{title:"Prximos Exmenes",icon:v.jsx(ag,{}),children:v.jsxs("div",{className:"card-content",children:[v.jsxs("p",{style:{marginBottom:"10px",fontWeight:"bold"},children:[c," exmenes prximos"]}),v.jsx("ul",{className:"alert-list",children:g.map(q=>v.jsxs("li",{className:"alert-item subject-color-2",style:{fontSize:"14px",flexDirection:"column",alignItems:"flex-start"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[v.jsx("span",{className:"alert-item-title",children:q.title||q.subject}),v.jsx("span",{className:"alert-item-date",style:{fontSize:"0.8em"},children:new Date(q.date).toLocaleDateString("es-ES",{day:"numeric",month:"short"})})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",fontSize:"0.85em",color:"var(--text-secondary)",marginTop:"2px"},children:[v.jsx("span",{children:q.subject}),v.jsx("span",{children:q.time||""})]})]},q.id))})]})}),v.jsx(Po,{title:"Rendimiento Tareas",icon:v.jsx(_f,{}),children:v.jsxs("div",{className:"card-content",children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[v.jsx("span",{children:"Completadas"}),v.jsxs("span",{style:{fontWeight:"bold"},children:[m,"%"]})]}),v.jsx("div",{className:"chart-bar",style:{margin:"0",height:"10px"},children:v.jsx("div",{className:"chart-bar-fill",style:{width:`${m}%`}})})]})}),v.jsx(Po,{title:"Rendimiento Exmenes",icon:v.jsx(_f,{}),children:v.jsxs("div",{className:"card-content",children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[v.jsx("span",{children:"Promedio"}),v.jsx("span",{style:{fontWeight:"bold"},children:b!=="N/A"?b:"-"})]}),b!=="N/A"&&v.jsx("div",{className:"chart-bar",style:{margin:"0",height:"10px"},children:v.jsx("div",{className:"chart-bar-fill",style:{width:`${parseFloat(b)/10*100}%`}})}),b==="N/A"&&v.jsx("p",{children:"Sin exmenes calificados"})]})}),v.jsx("div",{style:{gridColumn:"span 2"},children:v.jsx(Po,{title:"Calendario",icon:v.jsx(ag,{}),children:v.jsx("div",{className:"calendar-container-dashboard",style:{display:"flex",justifyContent:"center"},children:v.jsx(oA,{tileContent:z,locale:"es-ES",formatDay:(q,le)=>le.toLocaleDateString("es-ES",{day:"numeric"}),formatShortWeekday:(q,le)=>le.toLocaleDateString("es-ES",{weekday:"short"}).substring(0,2),onClickDay:P,className:"dashboard-calendar"})})})})]}),v.jsx(Po,{title:"Tareas Recientes",children:v.jsx("ul",{className:"task-list",id:"recentTasks",children:n.slice(0,5).map(q=>v.jsxs("li",{className:`task-item priority-${q.priority||"medium"}`,children:[v.jsx("div",{className:"task-title",children:q.title}),v.jsxs("div",{className:"task-meta",children:[q.subject,"  ",q.date]})]},q.id))})}),U&&v.jsxs(fr,{title:`Eventos del ${K(X)}`,onClose:()=>$(!1),children:[Oe.length>0?v.jsx("ul",{children:Oe.map((q,le)=>v.jsx("li",{className:`alert-item ${q.score!==void 0?"subject-color-2":`priority-${q.priority||"medium"}`}`,children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",width:"100%"},children:[q.score!==void 0?v.jsx(Wf,{className:"text-secondary"}):v.jsx(Xf,{className:"text-primary"}),v.jsxs("div",{style:{flex:1},children:[v.jsx("div",{className:"task-title",children:q.title}),v.jsxs("div",{className:"task-meta",children:[q.subject||q.name,"  ",q.date]})]})]})},le))}):v.jsx("p",{children:"No hay eventos para este da"}),v.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[v.jsx("button",{className:"btn btn-primary",onClick:O,children:"+ Agregar Tarea"}),v.jsx("button",{className:"btn btn-primary",style:{backgroundColor:"var(--secondary)",color:"white"},onClick:x,children:"+ Agregar Examen"}),v.jsx("button",{className:"btn btn-secondary",onClick:()=>$(!1),children:"Cerrar"})]})]}),ce&&v.jsx(fr,{title:`Nueva Tarea para ${K(X)}`,onClose:()=>oe(!1),children:v.jsx(Zf,{onSubmit:R,initialDate:X,subjects:A})}),me&&v.jsx(fr,{title:`Nuevo Examen para ${K(X)}`,onClose:()=>D(!1),children:v.jsx(Jf,{onSubmit:he,initialDate:X,subjects:A})})]})},zj=()=>{const[n,e]=V.useState([]),[t,a]=V.useState(null),[o]=$n("userUID",null),[u,c]=V.useState(!1),p=()=>o?Vi(wt(He,"users",o,"subjects"),N=>{const j=N.docs.map(z=>({id:z.id,...z.data()}));e(j)}):void 0;V.useEffect(()=>{const w=p();return()=>{w&&w()}},[o]);const g=async(w,N)=>{await Os(ur(He,"users",o,"subjects",w),N)},m=w=>{w&&t&&g(t.id,w),a(null),c(!1)},_=w=>{a(w),c(!0)},b=async()=>{t&&window.confirm("Ests seguro de que deseas eliminar esta materia?")&&(await wy(ur(He,"users",o,"subjects",t.id)),a(null),c(!1))};return v.jsxs("div",{children:[v.jsxs("div",{className:"card",children:[v.jsx("div",{className:"card-header",children:v.jsx("h3",{className:"card-title",children:"Mis Materias"})}),v.jsx("div",{className:"dashboard-grid",id:"subjectsGrid",children:n.map(w=>v.jsxs("div",{className:"card",children:[v.jsxs("div",{className:"card-header",children:[v.jsx("h3",{className:"card-title",children:w.name}),v.jsx(Oy,{size:24})]}),v.jsxs("div",{className:"card-content",children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Cdigo:"})," ",w.code]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Profesor:"})," ",w.professor]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Horario:"})," ",w.schedule]}),v.jsxs("button",{className:"btn btn-secondary",onClick:()=>_(w),style:{marginTop:"10px",display:"flex",alignItems:"center",gap:"5px"},children:[v.jsx(ky,{size:16})," Editar"]})]})]},w.id))})]}),u&&v.jsx(fr,{title:`Editar Materia: ${t?.name}`,onClose:()=>c(!1),children:v.jsx(M1,{onSubmit:m,initialData:t,onDelete:b})})]})},qj=()=>{const[n,e]=V.useState([]),[t,a]=V.useState(null),[o]=$n("userUID",null),[u,c]=V.useState(!1),p=()=>o?Vi(wt(He,"users",o,"tasks"),I=>{const P=I.docs.map(O=>({id:O.id,...O.data()}));e(P)}):void 0;V.useEffect(()=>{const A=p();return()=>{A&&A()}},[o]);const g=async(A,I)=>{await Os(ur(He,"users",o,"tasks",A),I)},m=async A=>{const I=n.find(P=>P.id===A);I&&await Os(ur(He,"users",o,"tasks",A),{completed:!I.completed})},_=A=>{t&&g(t.id,A),a(null),c(!1)},b=A=>{a(A),c(!0)},w=A=>{switch(A){case"high":return"Alta";case"medium":return"Media";case"low":return"Baja";default:return"Media"}},N=A=>A?new Date(A).toLocaleDateString("es-ES"):"Sin fecha",[j,z]=V.useState([]);V.useEffect(()=>{if(!o)return;const A=Vi(wt(He,"users",o,"subjects"),I=>{const P=I.docs.map(O=>({id:O.id,...O.data()}));z(P)});return()=>A()},[o]);const U=async()=>{t&&window.confirm("Ests seguro de que deseas eliminar esta tarea?")&&(await wy(ur(He,"users",o,"tasks",t.id)),a(null),c(!1))},[$,X]=V.useState("all"),[ie,ce]=V.useState("all"),[oe,me]=V.useState("date"),D=n.filter(A=>$==="pending"?!A.completed:$==="completed"?A.completed:!0).filter(A=>ie==="all"?!0:A.priority===ie).sort((A,I)=>{if(oe==="date")return new Date(A.date||"9999-12-31")-new Date(I.date||"9999-12-31");if(oe==="priority"){const P={high:1,medium:2,low:3};return(P[A.priority]||2)-(P[I.priority]||2)}return 0});return v.jsxs("div",{children:[v.jsxs("div",{className:"card",children:[v.jsxs("div",{className:"card-header",style:{flexDirection:"column",alignItems:"flex-start",gap:"10px"},children:[v.jsx("h3",{className:"card-title",children:"Todas las Tareas"}),v.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",width:"100%"},children:[v.jsxs("select",{className:"form-input",style:{padding:"8px",width:"auto",flex:1},value:$,onChange:A=>X(A.target.value),children:[v.jsx("option",{value:"all",children:"Todos los estados"}),v.jsx("option",{value:"pending",children:"Pendientes"}),v.jsx("option",{value:"completed",children:"Completadas"})]}),v.jsxs("select",{className:"form-input",style:{padding:"8px",width:"auto",flex:1},value:ie,onChange:A=>ce(A.target.value),children:[v.jsx("option",{value:"all",children:"Todas las prioridades"}),v.jsx("option",{value:"high",children:"Alta"}),v.jsx("option",{value:"medium",children:"Media"}),v.jsx("option",{value:"low",children:"Baja"})]}),v.jsxs("select",{className:"form-input",style:{padding:"8px",width:"auto",flex:1},value:oe,onChange:A=>me(A.target.value),children:[v.jsx("option",{value:"date",children:"Ordenar por Fecha"}),v.jsx("option",{value:"priority",children:"Ordenar por Prioridad"})]})]})]}),v.jsx("ul",{className:"task-list",id:"allTasks",children:D.length>0?D.map(A=>{const I=`priority-${A.priority||"medium"}`;return v.jsxs("li",{className:`task-item ${I}`,children:[v.jsx("input",{type:"checkbox",className:"task-checkbox",checked:A.completed,onChange:()=>m(A.id)}),v.jsxs("div",{className:"task-content",children:[v.jsx("div",{className:"task-title",style:{textDecoration:A.completed?"line-through":"none",opacity:A.completed?.7:1},children:A.title}),v.jsxs("div",{className:"task-meta",children:[A.subject,"  Prioridad:",v.jsx("span",{className:I,style:{fontWeight:"bold",marginLeft:"4px"},children:w(A.priority)})," ",N(A.date)]})]}),v.jsxs("button",{className:"btn btn-secondary",onClick:()=>b(A),style:{marginLeft:"10px",display:"flex",alignItems:"center",gap:"5px"},children:[v.jsx(ky,{size:16})," Editar"]})]},A.id)}):v.jsx("p",{style:{textAlign:"center",padding:"20px",color:"var(--on-surface-variant)"},children:"No hay tareas que coincidan con los filtros."})})]}),u&&v.jsx(fr,{title:`Editar Tarea: ${t?.title}`,onClose:()=>c(!1),children:v.jsx(Zf,{onSubmit:_,initialData:t,subjects:j,onDelete:U})})]})},Fj=()=>{const[n,e]=V.useState(new Date),[t,a]=V.useState([]),[o,u]=V.useState([]),[c]=$n("userUID",null),[p,g]=V.useState(!1),[m,_]=V.useState(null),[b,w]=V.useState(!1),[N,j]=V.useState(!1),z=async()=>{if(!c)return;const x=await $o(wt(He,"users",c,"tasks"));a(x.docs.map(R=>({id:R.id,...R.data()})))},U=async()=>{if(!c)return;const x=await $o(wt(He,"users",c,"exams"));u(x.docs.map(R=>({id:R.id,...R.data()})))},[$,X]=V.useState([]);V.useEffect(()=>{c&&$o(wt(He,"users",c,"subjects")).then(x=>{X(x.docs.map(R=>({id:R.id,...R.data()})))})},[c]),V.useEffect(()=>{z(),U()},[c]);const ie=x=>{const R=x.toISOString().split("T")[0],he=t.filter(K=>K.date===R),Oe=o.filter(K=>K.date===R);return[...he,...Oe]},ce=x=>{_(x),g(!0)},oe=()=>{g(!1),w(!0)},me=()=>{g(!1),j(!0)},D=async x=>{if(!x){w(!1);return}await ks(wt(He,"users",c,"tasks"),{...x,completed:!1}),await z(),w(!1)},A=async x=>{if(!x){j(!1);return}await ks(wt(He,"users",c,"exams"),{preparation:0,...x}),await U(),j(!1)},I=m?ie(m):[],P=x=>x.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),O=({date:x,view:R})=>{if(R==="month"){const he=ie(x);if(he.length>0)return v.jsx("div",{className:"event-indicator-container",children:he.map((Oe,K)=>v.jsx("div",{className:`event-dot ${Oe.score!==void 0?"exam":"task"}`,title:Oe.title},K))})}return null};return v.jsxs("div",{className:"card",children:[v.jsx("div",{className:"calendar-container",children:v.jsx(oA,{onChange:e,value:n,onClickDay:ce,tileContent:O,locale:"es-ES",formatDay:(x,R)=>R.toLocaleDateString("es-ES",{day:"numeric"}),formatMonthYear:(x,R)=>R.toLocaleDateString("es-ES",{month:"long",year:"numeric"}),formatShortWeekday:(x,R)=>R.toLocaleDateString("es-ES",{weekday:"short"}).substring(0,2)})}),p&&v.jsxs(fr,{title:`Eventos del ${P(m)}`,onClose:()=>g(!1),children:[I.length>0?v.jsx("ul",{children:I.map((x,R)=>v.jsx("li",{className:`alert-item ${x.score!==void 0?"subject-color-2":`priority-${x.priority||"medium"}`}`,children:v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",width:"100%"},children:[x.score!==void 0?v.jsx(Wf,{className:"text-secondary"}):v.jsx(Xf,{className:"text-primary"}),v.jsxs("div",{style:{flex:1},children:[v.jsx("div",{className:"task-title",children:x.title}),v.jsxs("div",{className:"task-meta",children:[x.subject||x.name,"  ",x.date]})]})]})},R))}):v.jsx("p",{children:"No hay eventos para este da"}),v.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[v.jsx("button",{className:"btn btn-primary",onClick:oe,children:"+ Agregar Tarea"}),v.jsx("button",{className:"btn btn-primary",style:{backgroundColor:"var(--secondary)",color:"white"},onClick:me,children:"+ Agregar Examen"}),v.jsx("button",{className:"btn btn-secondary",onClick:()=>g(!1),children:"Cerrar"})]})]}),b&&v.jsx(fr,{title:`Nueva Tarea para ${P(m)}`,onClose:()=>w(!1),children:v.jsx(Zf,{onSubmit:D,initialDate:m,subjects:$})}),N&&v.jsx(fr,{title:`Nuevo Examen para ${P(m)}`,onClose:()=>j(!1),children:v.jsx(Jf,{onSubmit:A,initialDate:m,subjects:$})})]})},Hj=()=>{const[n,e]=V.useState([]),[t,a]=V.useState(null),[o]=$n("userUID",null),[u,c]=V.useState(!1),p=()=>o?Vi(wt(He,"users",o,"exams"),A=>{const I=A.docs.map(P=>({id:P.id,...P.data()}));e(I)}):void 0;V.useEffect(()=>{const D=p();return()=>{D&&D()}},[o]);const g=async(D,A)=>{await Os(ur(He,"users",o,"exams",D),A)},[m,_]=V.useState([]);V.useEffect(()=>{if(!o)return;const D=Vi(wt(He,"users",o,"subjects"),A=>{const I=A.docs.map(P=>({id:P.id,...P.data()}));_(I)});return()=>D()},[o]);const b=async D=>{const A=D||t?.id;A&&window.confirm("Ests seguro de que deseas eliminar este examen?")&&(await wy(ur(He,"users",o,"exams",A)),t&&(a(null),c(!1)))},w=D=>{if(!D){a(null),c(!1);return}t&&g(t.id,D),a(null),c(!1)},N=async(D,A)=>{const I=n.find(he=>he.id===D);if(!I)return;const P=I.topics.map(he=>he.id===A?{...he,studied:!he.studied}:he),O=P.filter(he=>he.studied).length,x=P.length,R=x?Math.round(O/x*100):0;await Os(ur(He,"users",o,"exams",D),{topics:P,preparation:R})},j=async(D,A)=>{await Os(ur(He,"users",o,"exams",D),{score:A===""?null:parseFloat(A)})},z=D=>D?new Date(D).toLocaleDateString("es-ES"):"Sin fecha",U=D=>{a(D),c(!0)},[$,X]=V.useState("all"),[ie,ce]=V.useState("date"),oe=n.filter(D=>$==="all"?!0:D.subject===$).sort((D,A)=>ie==="date"?new Date(D.date||"9999-12-31")-new Date(A.date||"9999-12-31"):ie==="score"?(A.score||0)-(D.score||0):0),me=[...new Set(n.map(D=>D.subject))];return v.jsxs("div",{children:[v.jsxs("div",{className:"card",children:[v.jsxs("div",{className:"card-header",style:{flexDirection:"column",alignItems:"flex-start",gap:"10px"},children:[v.jsx("h3",{className:"card-title",children:"Prximos Exmenes"}),v.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",width:"100%"},children:[v.jsxs("select",{className:"form-input",style:{padding:"8px",width:"auto",flex:1},value:$,onChange:D=>X(D.target.value),children:[v.jsx("option",{value:"all",children:"Todas las materias"}),me.map(D=>v.jsx("option",{value:D,children:D},D))]}),v.jsxs("select",{className:"form-input",style:{padding:"8px",width:"auto",flex:1},value:ie,onChange:D=>ce(D.target.value),children:[v.jsx("option",{value:"date",children:"Ordenar por Fecha"}),v.jsx("option",{value:"score",children:"Ordenar por Nota"})]})]})]}),v.jsx("div",{className:"dashboard-grid",id:"examsGrid",children:oe.length>0?oe.map(D=>{const A=D.topics?Math.round(D.topics.filter(I=>I.studied).length/D.topics.length*100):0;return v.jsxs("div",{className:"card",children:[v.jsxs("div",{className:"card-header",children:[v.jsx("h3",{className:"card-title",children:D.title}),v.jsx(ag,{size:24})]}),v.jsxs("div",{className:"card-content",children:[v.jsxs("p",{children:["Fecha: ",z(D.date)]}),v.jsxs("p",{children:["Materia: ",D.subject]}),v.jsxs("p",{children:["Preparacin: ",A,"%"]}),v.jsx("input",{type:"range",min:"0",max:"100",value:A,className:"preparation-slider",disabled:!0}),v.jsxs("div",{style:{marginTop:"15px"},children:[v.jsx("label",{className:"form-label",children:"Nota (0-10):"}),v.jsx("input",{type:"number",min:"0",max:"10",step:"0.1",value:D.score??"",onChange:I=>j(D.id,I.target.value),className:"form-input",style:{width:"80px"}})]}),v.jsx("h4",{style:{margin:"15px 0 10px"},children:"Temas a estudiar"}),v.jsx("div",{children:D.topics?.map(I=>v.jsxs("div",{className:"topic-item",children:[v.jsx("input",{type:"checkbox",checked:I.studied,onChange:()=>N(D.id,I.id)}),v.jsx("span",{children:I.name})]},I.id))}),v.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"15px"},children:[v.jsxs("button",{className:"btn btn-secondary",onClick:()=>U(D),style:{display:"flex",alignItems:"center",gap:"5px"},children:[v.jsx(ky,{size:16})," Editar Examen"]}),v.jsxs("button",{className:"btn btn-secondary",onClick:()=>b(D.id),style:{backgroundColor:"var(--error)",color:"var(--on-error)",display:"flex",alignItems:"center",gap:"5px"},children:[v.jsx(Fu,{size:16})," Eliminar"]})]})]})]},D.id)}):v.jsx("p",{style:{textAlign:"center",padding:"20px",color:"var(--on-surface-variant)",gridColumn:"1 / -1"},children:"No hay exmenes que coincidan con los filtros."})})]}),u&&v.jsx(fr,{title:`Editar Examen: ${t?.title}`,onClose:()=>c(!1),children:v.jsx(Jf,{onSubmit:w,initialData:t,subjects:m,onDelete:()=>b()})})]})},Oh=({type:n,data:e,title:t})=>{if(n==="bar"){const a=e.reduce((o,u)=>Math.max(o,u.value),0);return v.jsxs("div",{children:[v.jsx("h3",{children:t}),e.map((o,u)=>v.jsxs("div",{className:"chart-bar",children:[v.jsx("div",{className:"chart-bar-fill",style:{width:`${a>0?o.value/a*100:0}%`},children:o.value}),v.jsxs("div",{className:"chart-labels",children:[v.jsx("span",{className:"chart-label",children:o.label}),v.jsx("span",{className:"chart-label",children:o.details})]})]},u))]})}else if(n==="pie"){let a=0;const o=e.map(u=>{const c=a;return a+=u.value,`${u.color} ${c}% ${a}%`}).join(", ");return v.jsxs("div",{children:[v.jsx("h3",{children:t}),v.jsx("div",{className:"pie-chart",style:{background:`conic-gradient(${o})`}}),v.jsx("div",{className:"chart-labels",children:e.map((u,c)=>v.jsxs("span",{className:"chart-label",children:[u.label,": ",u.value,"%"]},c))})]})}return v.jsx("div",{children:"Tipo de grfico no soportado"})},Gj=()=>{const[n,e]=V.useState([]),[t,a]=V.useState([]),[o,u]=V.useState([]),[c]=$n("userUID",null),p=async()=>{if(!c)return;const x=await $o(wt(He,"users",c,"tasks"));e(x.docs.map(R=>({id:R.id,...R.data()})))},g=async()=>{if(!c)return;const x=await $o(wt(He,"users",c,"exams"));a(x.docs.map(R=>({id:R.id,...R.data()})))},m=async()=>{if(!c)return;const x=await $o(wt(He,"users",c,"subjects"));u(x.docs.map(R=>({id:R.id,...R.data()})))};V.useEffect(()=>{p(),g(),m()},[c]);const _=t.filter(x=>x.score!==null&&x.score!==void 0),b=_.length>0?(_.reduce((x,R)=>x+R.score,0)/_.length).toFixed(2):"N/A",w={};o.forEach(x=>{w[x.name]={total:0,completed:0}}),n.forEach(x=>{w[x.subject]&&(w[x.subject].total++,x.completed&&w[x.subject].completed++)});const N={high:n.filter(x=>x.priority==="high").length,medium:n.filter(x=>x.priority==="medium").length,low:n.filter(x=>x.priority==="low").length},j=n.length,z=j?Math.round(N.high/j*100):0,U=j?Math.round(N.medium/j*100):0,$=j?Math.round(N.low/j*100):0,X=Object.entries(w).filter(([x,R])=>R.total>0).map(([x,R])=>({label:x,value:Math.round(R.completed/R.total*100),details:`${R.completed}/${R.total}`})),ie=[{label:"Alta",value:z,color:"var(--primary)"},{label:"Media",value:U,color:"var(--secondary)"},{label:"Baja",value:$,color:"var(--tertiary)"}],ce={};o.forEach(x=>{ce[x.name]=0}),n.forEach(x=>{ce[x.subject]!==void 0?ce[x.subject]++:x.subject&&(ce[x.subject]=(ce[x.subject]||0)+1)});const oe=Object.entries(ce).filter(([x,R])=>R>0).map(([x,R])=>({label:x,value:R,details:`${R} tareas`})),me={};o.forEach(x=>{me[x.name]={sum:0,count:0}}),t.forEach(x=>{x.score!==null&&x.score!==void 0&&me[x.subject]&&(me[x.subject].sum+=x.score,me[x.subject].count++)});const D=Object.entries(me).filter(([x,R])=>R.count>0).map(([x,R])=>({label:x,value:parseFloat((R.sum/R.count).toFixed(2)),details:`${(R.sum/R.count).toFixed(2)} prom.`})),A=x=>{if(!x)return!1;const R=new Date(x),he=new Date,Oe=new Date(he.setDate(he.getDate()-he.getDay())),K=new Date(Oe);return K.setDate(Oe.getDate()+6),R>=Oe&&R<=K},I=n.filter(x=>x.completed&&A(x.date)).length,P=n.filter(x=>!x.completed&&A(x.date)).length,O=t.filter(x=>A(x.date)).length;return v.jsxs("div",{children:[v.jsxs("div",{className:"chart-container",children:[v.jsx("h2",{children:"Rendimiento Acadmico"}),v.jsx(Oh,{type:"bar",data:X,title:"Completitud por Materia"})]}),v.jsxs("div",{className:"dashboard-grid",children:[v.jsx("div",{className:"chart-container",children:v.jsx(Oh,{type:"pie",data:ie,title:"Distribucin de Prioridades"})}),v.jsx("div",{className:"chart-container",children:v.jsx(Oh,{type:"bar",data:oe,title:"Tareas por Materia"})})]}),v.jsx("div",{className:"chart-container",style:{marginTop:"20px"},children:v.jsx(Oh,{type:"bar",data:D,title:"Promedio de Notas por Materia"})}),v.jsxs("div",{className:"card",children:[v.jsxs("div",{className:"card-header",children:[v.jsx("h3",{className:"card-title",children:"Resumen Semanal"}),v.jsx("button",{className:"btn btn-primary",onClick:()=>alert("Exportacin de PDF en desarrollo"),children:"Exportar PDF"})]}),v.jsxs("div",{className:"card-content",children:[v.jsxs("p",{children:["Tareas completadas esta semana: ",I]}),v.jsxs("p",{children:["Tareas pendientes para esta semana: ",P]}),v.jsxs("p",{children:["Exmenes prximos esta semana: ",O]}),v.jsxs("p",{children:["Materias activas: ",o.length]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Rendimiento Promedio de Exmenes:"})," ",b!=="N/A"?`${b}/10`:"Sin notas"]})]})]})]})},Yj=()=>{const n=bf(),[e]=$n("userUID",null),[t,a]=V.useState({fullName:"",email:"",phone:"",photoURL:""}),[o,u]=V.useState(!0),c=Ow(),p=async w=>{const N=ur(He,"users",w.uid),j=await vM(N);if(j.exists())a({fullName:j.data().fullName||"",email:w.email||"",phone:j.data().phone||"",photoURL:j.data().photoURL||w.photoURL||""});else{const z={fullName:w.displayName||"",email:w.email||"",phone:"",photoURL:w.photoURL||""};await _M(N,z),a(z)}u(!1)};V.useEffect(()=>{const w=Ew(c,async N=>{if(!N){n("/auth");return}await p(N)});return()=>w()},[]);const g=w=>{const{name:N,value:j}=w.target;a(z=>({...z,[N]:j}))},m=w=>{const N=w.target.files[0];if(N)if(N.type.startsWith("image/")){const j=URL.createObjectURL(N);a(z=>({...z,photoURL:j}))}else alert("Selecciona una imagen vlida")},_=async w=>{w.preventDefault();const N=ur(He,"users",e);await Os(N,{fullName:t.fullName,phone:t.phone,photoURL:t.photoURL}),alert("Perfil actualizado correctamente ")},b=async()=>{try{await W2(c),n("/auth")}catch{alert("Error al cerrar sesin")}};return o?v.jsx("p",{children:"Cargando perfil..."}):v.jsx("div",{children:v.jsxs("div",{className:"card",children:[v.jsx("div",{className:"card-header",children:v.jsx("h3",{className:"card-title",children:"Configuracin de Perfil"})}),v.jsxs("form",{onSubmit:_,style:{padding:"24px"},children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Email"}),v.jsx("input",{type:"email",name:"email",value:t.email,disabled:!0,className:"form-input"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Nombre Completo"}),v.jsx("input",{type:"text",name:"fullName",value:t.fullName,onChange:g,required:!0,className:"form-input"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Telfono"}),v.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:g,className:"form-input"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Foto de Perfil"}),v.jsx("input",{type:"file",accept:"image/*",onChange:m}),t.photoURL&&v.jsxs("div",{style:{marginTop:"10px"},children:[v.jsx("p",{children:"Vista previa:"}),v.jsx("img",{src:t.photoURL,alt:"Foto perfil",style:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover"}})]})]}),v.jsx("button",{className:"btn btn-primary",type:"submit",children:"Guardar Cambios"}),v.jsx("button",{className:"btn btn-secondary",type:"button",onClick:b,style:{marginLeft:"10px"},children:"Cerrar Sesin"})]})]})})},$j=({isRegistering:n=!1})=>{const[e,t]=V.useState(!n),[a,o]=V.useState(""),[u,c]=V.useState(""),[p,g]=V.useState(""),[m,_]=V.useState(""),[b,w]=V.useState(null),[N,j]=V.useState(""),[z,U]=V.useState(""),[$,X]=V.useState(!1),[ie]=$n("userUID",null),[ce]=$n("profile",null),oe=bf(),me=new Di,D=async x=>{x.preventDefault(),U(""),X(!0);try{let R;if(e)R=await $2(Gh,a,u);else{if(!p.trim())throw new Error("El nombre completo es obligatorio.");if(!a.trim())throw new Error("El email es obligatorio.");if(!u)throw new Error("La contrasea es obligatoria.");if(u.length<6)throw new Error("La contrasea debe tener al menos 6 caracteres.");R=await Y2(Gh,a,u);const he={fullName:p.trim(),email:a.trim(),phone:m.trim(),photoURL:N||""};ce(he)}ie(R.user.uid),console.log("Usuario autenticado:",R.user.uid),oe("/dashboard")}catch(R){console.error("Error de autenticacin:",R);let he="Ocurri un error inesperado.";R.code==="auth/user-not-found"?he="No se encontr una cuenta con este email.":R.code==="auth/wrong-password"?he="La contrasea ingresada es incorrecta.":R.code==="auth/invalid-email"?he="El formato del email es invlido.":R.code==="auth/email-already-in-use"?he="Ya existe una cuenta con este email.":R.code==="auth/invalid-credential"&&(he="Credenciales incorrectas. Verifica tu email y contrasea."),U(he||R.message)}finally{X(!1)}},A=async()=>{U(""),X(!0);try{const R=(await gD(Gh,me)).user,he={fullName:R.displayName||"",email:R.email||"",phone:"",photoURL:R.photoURL||""};ce(he),ie(R.uid),console.log("Usuario de Google autenticado:",R.uid),oe("/dashboard")}catch(x){console.error("Error de autenticacin con Google:",x);let R="Ocurri un error al iniciar sesin con Google.";x.code==="auth/popup-closed-by-user"?R="Has cerrado la ventana de inicio de sesin. Intntalo de nuevo.":x.code==="auth/popup-blocked"&&(R="El navegador bloque la ventana emergente. Por favor, permite popups para este sitio."),U(R||x.message)}finally{X(!1)}},I=x=>{const R=x.target.files[0];if(R)if(R.type.startsWith("image/")){const he=URL.createObjectURL(R);j(he),w(R)}else U("Por favor, selecciona un archivo de imagen."),w(null),j("")},P=()=>v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Nombre Completo (obligatorio)"}),v.jsx("input",{type:"text",className:"form-input",value:p,onChange:x=>g(x.target.value),required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Email (obligatorio)"}),v.jsx("input",{type:"email",className:"form-input",value:a,onChange:x=>o(x.target.value),required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Contrasea (obligatorio, mnimo 6 caracteres)"}),v.jsx("input",{type:"password",className:"form-input",value:u,onChange:x=>c(x.target.value),required:!0,minLength:"6"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Telfono (opcional)"}),v.jsx("input",{type:"tel",className:"form-input",value:m,onChange:x=>_(x.target.value)})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Foto de Perfil (opcional)"}),v.jsx("input",{type:"file",accept:"image/*",onChange:I}),N&&v.jsxs("div",{style:{marginTop:"10px"},children:[v.jsx("p",{children:"Previsualizacin:"}),v.jsx("img",{src:N,alt:"Previsualizacin de perfil",style:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover"}})]})]})]}),O=()=>v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Email"}),v.jsx("input",{type:"email",className:"form-input",value:a,onChange:x=>o(x.target.value),required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{className:"form-label",children:"Contrasea"}),v.jsx("input",{type:"password",className:"form-input",value:u,onChange:x=>c(x.target.value),required:!0})]})]});return v.jsxs("div",{className:"card",style:{maxWidth:"400px",margin:"auto",padding:"32px"},children:[v.jsx("div",{className:"card-header",children:v.jsx("h3",{className:"card-title",children:e?"Iniciar Sesin":"Crear Cuenta"})}),v.jsxs("div",{className:"card-content",children:[z&&v.jsx("p",{style:{color:"var(--error)",marginBottom:"16px"},children:z}),v.jsxs("form",{onSubmit:D,children:[e?O():P(),v.jsx("button",{type:"submit",className:"btn btn-primary",disabled:$,children:$?"Cargando...":e?"Iniciar Sesin":"Crear Cuenta"})]}),v.jsx("div",{style:{marginTop:"16px"},children:v.jsx("button",{className:"btn btn-secondary",onClick:()=>t(!e),children:e?"No tienes cuenta? Regstrate":"Ya tienes cuenta? Inicia sesin"})}),!e&&v.jsxs("div",{style:{marginTop:"16px",textAlign:"center"},children:[v.jsx("p",{style:{marginBottom:"8px"},children:"O crea tu cuenta con:"}),v.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:A,disabled:$,style:{display:"inline-flex",alignItems:"center",justifyContent:"center"},children:[v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",style:{marginRight:"8px"},children:[v.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),v.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),v.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),v.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})]}),e&&v.jsxs("div",{style:{marginTop:"16px",textAlign:"center"},children:[v.jsx("p",{style:{marginBottom:"8px"},children:"O inicia sesin con:"}),v.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:A,disabled:$,style:{display:"inline-flex",alignItems:"center",justifyContent:"center"},children:[v.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",style:{marginRight:"8px"},children:[v.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),v.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),v.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),v.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})]})]})]})},Kj=({isRegistering:n=!1})=>v.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:[v.jsx($j,{isRegistering:n})," "]}),Qj=({activePage:n,setActivePage:e,theme:t,toggleTheme:a,menuOpen:o,setMenuOpen:u,profile:c})=>{const p=Hi();V.useEffect(()=>{const m=p.pathname.slice(1);e(m||"dashboard"),window.innerWidth<=768&&u(!1)},[p,e,u]);const g=[{id:"dashboard",label:"Inicio",icon:v.jsx(a4,{})},{id:"subjects",label:"Materias",icon:v.jsx(Oy,{})},{id:"tasks",label:"Tareas",icon:v.jsx(Xf,{})},{id:"calendar",label:"Calendario",icon:v.jsx(r4,{})},{id:"exams",label:"Exmenes",icon:v.jsx(Wf,{})},{id:"stats",label:"Estadsticas",icon:v.jsx(_f,{})},{id:"profile",label:"Perfil",icon:v.jsx(i0,{})}];return v.jsxs("aside",{className:`navigation-bar ${o?"open":""}`,id:"navigationBar",children:[v.jsxs("div",{className:"logo",children:[v.jsx(i4,{className:"logo-icon"})," ",v.jsx("span",{className:"logo-text",children:"Agenda Digital"})]}),v.jsxs("div",{className:"nav-section",children:[v.jsx("div",{className:"nav-section-title",children:"Principal"}),g.slice(0,3).map(m=>v.jsxs(Bo,{to:`/${m.id}`,className:`nav-item ${n===m.id?"active":""}`,onClick:()=>e(m.id),children:[m.icon," ",m.label]},m.id))]}),v.jsxs("div",{className:"nav-section",children:[v.jsx("div",{className:"nav-section-title",children:"Planificacin"}),g.slice(3,5).map(m=>v.jsxs(Bo,{to:`/${m.id}`,className:`nav-item ${n===m.id?"active":""}`,onClick:()=>e(m.id),children:[m.icon,m.label]},m.id))]}),v.jsxs("div",{className:"nav-section",children:[v.jsx("div",{className:"nav-section-title",children:"Anlisis"}),v.jsxs(Bo,{to:"/stats",className:`nav-item ${n==="stats"?"active":""}`,onClick:()=>e("stats"),children:[v.jsx(_f,{}),"Estadsticas"]})]}),v.jsxs("div",{className:"nav-section",children:[v.jsx("div",{className:"nav-section-title",children:"Cuenta"}),v.jsxs(Bo,{to:"/profile",className:`nav-item ${n==="profile"?"active":""}`,onClick:()=>e("profile"),children:[v.jsx(i0,{}),"Perfil"]})]})]})},Wj=({activePage:n,theme:e,toggleTheme:t})=>{const a={dashboard:"Inicio",subjects:"Materias",tasks:"Tareas",calendar:"Calendario",exams:"Exmenes",stats:"Estadsticas",profile:"Perfil"};return v.jsxs("header",{className:"header",children:[v.jsx("h1",{className:"page-title",id:"pageTitle",children:a[n]||"Agenda Digital"}),v.jsx("div",{className:"user-actions",children:v.jsxs("button",{className:"theme-toggle",id:"themeToggle",onClick:t,children:[e==="dark"?v.jsx(u4,{}):v.jsx(o4,{})," "]})})]})},Xj=({onAddTask:n,onAddSubject:e,onAddExam:t})=>{const[a,o]=V.useState(!1),u=()=>{o(!a)},c=p=>{p(),o(!1)};return v.jsxs("div",{className:"fab-container",children:[v.jsx("button",{className:"fab",onClick:u,children:v.jsx(k1,{})}),v.jsxs("div",{className:`fab-menu ${a?"open":""}`,children:[v.jsxs("button",{className:"fab-menu-item",onClick:()=>c(n),children:[v.jsx(Xf,{}),v.jsx("span",{className:"fab-menu-item-label",children:"Tarea"})]}),v.jsxs("button",{className:"fab-menu-item",onClick:()=>c(e),children:[v.jsx(Oy,{}),v.jsx("span",{className:"fab-menu-item-label",children:"Materia"})]}),v.jsxs("button",{className:"fab-menu-item",onClick:()=>c(t),children:[v.jsx(Wf,{}),v.jsx("span",{className:"fab-menu-item-label",children:"Examen"})]})]})]})};function Zj(){const[n,e]=V.useState("dashboard"),[t,a]=$n("theme","light"),[o,u]=V.useState(!1),[c,p]=V.useState(!1),[g,m]=V.useState(!1),[_,b]=V.useState(!1);QP();const[w]=$n("userUID",null),[N]=$n("profile",{fullName:"Usuario",email:"",phone:"",photoURL:""}),j=()=>{a(O=>O==="dark"?"light":"dark")},z=()=>{u(!o)};V.useEffect(()=>{t==="dark"?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme")},[t]),V.useEffect(()=>{const O=x=>{const R=document.getElementById("navigationBar"),he=document.getElementById("menuToggle");window.innerWidth<=768&&o&&R&&he&&!R.contains(x.target)&&!he.contains(x.target)&&u(!1)};return document.addEventListener("click",O),()=>{document.removeEventListener("click",O)}},[o]);const U=()=>p(!1),$=()=>m(!1),X=()=>b(!1),ie=()=>p(!0),ce=()=>m(!0),oe=()=>b(!0),me=async O=>{w&&(await ks(wt(He,"users",w,"tasks"),{completed:!1,...O}),p(!1))},D=async O=>{if(!w||!O){m(!1);return}await ks(wt(He,"users",w,"subjects"),O),m(!1)},A=async O=>{w&&(await ks(wt(He,"users",w,"exams"),{preparation:0,...O}),b(!1))},[I,P]=V.useState([]);return V.useEffect(()=>{if(!w)return;const O=Vi(wt(He,"users",w,"subjects"),x=>{const R=x.docs.map(he=>({id:he.id,...he.data()}));P(R)});return()=>O()},[w]),v.jsxs("div",{className:"app-container",children:[v.jsxs("button",{className:`menu-toggle ${o?"hidden":""}`,id:"menuToggle",onClick:z,children:[v.jsx(s4,{})," "]}),v.jsx(Qj,{activePage:n,setActivePage:e,theme:t,toggleTheme:j,menuOpen:o,setMenuOpen:u,profile:N}),v.jsxs("main",{className:"main-content",id:"mainContent",children:[v.jsx(Wj,{activePage:n,theme:t,toggleTheme:j}),v.jsx("div",{id:"pageContent",children:v.jsxs(N0,{children:[v.jsx(Nr,{path:"/",element:v.jsx(E0,{})}),v.jsx(Nr,{path:"/dashboard",element:v.jsx(E0,{})}),v.jsx(Nr,{path:"/subjects",element:v.jsx(zj,{})}),v.jsx(Nr,{path:"/tasks",element:v.jsx(qj,{})}),v.jsx(Nr,{path:"/calendar",element:v.jsx(Fj,{})}),v.jsx(Nr,{path:"/exams",element:v.jsx(Hj,{})}),v.jsx(Nr,{path:"/stats",element:v.jsx(Gj,{})}),v.jsx(Nr,{path:"/profile",element:v.jsx(Yj,{})})]})}),v.jsx(Xj,{onAddTask:ie,onAddSubject:ce,onAddExam:oe}),c&&v.jsx(fr,{title:"Nueva Tarea",onClose:U,children:v.jsx(Zf,{onSubmit:me,subjects:I})}),g&&v.jsx(fr,{title:"Nueva Materia",onClose:$,children:v.jsx(M1,{onSubmit:D})}),_&&v.jsx(fr,{title:"Nuevo Examen",onClose:X,children:v.jsx(Jf,{onSubmit:A,subjects:I})})]})]})}function Jj(){const[n,e]=$n("userUID",null),[t,a]=V.useState(!0);return V.useEffect(()=>{const o=Ew(Gh,u=>{e(u?u.uid:null),a(!1)});return()=>o()},[e]),t?v.jsx("div",{className:"loading",children:"Cargando..."}):v.jsx(rx,{children:v.jsxs(N0,{children:[v.jsx(Nr,{path:"/auth",element:n?v.jsx(yT,{to:"/dashboard"}):v.jsx(Kj,{})}),v.jsx(Nr,{path:"/*",element:n?v.jsx(Zj,{}):v.jsx(yT,{to:"/auth"})})]})})}GR.createRoot(document.getElementById("root")).render(v.jsx(Ca.StrictMode,{children:v.jsx(Jj,{})}));
